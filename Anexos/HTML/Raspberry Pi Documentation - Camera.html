<!DOCTYPE html>
<!-- saved from url=(0014)about:internet -->
<html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Raspberry Pi Documentation - Camera</title>
<meta name="description" content="The official documentation for Raspberry Pi computers and microcontrollers">
<meta property="og:title" content="Raspberry Pi Documentation - Camera">
<meta property="og:description" content="The official documentation for Raspberry Pi computers and microcontrollers">
<meta property="og:url" content="https://www.raspberrypi.com/documentation/accessories/camera.html">
<meta property="og:image" content="https://www.raspberrypi.com/documentation/images/opensocial.png">
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:site" content="@Raspberry_Pi">
<meta name="twitter:title" content="Raspberry Pi Documentation - Camera">
<meta name="twitter:description" content="The official documentation for Raspberry Pi computers and microcontrollers">
<link rel="preconnect" href="https://fonts.googleapis.com/">
<link rel="preconnect" href="https://fonts.gstatic.com/">
<link href="./Raspberry Pi Documentation - Camera_files/css2" rel="stylesheet">
<link rel="preconnect" href="https://ihwgntj1np-dsn.algolia.net/" crossorigin="">
<link rel="stylesheet" href="./Raspberry Pi Documentation - Camera_files/css@alpha">
<link rel="stylesheet" href="./Raspberry Pi Documentation - Camera_files/style.css">
<link rel="stylesheet" href="./Raspberry Pi Documentation - Camera_files/tabs.css">
<script async="" src="./Raspberry Pi Documentation - Camera_files/js"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'UA-180927933-8', { 'anonymize_ip': true });
</script>
 
  </head>
  <body>
    <style>
#__rptl-header {
  margin: 0;
  padding: 0;
  border: 0;
  line-height: 1;
  font-family: "Roboto", sans-serif;
  font-size: medium;
  font-weight: 400;
  text-rendering: optimizeLegibility;
  -webkit-text-size-adjust: 100%;
     -moz-text-size-adjust: 100%;
          text-size-adjust: 100%;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  position: relative;
  z-index: 100;
}
#__rptl-header .__rptl-header-wrapper {
  margin: 0;
  padding: 0;
  border: 0;
  box-sizing: border-box;
  max-width: 1300px;
  margin-left: auto;
  margin-right: auto;
  position: relative;
}
#__rptl-header .__rptl-header-navbar {
  margin: 0;
  padding: 0;
  border: 0;
  box-sizing: border-box;
  position: relative;
  z-index: 1;
  background-color: #fff;
  border-bottom: 1px solid #dedede;
  width: 100%;
  padding: 16px;
}
@media (min-width: 800px) {
  #__rptl-header .__rptl-header-navbar {
    padding: 16px 76px;
  }
}
@media (min-width: 1200px) {
  #__rptl-header .__rptl-header-navbar {
    padding: 16px 84px;
    border-bottom-style: none;
  }
}
#__rptl-header .__rptl-header-brand {
  margin: 0;
  padding: 0;
  border: 0;
  text-decoration: none;
  box-sizing: border-box;
  display: inline-block;
  vertical-align: middle;
}
#__rptl-header .__rptl-header-logo {
  margin: 0;
  padding: 0;
  border: 0;
  box-sizing: border-box;
  display: block;
  vertical-align: middle;
}
#__rptl-header .__rptl-header-burger {
  margin: 0;
  padding: 0;
  border: 0;
  box-sizing: border-box;
  width: 30px;
  height: 30px;
  transform: rotate(0deg);
  cursor: pointer;
  position: absolute;
  top: 0;
  bottom: 0;
  right: 0;
  margin-top: auto;
  margin-bottom: auto;
}
@media (min-width: 1200px) {
  #__rptl-header .__rptl-header-burger {
    display: none;
  }
}
@media (prefers-reduced-motion: no-preference) {
  #__rptl-header .__rptl-header-burger {
    transition: 0.5s ease-in-out;
  }
}
#__rptl-header .__rptl-header-burger-stroke {
  margin: 0;
  padding: 0;
  border: 0;
  box-sizing: border-box;
  position: absolute;
  left: 0;
  height: 2px;
  width: 100%;
  background: #707070;
  border-radius: 9px;
  transform: rotate(0deg);
}
#__rptl-header .__rptl-header-burger-stroke:nth-child(1) {
  top: 0;
  transform-origin: left center;
}
#__rptl-header .__rptl-header-burger-stroke:nth-child(2) {
  top: 14px;
  transform-origin: left center;
}
#__rptl-header .__rptl-header-burger-stroke:nth-child(3) {
  top: 28px;
  transform-origin: left center;
}
@media (prefers-reduced-motion: no-preference) {
  #__rptl-header .__rptl-header-burger-stroke {
    transition: 0.25s ease-in-out;
  }
}
#__rptl-header .__rptl-header-burger-state {
  display: none;
}
#__rptl-header .__rptl-header-burger-state:checked + .__rptl-header-navbar .__rptl-header-burger-stroke:nth-child(1) {
  transform: rotate(45deg);
  top: 4.5px;
  left: 4.5px;
}
#__rptl-header .__rptl-header-burger-state:checked + .__rptl-header-navbar .__rptl-header-burger-stroke:nth-child(2) {
  width: 0;
  opacity: 0;
}
#__rptl-header .__rptl-header-burger-state:checked + .__rptl-header-navbar .__rptl-header-burger-stroke:nth-child(3) {
  transform: rotate(-45deg);
  top: 25.5px;
  left: 4.5px;
}
#__rptl-header .__rptl-header-burger-state:checked ~ .__rptl-header-nav {
  transform: translateY(100%);
  transition-duration: 500ms;
  transition-timing-function: ease-out;
}
#__rptl-header .__rptl-header-nav {
  margin: 0;
  padding: 0;
  border: 0;
  font: inherit;
  font-size: 100%;
  display: block;
  box-sizing: border-box;
  position: absolute;
  bottom: 0;
  background-color: #fff;
  width: 100%;
  border-bottom: 1px solid #dedede;
}
#__rptl-header .__rptl-header-nav:focus-within {
  transform: translateY(100%);
}
@media (min-width: 1200px) {
  #__rptl-header .__rptl-header-nav {
    position: static;
    padding: 0 84px;
    background-color: #f7f8fa;
    transform: none !important;
    transition: none !important;
  }
}
@media (prefers-reduced-motion: no-preference) {
  #__rptl-header .__rptl-header-nav {
    transition: transform 0.25s ease-in;
  }
}
#__rptl-header .__rptl-header-nav-inner {
  margin: 0;
  padding: 0;
  border: 0;
  font: inherit;
  font-size: 100%;
  display: block;
  box-sizing: border-box;
}
@media (min-width: 1200px) {
  #__rptl-header .__rptl-header-nav-inner {
    display: flex;
    justify-content: space-between;
    flex-direction: row;
  }
}
#__rptl-header .__rptl-header-nav-list {
  margin: 0;
  padding: 0;
  border: 0;
  font: inherit;
  font-size: 100%;
  list-style: none;
  display: block;
  box-sizing: border-box;
}
#__rptl-header .__rptl-header-nav-list:first-child .__rptl-header-nav-list-item:first-child {
  border: 0;
}
#__rptl-header .__rptl-header-nav-list-item {
  margin: 0;
  padding: 0;
  border: 0;
  font: inherit;
  font-size: 100%;
  display: block;
  box-sizing: border-box;
  border-top: 1px solid #dedede;
}
@media (min-width: 1200px) {
  #__rptl-header .__rptl-header-nav-list-item {
    display: inline-block;
    border-style: none;
  }
}
#__rptl-header .__rptl-header-nav-link {
  margin: 0;
  padding: 0;
  border: 0;
  font: inherit;
  display: block;
  text-decoration: none;
  box-sizing: border-box;
  color: #333;
  font-size: 1.65em;
  padding: 16px;
}
#__rptl-header .__rptl-header-nav-link:hover {
  color: #fff;
  background-color: #333;
}
#__rptl-header .__rptl-header-nav-link--for-home {
  color: #cd2355;
  font-weight: 700;
}
#__rptl-header .__rptl-header-nav-link--for-home:hover {
  background-color: #cd2355;
}
#__rptl-header .__rptl-header-nav-link--for-industry {
  font-weight: 700;
}
@media (min-width: 800px) {
  #__rptl-header .__rptl-header-nav-link {
    padding: 16px 76px;
  }
}
@media (min-width: 1200px) {
  #__rptl-header .__rptl-header-nav-link {
    font-size: 1em;
    padding: 16px;
  }
}
</style>
<header id="__rptl-header">
  <input type="checkbox" class="__rptl-header-burger-state" id="__rptl-header-burger-state">

  <div class="__rptl-header-navbar">
    <div class="__rptl-header-wrapper">
      <a href="https://www.raspberrypi.com/" class="__rptl-header-brand" aria-label="Raspberry Pi">
        <svg class="__rptl-header-logo" aria-hidden="true" focusable="false" height="44" viewBox="0 0 270 57" xmlns="http://www.w3.org/2000/svg" aria-labelledby="__rptl-header-logo"><title id="__rptl-header-logo">Raspberry Pi</title><g fill-rule="nonzero" fill="none"><path d="M65.275 33.317h-4.477v9.46c0 .29-.235.526-.525.526h-4.57a.525.525 0 0 1-.526-.525V16.55a.525.525 0 0 1 .525-.525h9.61c3.223 0 5.709.718 7.457 2.154a7.437 7.437 0 0 1 2.623 6.09 8.391 8.391 0 0 1-1.208 4.655 8.24 8.24 0 0 1-3.663 2.97l5.635 10.638a.525.525 0 0 1-.464.77h-4.917a.63.63 0 0 1-.56-.342l-4.94-9.643Zm-4.477-4.552h4.534a4.641 4.641 0 0 0 3.278-1.078 3.85 3.85 0 0 0 1.162-2.97 4.122 4.122 0 0 0-1.096-3.034 4.556 4.556 0 0 0-3.363-1.106h-4.515v8.188ZM90.426 42.997a6.562 6.562 0 0 1-.402-1.511 6.551 6.551 0 0 1-5.114 2.192 7.195 7.195 0 0 1-4.937-1.724 5.542 5.542 0 0 1-1.958-4.347 5.73 5.73 0 0 1 2.389-4.946c1.592-1.148 3.894-1.73 6.904-1.742h2.491v-1.162a3.342 3.342 0 0 0-.72-2.248 2.838 2.838 0 0 0-2.277-.843 3.226 3.226 0 0 0-2.145.656 2.13 2.13 0 0 0-.748 1.37.513.513 0 0 1-.513.428h-4.375a.533.533 0 0 1-.524-.596 5.494 5.494 0 0 1 1.054-2.663 7.184 7.184 0 0 1 3.073-2.352 11.2 11.2 0 0 1 4.459-.852 8.848 8.848 0 0 1 5.948 1.883 6.587 6.587 0 0 1 2.202 5.292v8.787a9.948 9.948 0 0 0 .629 3.93.525.525 0 0 1-.47.754h-4.485a.515.515 0 0 1-.48-.306Zm-4.336-3.46c.77.007 1.529-.176 2.21-.534a3.509 3.509 0 0 0 1.5-1.433v-3.485h-2.024c-2.71 0-4.153.937-4.328 2.81l-.019.319a2.166 2.166 0 0 0 .712 1.667 2.764 2.764 0 0 0 1.949.656ZM109.963 37.701a1.745 1.745 0 0 0-.983-1.564 11.18 11.18 0 0 0-3.157-1.021c-4.822-1.012-7.232-3.06-7.232-6.145a5.57 5.57 0 0 1 2.24-4.506 9.031 9.031 0 0 1 5.854-1.808 9.723 9.723 0 0 1 6.173 1.817 5.699 5.699 0 0 1 2.292 4.175.52.52 0 0 1-.525.546h-4.382a.514.514 0 0 1-.514-.435 2.538 2.538 0 0 0-.721-1.485 3.172 3.172 0 0 0-2.342-.759 3.24 3.24 0 0 0-2.117.619c-.483.377-.76.96-.75 1.573.001.603.327 1.158.853 1.452a8.76 8.76 0 0 0 2.876.956 23.54 23.54 0 0 1 3.41.908c2.86 1.05 4.29 2.867 4.29 5.452a5.288 5.288 0 0 1-2.38 4.487 10.264 10.264 0 0 1-6.145 1.715c-1.556.029-3.1-.281-4.524-.91a7.586 7.586 0 0 1-3.1-2.49 5.853 5.853 0 0 1-1.094-2.824.533.533 0 0 1 .523-.596h4.11a.513.513 0 0 1 .513.418c.091.71.46 1.354 1.024 1.793a4.233 4.233 0 0 0 2.66.768c.827.057 1.65-.15 2.352-.59.508-.35.807-.93.796-1.546ZM136.719 33.355a12.159 12.159 0 0 1-2.127 7.503 6.817 6.817 0 0 1-5.742 2.82 6.315 6.315 0 0 1-4.965-2.136v9.03c0 .29-.235.525-.525.525h-4.364a.525.525 0 0 1-.525-.525V23.557a.525.525 0 0 1 .525-.525h4.018c.27 0 .497.206.523.475l.142 1.51a6.363 6.363 0 0 1 5.134-2.36 6.865 6.865 0 0 1 5.826 2.773c1.387 1.848 2.08 4.396 2.08 7.644v.28Zm-5.415-.394a7.982 7.982 0 0 0-1.002-4.365 3.266 3.266 0 0 0-2.913-1.536 3.546 3.546 0 0 0-3.504 1.948v8.3a3.605 3.605 0 0 0 3.541 2.004c2.586 0 3.878-2.117 3.878-6.35ZM158.159 33.355c0 3.247-.694 5.78-2.08 7.597a6.889 6.889 0 0 1-5.808 2.726 6.329 6.329 0 0 1-5.264-2.53l-.191 1.689a.525.525 0 0 1-.522.466h-3.877a.525.525 0 0 1-.525-.525V15.05c0-.29.235-.525.525-.525h4.364a.525.525 0 0 1 .525.525v9.798a6.166 6.166 0 0 1 4.928-2.192 6.945 6.945 0 0 1 5.817 2.726c1.405 1.817 2.108 4.374 2.108 7.672v.3Zm-5.415-.394a8.068 8.068 0 0 0-.974-4.487 3.295 3.295 0 0 0-2.904-1.414 3.572 3.572 0 0 0-3.56 2.117v8a3.62 3.62 0 0 0 3.597 2.135c1.626.093 3.081-.999 3.448-2.585.31-1.23.442-2.498.393-3.766ZM170.555 43.678a9.95 9.95 0 0 1-7.26-2.736 9.722 9.722 0 0 1-2.8-7.288v-.524a12.247 12.247 0 0 1 1.18-5.461 8.666 8.666 0 0 1 3.344-3.71 9.387 9.387 0 0 1 4.936-1.302 8.413 8.413 0 0 1 6.548 2.623c1.593 1.749 2.39 4.228 2.39 7.438v1.685a.525.525 0 0 1-.526.525h-12.383a5.028 5.028 0 0 0 1.583 3.185 4.785 4.785 0 0 0 3.344 1.2 5.886 5.886 0 0 0 4.524-1.837.527.527 0 0 1 .773.026l1.964 2.198c.17.188.182.47.028.672a8.216 8.216 0 0 1-3.036 2.34 10.82 10.82 0 0 1-4.609.966Zm-.618-16.656a3.382 3.382 0 0 0-2.614 1.092 5.65 5.65 0 0 0-1.283 3.124h7.531v-.433a4.034 4.034 0 0 0-.974-2.795 3.492 3.492 0 0 0-2.66-.988ZM193.333 27.525a.523.523 0 0 1-.575.515c-.459-.051-.92-.078-1.382-.081-2.049 0-3.391.693-4.028 2.08v12.739a.525.525 0 0 1-.525.525h-4.364a.525.525 0 0 1-.525-.525V23.557a.525.525 0 0 1 .525-.525h4.096c.277 0 .507.215.524.492l.12 1.924a5.017 5.017 0 0 1 4.514-2.791c.434-.002.867.044 1.29.138a.515.515 0 0 1 .39.515l-.06 4.215ZM207.017 27.525a.523.523 0 0 1-.575.515c-.459-.051-.92-.078-1.382-.081-2.048 0-3.39.693-4.028 2.08v12.739a.525.525 0 0 1-.525.525h-4.364a.525.525 0 0 1-.525-.525V23.557a.525.525 0 0 1 .525-.525h4.096c.277 0 .507.215.524.492l.12 1.924a5.018 5.018 0 0 1 4.514-2.791c.434-.002.867.044 1.29.138a.515.515 0 0 1 .39.515l-.06 4.215ZM217.934 35.64l3.635-12.233a.525.525 0 0 1 .504-.375h4.677a.525.525 0 0 1 .496.697l-7.907 22.721-.45 1.068a6.18 6.18 0 0 1-5.995 3.972 8.368 8.368 0 0 1-2.003-.25.529.529 0 0 1-.395-.513v-3.15a.525.525 0 0 1 .546-.524l.538.02a3.442 3.442 0 0 0 2.035-.492 3.08 3.08 0 0 0 1.19-1.555l.637-1.667-6.857-19.63a.525.525 0 0 1 .496-.697h4.696c.232 0 .437.152.503.374l3.654 12.234ZM245.156 33.692v9.086c0 .29-.235.525-.525.525h-4.57a.525.525 0 0 1-.526-.525V16.55a.525.525 0 0 1 .525-.525h10.117a12.31 12.31 0 0 1 5.405 1.124 8.284 8.284 0 0 1 3.587 3.194 8.91 8.91 0 0 1 1.256 4.712 7.833 7.833 0 0 1-2.745 6.323c-1.83 1.543-4.362 2.314-7.597 2.314h-4.927Zm0-4.553h5.02a4.934 4.934 0 0 0 3.401-1.049 3.816 3.816 0 0 0 1.171-2.998 4.5 4.5 0 0 0-1.18-3.24 4.41 4.41 0 0 0-3.26-1.275h-5.152v8.562ZM263.081 17.786a2.666 2.666 0 0 1 .815-2.005 3.512 3.512 0 0 1 4.431 0 2.86 2.86 0 0 1-.01 4.028 3.473 3.473 0 0 1-4.402 0 2.66 2.66 0 0 1-.834-2.023Zm5.227 25.517h-4.383a.525.525 0 0 1-.525-.525V23.557a.525.525 0 0 1 .525-.525h4.383a.525.525 0 0 1 .525.525v19.22a.525.525 0 0 1-.525.526ZM45.008 32.949a8.74 8.74 0 0 0-3.104-6.182 7.664 7.664 0 0 0-1.44-2.801 8.594 8.594 0 0 0-3.058-5.777c.284-.244.524-.536.708-.862a6.186 6.186 0 0 0 3.63-4.23 5.558 5.558 0 0 0 1.755-3.64 3.481 3.481 0 0 0-.31-1.638 3.114 3.114 0 0 0 .81-3.215c-.606-1.756-2.73-2.896-5.584-3.017a4.497 4.497 0 0 0-3.11-1.065 7.188 7.188 0 0 0-1.678.207 3.821 3.821 0 0 0-1.65-.334 6.458 6.458 0 0 0-3.148.858 2.894 2.894 0 0 0-.38-.025 6.276 6.276 0 0 0-3.551 1.558 10.765 10.765 0 0 0-1.866 1.944 10.768 10.768 0 0 0-1.867-1.944 6.278 6.278 0 0 0-3.55-1.558c-.127 0-.254.008-.38.025a6.46 6.46 0 0 0-3.148-.858 3.822 3.822 0 0 0-1.65.334 7.188 7.188 0 0 0-1.68-.207 4.498 4.498 0 0 0-3.109 1.065c-2.854.12-4.978 1.261-5.585 3.018a3.114 3.114 0 0 0 .812 3.214 3.482 3.482 0 0 0-.31 1.639 5.557 5.557 0 0 0 1.755 3.64 6.186 6.186 0 0 0 3.63 4.229c.183.326.423.618.707.862A8.594 8.594 0 0 0 5.6 23.966a7.663 7.663 0 0 0-1.44 2.801 8.74 8.74 0 0 0-3.104 6.182 8.424 8.424 0 0 0 1.92 6.578c.26 1.31.8 2.549 1.581 3.632a9.452 9.452 0 0 0 2.386 5.514 9.768 9.768 0 0 0 5.262 3.126 12.74 12.74 0 0 0 4.208 2.605 9.763 9.763 0 0 0 13.24 0c1.559-.585 2.988-1.47 4.207-2.605a9.768 9.768 0 0 0 5.262-3.126 9.452 9.452 0 0 0 2.386-5.514 9.311 9.311 0 0 0 1.582-3.632 8.424 8.424 0 0 0 1.919-6.578Z" fill="#000"></path><path d="M28.366 4.192a.225.225 0 0 1 .286.24c-.072.672.335.587.432.468a3.526 3.526 0 0 1 3.188-1.53.225.225 0 0 1 .154.363c-.4.593.03.706.19.6 1.631-1.02 3.187-1.023 3.785-.594a.225.225 0 0 1 .013.349c-.604.514-.266.77-.052.692a5.802 5.802 0 0 1 4.74.607.227.227 0 0 1 .006.343 4.493 4.493 0 0 0-1.73 3.018c-.045.396.614.313.891.241a.225.225 0 0 1 .28.21c.026.954-.876 2.002-2.218 2.898-.18.12-.154.408.256.42a.222.222 0 0 1 .191.334c-.478.888-1.13 1.724-3.345 2.298a.227.227 0 0 0-.032.429.217.217 0 0 1 .071.384c-2.207 1.896-7.8 1.148-8.51-2.043a.224.224 0 0 1 .04-.182 21.262 21.262 0 0 1 9.276-7.058.176.176 0 0 0-.087-.34 15.168 15.168 0 0 0-10.074 6.074.227.227 0 0 1-.289.065c-3.585-1.851-.64-7.317 2.538-8.286ZM7.285 12.85a.222.222 0 0 1 .191-.334c.41-.01.436-.299.256-.419C6.39 11.201 5.49 10.153 5.514 9.2a.225.225 0 0 1 .28-.21c.278.072.936.155.891-.241a4.493 4.493 0 0 0-1.73-3.017.227.227 0 0 1 .006-.344 5.802 5.802 0 0 1 4.74-.607c.214.079.552-.178-.052-.692a.225.225 0 0 1 .014-.35c.597-.428 2.153-.426 3.785.594.159.107.589-.006.19-.599a.225.225 0 0 1 .153-.363A3.526 3.526 0 0 1 16.98 4.9c.096.12.503.204.432-.469a.225.225 0 0 1 .286-.239c3.178.97 6.122 6.435 2.537 8.286a.227.227 0 0 1-.289-.065A15.168 15.168 0 0 0 9.873 6.34a.176.176 0 0 0-.088.34 21.262 21.262 0 0 1 9.276 7.057c.04.052.054.119.04.183-.71 3.19-6.303 3.938-8.51 2.042a.217.217 0 0 1 .071-.384.227.227 0 0 0-.031-.429c-2.216-.574-2.867-1.41-3.346-2.298Z" fill="#46AF4B"></path><path d="M37.158 22.605c.92 2.446.203 3.622-1.978 2.377a15.632 15.632 0 0 1-4.58-3.84c-1.644-1.952-.576-2.821 2.012-2.352a6.985 6.985 0 0 1 4.546 3.815ZM27.375 19.853c3.12 2.593-.454 4.428-4.343 4.428-3.89 0-7.463-1.835-4.344-4.428a6.935 6.935 0 0 1 8.687 0ZM8.906 22.605a6.985 6.985 0 0 1 4.545-3.815c2.588-.47 3.656.4 2.013 2.352a15.632 15.632 0 0 1-4.58 3.84c-2.182 1.245-2.898.069-1.978-2.377ZM4.394 36.196a6.983 6.983 0 0 1 .518-5.942c1.153-1.96 2.313-1.883 2.773-.222.585 2.29.373 4.712-.6 6.867-.854 1.696-1.921 1.123-2.691-.703ZM12.704 48.896A6.942 6.942 0 0 1 7.482 42.7c.433-10.066 14.94 7.91 5.222 6.196ZM12.999 36.358c-2.433-1.404-3.077-4.844-1.438-7.682 1.639-2.839 4.94-4 7.372-2.596 2.433 1.404 3.077 4.844 1.438 7.682-1.639 2.839-4.94 4-7.372 2.596ZM27.091 52.737a6.947 6.947 0 0 1-8.119 0c-2.41-1.664.015-3.58 4.06-3.58s6.47 1.916 4.06 3.58Z" fill="#CD2355"></path><ellipse fill="#CD2355" cx="23.032" cy="41.795" rx="5.647" ry="4.84"></ellipse><path d="M25.692 33.762c-1.639-2.838-.995-6.278 1.438-7.682 2.433-1.405 5.734-.243 7.372 2.596 1.64 2.838.995 6.278-1.438 7.682-2.432 1.405-5.733.243-7.372-2.596ZM33.36 48.896C23.64 50.61 38.149 32.634 38.58 42.7a6.941 6.941 0 0 1-5.221 6.196ZM41.67 36.196c-.77 1.826-1.838 2.399-2.691.703a10.417 10.417 0 0 1-.6-6.867c.46-1.66 1.62-1.739 2.772.222a6.983 6.983 0 0 1 .518 5.942Z" fill="#CD2355"></path></g></svg>
      </a>

      <label class="__rptl-header-burger" for="__rptl-header-burger-state">
        <span class="__rptl-header-burger-stroke"></span>
        <span class="__rptl-header-burger-stroke"></span>
        <span class="__rptl-header-burger-stroke"></span>
      </label>
    </div>
  </div>

  <nav class="__rptl-header-nav">
    <div class="__rptl-header-wrapper">
      <div class="__rptl-header-nav-inner">
        <ul class="__rptl-header-nav-list">
          <li class="__rptl-header-nav-list-item"><a href="https://www.raspberrypi.com/for-home/" class="__rptl-header-nav-link __rptl-header-nav-link--for-home">For home</a>
          </li><li class="__rptl-header-nav-list-item"><a href="https://www.raspberrypi.com/for-industry/" class="__rptl-header-nav-link __rptl-header-nav-link--for-industry">For industry</a>
        </li></ul>
        <ul class="__rptl-header-nav-list">
          <li class="__rptl-header-nav-list-item"><a href="https://www.raspberrypi.com/products/" class="__rptl-header-nav-link">Hardware</a>
          </li><li class="__rptl-header-nav-list-item"><a href="https://www.raspberrypi.com/software/" class="__rptl-header-nav-link">Software</a>
          </li><li class="__rptl-header-nav-list-item"><a href="https://www.raspberrypi.com/documentation/" class="__rptl-header-nav-link">Documentation</a>
          </li><li class="__rptl-header-nav-list-item"><a href="https://www.raspberrypi.com/news/" class="__rptl-header-nav-link">News</a>
          </li><li class="__rptl-header-nav-list-item"><a href="https://forums.raspberrypi.com/" class="__rptl-header-nav-link">Forums</a>
          </li><li class="__rptl-header-nav-list-item"><a href="https://www.raspberrypi.org/" class="__rptl-header-nav-link " rel="noopener">Foundation</a>
        </li></ul>
      </div>
    </div>
  </nav>
</header>
<script>
  (function() {
    var header = document.getElementById("__rptl-header"),
        burgerState = document.getElementById("__rptl-header-burger-state");

    document.addEventListener("click", function (e) {
      if (!header.contains(e.target)) {
        burgerState.checked = false;
      }
    });
  })();
</script>
      
    <div class="toptitle">
  <div name="raspberry-pi-documentation" data-unique="raspberry-pi-documentation"></div><h1><a href="https://www.raspberrypi.com/documentation/"><strong>Raspberry Pi</strong> Documentation</a></h1>
  <div id="docsearch"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"><span class="DocSearch-Button-Key"><svg width="15" height="15" class="DocSearch-Control-Key-Icon"><path d="M4.505 4.496h2M5.505 5.496v5M8.216 4.496l.055 5.993M10 7.5c.333.333.5.667.5 1v2M12.326 4.5v5.996M8.384 4.496c1.674 0 2.116 0 2.116 1.5s-.442 1.5-2.116 1.5M3.205 9.303c-.09.448-.277 1.21-1.241 1.203C1 10.5.5 9.513.5 8V7c0-1.57.5-2.5 1.464-2.494.964.006 1.134.598 1.24 1.342M12.553 10.5h1.953" stroke-width="1.2" stroke="currentColor" fill="none" stroke-linecap="square"></path></svg></span><span class="DocSearch-Button-Key">K</span></span></button></div>
</div>

    <div id="tab-menu">
  <nav>
    <ul id="tab-container">
      
        
        <li>
          
          <a href="https://www.raspberrypi.com/documentation/computers/">Computers</a>
        </li>
      
        
        <li class="selected">
          
          <a href="https://www.raspberrypi.com/documentation/accessories/">Accessories</a>
        </li>
      
        
        <li>
          
          <a href="https://www.raspberrypi.com/documentation/microcontrollers/">Microcontrollers</a>
        </li>
      
    </ul>
  </nav>
</div>


    <div id="container">
      <nav id="mobile-contents">





  
    <div class="mobile-contents-menu" onclick="expandAndCollapseMobile(this)">
      <span class="mobile-contents-line"></span>
      <span class="mobile-contents-line"></span>
      <span class="mobile-contents-line"></span>
    </div>
    <div class="contents-inner hidden">
    
      <h3 class="contentshead">Camera</h3>
      
        <div class="itemcontents hidden">
          <ul class="sectlevel1">
            
              <li>
                <a href="https://www.raspberrypi.com/documentation/accessories/camera.html#introducing-the-raspberry-pi-cameras">Introducing the Raspberry Pi Cameras</a>
                
                  <ul>
                    
                      <li>
                        <a href="https://www.raspberrypi.com/documentation/accessories/camera.html#libcamera-and-the-legacy-raspicam-camera-stack">libcamera and the legacy Raspicam camera stack</a>
                      </li>
                    
                  </ul>
                
              </li>
            
              <li>
                <a href="https://www.raspberrypi.com/documentation/accessories/camera.html#camera-modules">Camera Modules</a>
                
                  <ul>
                    
                      <li>
                        <a href="https://www.raspberrypi.com/documentation/accessories/camera.html#installing-a-raspberry-pi-camera">Installing a Raspberry Pi camera</a>
                      </li>
                    
                      <li>
                        <a href="https://www.raspberrypi.com/documentation/accessories/camera.html#preparing-the-software">Preparing the Software</a>
                      </li>
                    
                      <li>
                        <a href="https://www.raspberrypi.com/documentation/accessories/camera.html#hardware-specification">Hardware Specification</a>
                      </li>
                    
                      <li>
                        <a href="https://www.raspberrypi.com/documentation/accessories/camera.html#software-features">Software Features</a>
                      </li>
                    
                      <li>
                        <a href="https://www.raspberrypi.com/documentation/accessories/camera.html#hq-camera-ir-filter-transmission">HQ Camera IR Filter Transmission</a>
                      </li>
                    
                      <li>
                        <a href="https://www.raspberrypi.com/documentation/accessories/camera.html#maximum-exposure-times">Maximum Exposure Times</a>
                      </li>
                    
                      <li>
                        <a href="https://www.raspberrypi.com/documentation/accessories/camera.html#mechanical-drawings">Mechanical Drawings</a>
                      </li>
                    
                      <li>
                        <a href="https://www.raspberrypi.com/documentation/accessories/camera.html#schematics">Schematics</a>
                      </li>
                    
                      <li>
                        <a href="https://www.raspberrypi.com/documentation/accessories/camera.html#raspberry-pi-hq-camera-filter-removal">Raspberry Pi HQ Camera Filter Removal</a>
                      </li>
                    
                  </ul>
                
              </li>
            
              <li>
                <a href="https://www.raspberrypi.com/documentation/accessories/camera.html#libcamera-and-libcamera-apps">libcamera and libcamera-apps</a>
                
                  <ul>
                    
                      <li>
                        <a href="https://www.raspberrypi.com/documentation/accessories/camera.html#introduction">Introduction</a>
                      </li>
                    
                      <li>
                        <a href="https://www.raspberrypi.com/documentation/accessories/camera.html#getting-started">Getting Started</a>
                      </li>
                    
                      <li>
                        <a href="https://www.raspberrypi.com/documentation/accessories/camera.html#libcamera-hello">libcamera-hello</a>
                      </li>
                    
                      <li>
                        <a href="https://www.raspberrypi.com/documentation/accessories/camera.html#libcamera-jpeg">libcamera-jpeg</a>
                      </li>
                    
                      <li>
                        <a href="https://www.raspberrypi.com/documentation/accessories/camera.html#libcamera-still">libcamera-still</a>
                      </li>
                    
                      <li>
                        <a href="https://www.raspberrypi.com/documentation/accessories/camera.html#libcamera-vid">libcamera-vid</a>
                      </li>
                    
                      <li>
                        <a href="https://www.raspberrypi.com/documentation/accessories/camera.html#libcamera-raw">libcamera-raw</a>
                      </li>
                    
                      <li>
                        <a href="https://www.raspberrypi.com/documentation/accessories/camera.html#libcamera-detect">libcamera-detect</a>
                      </li>
                    
                      <li>
                        <a href="https://www.raspberrypi.com/documentation/accessories/camera.html#common-command-line-options">Common Command Line Options</a>
                      </li>
                    
                      <li>
                        <a href="https://www.raspberrypi.com/documentation/accessories/camera.html#still-command-line-options">Still Command Line Options</a>
                      </li>
                    
                      <li>
                        <a href="https://www.raspberrypi.com/documentation/accessories/camera.html#video-command-line-options">Video Command Line Options</a>
                      </li>
                    
                      <li>
                        <a href="https://www.raspberrypi.com/documentation/accessories/camera.html#differences-compared-to-raspicam-apps">Differences compared to Raspicam Apps</a>
                      </li>
                    
                      <li>
                        <a href="https://www.raspberrypi.com/documentation/accessories/camera.html#post-processing">Post-Processing</a>
                      </li>
                    
                      <li>
                        <a href="https://www.raspberrypi.com/documentation/accessories/camera.html#post-processing-with-opencv">Post-Processing with OpenCV</a>
                      </li>
                    
                      <li>
                        <a href="https://www.raspberrypi.com/documentation/accessories/camera.html#post-processing-with-tensorflow-lite">Post-Processing with TensorFlow Lite</a>
                      </li>
                    
                      <li>
                        <a href="https://www.raspberrypi.com/documentation/accessories/camera.html#writing-your-own-post-processing-stages">Writing your own Post-Processing Stages</a>
                      </li>
                    
                      <li>
                        <a href="https://www.raspberrypi.com/documentation/accessories/camera.html#multiple-cameras-usage">Multiple Cameras Usage</a>
                      </li>
                    
                      <li>
                        <a href="https://www.raspberrypi.com/documentation/accessories/camera.html#libcamera-and-libcamera-apps-packages">libcamera and libcamera-apps Packages</a>
                      </li>
                    
                      <li>
                        <a href="https://www.raspberrypi.com/documentation/accessories/camera.html#building-libcamera-and-libcamera-apps">Building libcamera and libcamera-apps</a>
                      </li>
                    
                      <li>
                        <a href="https://www.raspberrypi.com/documentation/accessories/camera.html#understanding-and-writing-your-own-apps">Understanding and Writing your own Apps</a>
                      </li>
                    
                      <li>
                        <a href="https://www.raspberrypi.com/documentation/accessories/camera.html#python-bindings-for-libcamera">Python Bindings for libcamera</a>
                      </li>
                    
                      <li>
                        <a href="https://www.raspberrypi.com/documentation/accessories/camera.html#camera-tuning-and-supporting-3rd-party-sensors">Camera Tuning and supporting 3rd Party Sensors</a>
                      </li>
                    
                      <li>
                        <a href="https://www.raspberrypi.com/documentation/accessories/camera.html#known-issues">Known Issues</a>
                      </li>
                    
                      <li>
                        <a href="https://www.raspberrypi.com/documentation/accessories/camera.html#getting-help">Getting Help</a>
                      </li>
                    
                  </ul>
                
              </li>
            
              <li>
                <a href="https://www.raspberrypi.com/documentation/accessories/camera.html#raspicam-commands">Raspicam commands</a>
                
                  <ul>
                    
                      <li>
                        <a href="https://www.raspberrypi.com/documentation/accessories/camera.html#enabling-the-camera">Enabling the Camera</a>
                      </li>
                    
                      <li>
                        <a href="https://www.raspberrypi.com/documentation/accessories/camera.html#raspistill">raspistill</a>
                      </li>
                    
                      <li>
                        <a href="https://www.raspberrypi.com/documentation/accessories/camera.html#raspivid">raspivid</a>
                      </li>
                    
                      <li>
                        <a href="https://www.raspberrypi.com/documentation/accessories/camera.html#raspiyuv">raspiyuv</a>
                      </li>
                    
                      <li>
                        <a href="https://www.raspberrypi.com/documentation/accessories/camera.html#troubleshooting">Troubleshooting</a>
                      </li>
                    
                      <li>
                        <a href="https://www.raspberrypi.com/documentation/accessories/camera.html#command-line-options">Command Line Options</a>
                      </li>
                    
                      <li>
                        <a href="https://www.raspberrypi.com/documentation/accessories/camera.html#application-specific-settings">Application-specific Settings</a>
                      </li>
                    
                      <li>
                        <a href="https://www.raspberrypi.com/documentation/accessories/camera.html#command-line-examples">Command Line Examples</a>
                      </li>
                    
                      <li>
                        <a href="https://www.raspberrypi.com/documentation/accessories/camera.html#shell-error-codes">Shell Error Codes</a>
                      </li>
                    
                      <li>
                        <a href="https://www.raspberrypi.com/documentation/accessories/camera.html#long-exposures">Long Exposures</a>
                      </li>
                    
                      <li>
                        <a href="https://www.raspberrypi.com/documentation/accessories/camera.html#shooting-raw-using-the-camera-modules">Shooting RAW using the Camera Modules</a>
                      </li>
                    
                  </ul>
                
              </li>
            
              <li>
                <a href="https://www.raspberrypi.com/documentation/accessories/camera.html#application-notes">Application Notes</a>
                
                  <ul>
                    
                      <li>
                        <a href="https://www.raspberrypi.com/documentation/accessories/camera.html#creating-timelapse-video">Creating Timelapse Video</a>
                      </li>
                    
                      <li>
                        <a href="https://www.raspberrypi.com/documentation/accessories/camera.html#using-gstreamer">Using Gstreamer</a>
                      </li>
                    
                      <li>
                        <a href="https://www.raspberrypi.com/documentation/accessories/camera.html#using-libcamera-and-qt-together">Using libcamera and Qt together</a>
                      </li>
                    
                  </ul>
                
              </li>
            
              <li>
                <a href="https://www.raspberrypi.com/documentation/accessories/camera.html#v4l2-drivers">V4L2 Drivers</a>
                
                  <ul>
                    
                      <li>
                        <a href="https://www.raspberrypi.com/documentation/accessories/camera.html#driver-differences-when-using-libcamera-or-the-legacy-stack">Driver differences when using libcamera or the legacy stack</a>
                      </li>
                    
                      <li>
                        <a href="https://www.raspberrypi.com/documentation/accessories/camera.html#using-the-driver">Using the Driver</a>
                      </li>
                    
                  </ul>
                
              </li>
            
              <li>
                <a href="https://www.raspberrypi.com/documentation/accessories/camera.html#camera-serial-interface-2-csi2-unicam">Camera Serial Interface 2 (CSI2) "Unicam"</a>
                
                  <ul>
                    
                      <li>
                        <a href="https://www.raspberrypi.com/documentation/accessories/camera.html#software-interfaces">Software Interfaces</a>
                      </li>
                    
                      <li>
                        <a href="https://www.raspberrypi.com/documentation/accessories/camera.html#developing-third-party-drivers">Developing Third-Party Drivers</a>
                      </li>
                    
                  </ul>
                
              </li>
            
          </ul>
        </div>
      
    
      <h3 class="contentshead">Display</h3>
      
        <div class="itemcontents hidden">
          <ul class="sectlevel1">
            
              <li>
                <a href="https://www.raspberrypi.com/documentation/accessories/display.html#raspberry-pi-touch-display">Raspberry Pi Touch Display</a>
                
                  <ul>
                    
                      <li>
                        <a href="https://www.raspberrypi.com/documentation/accessories/display.html#board-support">Board Support</a>
                      </li>
                    
                      <li>
                        <a href="https://www.raspberrypi.com/documentation/accessories/display.html#physical-installation">Physical Installation</a>
                      </li>
                    
                      <li>
                        <a href="https://www.raspberrypi.com/documentation/accessories/display.html#screen-orientation">Screen Orientation</a>
                      </li>
                    
                      <li>
                        <a href="https://www.raspberrypi.com/documentation/accessories/display.html#touchscreen-orientation">Touchscreen Orientation</a>
                      </li>
                    
                      <li>
                        <a href="https://www.raspberrypi.com/documentation/accessories/display.html#troubleshooting">Troubleshooting</a>
                      </li>
                    
                      <li>
                        <a href="https://www.raspberrypi.com/documentation/accessories/display.html#specifications">Specifications</a>
                      </li>
                    
                  </ul>
                
              </li>
            
              <li>
                <a href="https://www.raspberrypi.com/documentation/accessories/display.html#legacy-support">Legacy Support</a>
                
              </li>
            
              <li>
                <a href="https://www.raspberrypi.com/documentation/accessories/display.html#troubleshooting-the-display">Troubleshooting the Display</a>
                
                  <ul>
                    
                      <li>
                        <a href="https://www.raspberrypi.com/documentation/accessories/display.html#tips-and-tricks">Tips and Tricks</a>
                      </li>
                    
                  </ul>
                
              </li>
            
          </ul>
        </div>
      
    
      <h3 class="contentshead">Keyboard &amp; Mouse</h3>
      
        <div class="itemcontents hidden">
          <ul class="sectlevel1">
            
              <li>
                <a href="https://www.raspberrypi.com/documentation/accessories/keyboard-and-mouse.html#getting-started-with-your-keyboard">Getting Started with your Keyboard</a>
                
                  <ul>
                    
                      <li>
                        <a href="https://www.raspberrypi.com/documentation/accessories/keyboard-and-mouse.html#keyboard-features">Keyboard Features</a>
                      </li>
                    
                  </ul>
                
              </li>
            
              <li>
                <a href="https://www.raspberrypi.com/documentation/accessories/keyboard-and-mouse.html#getting-started-with-your-mouse">Getting Started with your Mouse</a>
                
              </li>
            
              <li>
                <a href="https://www.raspberrypi.com/documentation/accessories/keyboard-and-mouse.html#connecting-it-all-together">Connecting it all Together</a>
                
              </li>
            
          </ul>
        </div>
      
    
      <h3 class="contentshead">Build HAT</h3>
      
        <div class="itemcontents hidden">
          <ul class="sectlevel1">
            
              <li>
                <a href="https://www.raspberrypi.com/documentation/accessories/build-hat.html#introducing-the-build-hat">Introducing the Build HAT</a>
                
              </li>
            
              <li>
                <a href="https://www.raspberrypi.com/documentation/accessories/build-hat.html#preparing-your-build-hat">Preparing your Build HAT</a>
                
                  <ul>
                    
                      <li>
                        <a href="https://www.raspberrypi.com/documentation/accessories/build-hat.html#access-the-gpio-pins">Access the GPIO Pins</a>
                      </li>
                    
                      <li>
                        <a href="https://www.raspberrypi.com/documentation/accessories/build-hat.html#setting-up-your-raspberry-pi">Setting up your Raspberry Pi</a>
                      </li>
                    
                      <li>
                        <a href="https://www.raspberrypi.com/documentation/accessories/build-hat.html#powering-the-build-hat">Powering the Build HAT</a>
                      </li>
                    
                  </ul>
                
              </li>
            
              <li>
                <a href="https://www.raspberrypi.com/documentation/accessories/build-hat.html#using-the-build-hat-from-python">Using the Build HAT from Python</a>
                
                  <ul>
                    
                      <li>
                        <a href="https://www.raspberrypi.com/documentation/accessories/build-hat.html#installing-the-python-library">Installing the Python Library</a>
                      </li>
                    
                      <li>
                        <a href="https://www.raspberrypi.com/documentation/accessories/build-hat.html#using-motors-from-python">Using Motors from Python</a>
                      </li>
                    
                      <li>
                        <a href="https://www.raspberrypi.com/documentation/accessories/build-hat.html#using-sensors-from-python">Using Sensors from Python</a>
                      </li>
                    
                  </ul>
                
              </li>
            
              <li>
                <a href="https://www.raspberrypi.com/documentation/accessories/build-hat.html#using-the-build-hat-from-net">Using the Build HAT from .NET</a>
                
                  <ul>
                    
                      <li>
                        <a href="https://www.raspberrypi.com/documentation/accessories/build-hat.html#installing-the-net-framework">Installing the .NET Framework</a>
                      </li>
                    
                      <li>
                        <a href="https://www.raspberrypi.com/documentation/accessories/build-hat.html#running-c-code">Running C# Code</a>
                      </li>
                    
                      <li>
                        <a href="https://www.raspberrypi.com/documentation/accessories/build-hat.html#editing-c-code">Editing C# Code</a>
                      </li>
                    
                      <li>
                        <a href="https://www.raspberrypi.com/documentation/accessories/build-hat.html#using-the-build-hat-from-net-2">Using the Build HAT from .NET</a>
                      </li>
                    
                      <li>
                        <a href="https://www.raspberrypi.com/documentation/accessories/build-hat.html#using-motors-from-net">Using Motors from .NET</a>
                      </li>
                    
                      <li>
                        <a href="https://www.raspberrypi.com/documentation/accessories/build-hat.html#using-sensors-from-net">Using Sensors from .NET</a>
                      </li>
                    
                  </ul>
                
              </li>
            
              <li>
                <a href="https://www.raspberrypi.com/documentation/accessories/build-hat.html#further-resources">Further Resources</a>
                
              </li>
            
              <li>
                <a href="https://www.raspberrypi.com/documentation/accessories/build-hat.html#device-compatibility">Device Compatibility</a>
                
              </li>
            
              <li>
                <a href="https://www.raspberrypi.com/documentation/accessories/build-hat.html#mechanical-drawings">Mechanical Drawings</a>
                
              </li>
            
          </ul>
        </div>
      
    
      <h3 class="contentshead">Sense HAT</h3>
      
        <div class="itemcontents hidden">
          <ul class="sectlevel1">
            
              <li>
                <a href="https://www.raspberrypi.com/documentation/accessories/sense-hat.html#installation">Installation</a>
                
              </li>
            
              <li>
                <a href="https://www.raspberrypi.com/documentation/accessories/sense-hat.html#sense-hat-hardware">Sense HAT Hardware</a>
                
              </li>
            
              <li>
                <a href="https://www.raspberrypi.com/documentation/accessories/sense-hat.html#sense-hat-software">Sense HAT Software</a>
                
              </li>
            
              <li>
                <a href="https://www.raspberrypi.com/documentation/accessories/sense-hat.html#using-the-sense-hat-with-python">Using the Sense HAT with Python</a>
                
              </li>
            
              <li>
                <a href="https://www.raspberrypi.com/documentation/accessories/sense-hat.html#using-the-rtimulib-library">Using the RTIMULib Library</a>
                
              </li>
            
              <li>
                <a href="https://www.raspberrypi.com/documentation/accessories/sense-hat.html#other-issues">Other Issues</a>
                
                  <ul>
                    
                      <li>
                        <a href="https://www.raspberrypi.com/documentation/accessories/sense-hat.html#led-matrix">LED matrix</a>
                      </li>
                    
                      <li>
                        <a href="https://www.raspberrypi.com/documentation/accessories/sense-hat.html#joystick">Joystick</a>
                      </li>
                    
                  </ul>
                
              </li>
            
              <li>
                <a href="https://www.raspberrypi.com/documentation/accessories/sense-hat.html#calibration">Calibration</a>
                
              </li>
            
              <li>
                <a href="https://www.raspberrypi.com/documentation/accessories/sense-hat.html#eeprom-data">EEPROM Data</a>
                
                  <ul>
                    
                      <li>
                        <a href="https://www.raspberrypi.com/documentation/accessories/sense-hat.html#reading">Reading</a>
                      </li>
                    
                      <li>
                        <a href="https://www.raspberrypi.com/documentation/accessories/sense-hat.html#writing">Writing</a>
                      </li>
                    
                  </ul>
                
              </li>
            
          </ul>
        </div>
      
    
      <h3 class="contentshead">TV HAT</h3>
      
        <div class="itemcontents hidden">
          <ul class="sectlevel1">
            
              <li>
                <a href="https://www.raspberrypi.com/documentation/accessories/tv-hat.html#getting-started">Getting Started</a>
                
              </li>
            
              <li>
                <a href="https://www.raspberrypi.com/documentation/accessories/tv-hat.html#setup-instructions">Setup Instructions</a>
                
              </li>
            
          </ul>
        </div>
      
    
  </div>
  





</nav>
      <nav id="contents" style="overflow-y: hidden;">





  
    <h2><a href="https://www.raspberrypi.com/documentation/accessories/">Accessories</a></h2>
    
      <h3 class="contentshead" onclick="expandAndCollapse(this)">Camera</h3>
      
        
        <div class="itemcontents tocify" id="toc"><ul id="tocify-header0" class="tocify-header nav nav-list"><li class="tocify-item active" data-unique="raspberry-pi-documentation"><a>Raspberry Pi Documentation</a></li></ul><ul id="tocify-header1" class="tocify-header nav nav-list"><li class="tocify-item" data-unique="camera"><a>Camera</a></li><ul class="tocify-subheader nav nav-list" data-tag="2"><li class="tocify-item" data-unique="introducing-the-raspberry-pi-cameras"><a>
Introducing the Raspberry Pi Cameras</a></li><ul class="tocify-subheader nav nav-list" data-tag="3"><li class="tocify-item" data-unique="libcamera-and-the-legacy-raspicam-camera-stack"><a>
libcamera and the legacy Raspicam camera stack</a></li></ul><li class="tocify-item" data-unique="camera-modules"><a>
Camera Modules</a></li><ul class="tocify-subheader nav nav-list" data-tag="3"><li class="tocify-item" data-unique="installing-a-raspberry-pi-camera"><a>
Installing a Raspberry Pi camera</a></li><li class="tocify-item" data-unique="preparing-the-software"><a>
Preparing the Software</a></li><li class="tocify-item" data-unique="hardware-specification"><a>
Hardware Specification</a></li><li class="tocify-item" data-unique="software-features"><a>
Software Features</a></li><li class="tocify-item" data-unique="hq-camera-ir-filter-transmission"><a>
HQ Camera IR Filter Transmission</a></li><li class="tocify-item" data-unique="maximum-exposure-times"><a>
Maximum Exposure Times</a></li><li class="tocify-item" data-unique="mechanical-drawings"><a>
Mechanical Drawings</a></li><li class="tocify-item" data-unique="schematics"><a>
Schematics</a></li><li class="tocify-item" data-unique="raspberry-pi-hq-camera-filter-removal"><a>
Raspberry Pi HQ Camera Filter Removal</a></li></ul><li class="tocify-item" data-unique="libcamera-and-libcamera-apps"><a>
libcamera and libcamera-apps
</a></li><ul class="tocify-subheader nav nav-list" data-tag="3"><li class="tocify-item" data-unique="introduction"><a>
Introduction</a></li><li class="tocify-item" data-unique="getting-started"><a>
Getting Started</a></li><li class="tocify-item" data-unique="libcamera-hello"><a>
libcamera-hello
</a></li><li class="tocify-item" data-unique="libcamera-jpeg"><a>
libcamera-jpeg
</a></li><li class="tocify-item" data-unique="libcamera-still"><a>
libcamera-still
</a></li><li class="tocify-item" data-unique="libcamera-vid"><a>
libcamera-vid
</a></li><li class="tocify-item" data-unique="libcamera-raw"><a>
libcamera-raw
</a></li><li class="tocify-item" data-unique="libcamera-detect"><a>
libcamera-detect
</a></li><li class="tocify-item" data-unique="common-command-line-options"><a>
Common Command Line Options</a></li><li class="tocify-item" data-unique="still-command-line-options"><a>
Still Command Line Options</a></li><li class="tocify-item" data-unique="video-command-line-options"><a>
Video Command Line Options</a></li><li class="tocify-item" data-unique="differences-compared-to-raspicam-apps"><a>
Differences compared to Raspicam Apps</a></li><li class="tocify-item" data-unique="post-processing"><a>
Post-Processing</a></li><li class="tocify-item" data-unique="post-processing-with-opencv"><a>
Post-Processing with OpenCV</a></li><li class="tocify-item" data-unique="post-processing-with-tensorflow-lite"><a>
Post-Processing with TensorFlow Lite</a></li><li class="tocify-item" data-unique="writing-your-own-post-processing-stages"><a>
Writing your own Post-Processing Stages</a></li><li class="tocify-item" data-unique="multiple-cameras-usage"><a>
Multiple Cameras Usage</a></li><li class="tocify-item" data-unique="libcamera-and-libcamera-apps-packages"><a>
libcamera and libcamera-apps Packages</a></li><li class="tocify-item" data-unique="building-libcamera-and-libcamera-apps"><a>
Building libcamera and libcamera-apps
</a></li><li class="tocify-item" data-unique="understanding-and-writing-your-own-apps"><a>
Understanding and Writing your own Apps</a></li><li class="tocify-item" data-unique="python-bindings-for-libcamera"><a>
Python Bindings for libcamera
</a></li><li class="tocify-item" data-unique="camera-tuning-and-supporting-3rd-party-sensors"><a>
Camera Tuning and supporting 3rd Party Sensors</a></li><li class="tocify-item" data-unique="known-issues"><a>
Known Issues</a></li><li class="tocify-item" data-unique="getting-help"><a>
Getting Help</a></li></ul><li class="tocify-item" data-unique="raspicam-commands"><a>
Raspicam commands</a></li><ul class="tocify-subheader nav nav-list" data-tag="3"><li class="tocify-item" data-unique="enabling-the-camera"><a>
Enabling the Camera</a></li><li class="tocify-item" data-unique="raspistill"><a>
raspistill
</a></li><li class="tocify-item" data-unique="raspivid"><a>
raspivid
</a></li><li class="tocify-item" data-unique="raspiyuv"><a>
raspiyuv
</a></li><li class="tocify-item" data-unique="troubleshooting"><a>
Troubleshooting</a></li><li class="tocify-item" data-unique="command-line-options"><a>
Command Line Options</a></li><li class="tocify-item" data-unique="application-specific-settings"><a>
Application-specific Settings</a></li><li class="tocify-item" data-unique="command-line-examples"><a>
Command Line Examples</a></li><li class="tocify-item" data-unique="shell-error-codes"><a>
Shell Error Codes</a></li><li class="tocify-item" data-unique="long-exposures"><a>
Long Exposures</a></li><li class="tocify-item" data-unique="shooting-raw-using-the-camera-modules"><a>
Shooting RAW using the Camera Modules</a></li></ul><li class="tocify-item" data-unique="application-notes"><a>
Application Notes</a></li><ul class="tocify-subheader nav nav-list" data-tag="3"><li class="tocify-item" data-unique="creating-timelapse-video"><a>
Creating Timelapse Video</a></li><li class="tocify-item" data-unique="using-gstreamer"><a>
Using Gstreamer</a></li><li class="tocify-item" data-unique="using-libcamera-and-qt-together"><a>
Using libcamera and Qt together</a></li></ul><li class="tocify-item" data-unique="v4l2-drivers"><a>
V4L2 Drivers</a></li><ul class="tocify-subheader nav nav-list" data-tag="3"><li class="tocify-item" data-unique="driver-differences-when-using-libcamera-or-the-legacy-stack"><a>
Driver differences when using libcamera or the legacy stack</a></li><li class="tocify-item" data-unique="using-the-driver"><a>
Using the Driver</a></li></ul><li class="tocify-item" data-unique="camera-serial-interface-2-csi2-unicam"><a>
Camera Serial Interface 2 (CSI2) "Unicam"</a></li><ul class="tocify-subheader nav nav-list" data-tag="3"><li class="tocify-item" data-unique="software-interfaces"><a>
Software Interfaces</a></li><li class="tocify-item" data-unique="developing-third-party-drivers"><a>
Developing Third-Party Drivers</a></li></ul></ul></ul></div>
        <div class="itemcontents noJS hidden">
          <ul class="sectlevel1">
            
              <li>
                <a href="https://www.raspberrypi.com/documentation/accessories/camera.html#introducing-the-raspberry-pi-cameras">Introducing the Raspberry Pi Cameras</a>
                
                  <ul>
                    
                      <li>
                        <a href="https://www.raspberrypi.com/documentation/accessories/camera.html#libcamera-and-the-legacy-raspicam-camera-stack">libcamera and the legacy Raspicam camera stack</a>
                      </li>
                    
                  </ul>
                
              </li>
            
              <li>
                <a href="https://www.raspberrypi.com/documentation/accessories/camera.html#camera-modules">Camera Modules</a>
                
                  <ul>
                    
                      <li>
                        <a href="https://www.raspberrypi.com/documentation/accessories/camera.html#installing-a-raspberry-pi-camera">Installing a Raspberry Pi camera</a>
                      </li>
                    
                      <li>
                        <a href="https://www.raspberrypi.com/documentation/accessories/camera.html#preparing-the-software">Preparing the Software</a>
                      </li>
                    
                      <li>
                        <a href="https://www.raspberrypi.com/documentation/accessories/camera.html#hardware-specification">Hardware Specification</a>
                      </li>
                    
                      <li>
                        <a href="https://www.raspberrypi.com/documentation/accessories/camera.html#software-features">Software Features</a>
                      </li>
                    
                      <li>
                        <a href="https://www.raspberrypi.com/documentation/accessories/camera.html#hq-camera-ir-filter-transmission">HQ Camera IR Filter Transmission</a>
                      </li>
                    
                      <li>
                        <a href="https://www.raspberrypi.com/documentation/accessories/camera.html#maximum-exposure-times">Maximum Exposure Times</a>
                      </li>
                    
                      <li>
                        <a href="https://www.raspberrypi.com/documentation/accessories/camera.html#mechanical-drawings">Mechanical Drawings</a>
                      </li>
                    
                      <li>
                        <a href="https://www.raspberrypi.com/documentation/accessories/camera.html#schematics">Schematics</a>
                      </li>
                    
                      <li>
                        <a href="https://www.raspberrypi.com/documentation/accessories/camera.html#raspberry-pi-hq-camera-filter-removal">Raspberry Pi HQ Camera Filter Removal</a>
                      </li>
                    
                  </ul>
                
              </li>
            
              <li>
                <a href="https://www.raspberrypi.com/documentation/accessories/camera.html#libcamera-and-libcamera-apps">libcamera and libcamera-apps</a>
                
                  <ul>
                    
                      <li>
                        <a href="https://www.raspberrypi.com/documentation/accessories/camera.html#introduction">Introduction</a>
                      </li>
                    
                      <li>
                        <a href="https://www.raspberrypi.com/documentation/accessories/camera.html#getting-started">Getting Started</a>
                      </li>
                    
                      <li>
                        <a href="https://www.raspberrypi.com/documentation/accessories/camera.html#libcamera-hello">libcamera-hello</a>
                      </li>
                    
                      <li>
                        <a href="https://www.raspberrypi.com/documentation/accessories/camera.html#libcamera-jpeg">libcamera-jpeg</a>
                      </li>
                    
                      <li>
                        <a href="https://www.raspberrypi.com/documentation/accessories/camera.html#libcamera-still">libcamera-still</a>
                      </li>
                    
                      <li>
                        <a href="https://www.raspberrypi.com/documentation/accessories/camera.html#libcamera-vid">libcamera-vid</a>
                      </li>
                    
                      <li>
                        <a href="https://www.raspberrypi.com/documentation/accessories/camera.html#libcamera-raw">libcamera-raw</a>
                      </li>
                    
                      <li>
                        <a href="https://www.raspberrypi.com/documentation/accessories/camera.html#libcamera-detect">libcamera-detect</a>
                      </li>
                    
                      <li>
                        <a href="https://www.raspberrypi.com/documentation/accessories/camera.html#common-command-line-options">Common Command Line Options</a>
                      </li>
                    
                      <li>
                        <a href="https://www.raspberrypi.com/documentation/accessories/camera.html#still-command-line-options">Still Command Line Options</a>
                      </li>
                    
                      <li>
                        <a href="https://www.raspberrypi.com/documentation/accessories/camera.html#video-command-line-options">Video Command Line Options</a>
                      </li>
                    
                      <li>
                        <a href="https://www.raspberrypi.com/documentation/accessories/camera.html#differences-compared-to-raspicam-apps">Differences compared to Raspicam Apps</a>
                      </li>
                    
                      <li>
                        <a href="https://www.raspberrypi.com/documentation/accessories/camera.html#post-processing">Post-Processing</a>
                      </li>
                    
                      <li>
                        <a href="https://www.raspberrypi.com/documentation/accessories/camera.html#post-processing-with-opencv">Post-Processing with OpenCV</a>
                      </li>
                    
                      <li>
                        <a href="https://www.raspberrypi.com/documentation/accessories/camera.html#post-processing-with-tensorflow-lite">Post-Processing with TensorFlow Lite</a>
                      </li>
                    
                      <li>
                        <a href="https://www.raspberrypi.com/documentation/accessories/camera.html#writing-your-own-post-processing-stages">Writing your own Post-Processing Stages</a>
                      </li>
                    
                      <li>
                        <a href="https://www.raspberrypi.com/documentation/accessories/camera.html#multiple-cameras-usage">Multiple Cameras Usage</a>
                      </li>
                    
                      <li>
                        <a href="https://www.raspberrypi.com/documentation/accessories/camera.html#libcamera-and-libcamera-apps-packages">libcamera and libcamera-apps Packages</a>
                      </li>
                    
                      <li>
                        <a href="https://www.raspberrypi.com/documentation/accessories/camera.html#building-libcamera-and-libcamera-apps">Building libcamera and libcamera-apps</a>
                      </li>
                    
                      <li>
                        <a href="https://www.raspberrypi.com/documentation/accessories/camera.html#understanding-and-writing-your-own-apps">Understanding and Writing your own Apps</a>
                      </li>
                    
                      <li>
                        <a href="https://www.raspberrypi.com/documentation/accessories/camera.html#python-bindings-for-libcamera">Python Bindings for libcamera</a>
                      </li>
                    
                      <li>
                        <a href="https://www.raspberrypi.com/documentation/accessories/camera.html#camera-tuning-and-supporting-3rd-party-sensors">Camera Tuning and supporting 3rd Party Sensors</a>
                      </li>
                    
                      <li>
                        <a href="https://www.raspberrypi.com/documentation/accessories/camera.html#known-issues">Known Issues</a>
                      </li>
                    
                      <li>
                        <a href="https://www.raspberrypi.com/documentation/accessories/camera.html#getting-help">Getting Help</a>
                      </li>
                    
                  </ul>
                
              </li>
            
              <li>
                <a href="https://www.raspberrypi.com/documentation/accessories/camera.html#raspicam-commands">Raspicam commands</a>
                
                  <ul>
                    
                      <li>
                        <a href="https://www.raspberrypi.com/documentation/accessories/camera.html#enabling-the-camera">Enabling the Camera</a>
                      </li>
                    
                      <li>
                        <a href="https://www.raspberrypi.com/documentation/accessories/camera.html#raspistill">raspistill</a>
                      </li>
                    
                      <li>
                        <a href="https://www.raspberrypi.com/documentation/accessories/camera.html#raspivid">raspivid</a>
                      </li>
                    
                      <li>
                        <a href="https://www.raspberrypi.com/documentation/accessories/camera.html#raspiyuv">raspiyuv</a>
                      </li>
                    
                      <li>
                        <a href="https://www.raspberrypi.com/documentation/accessories/camera.html#troubleshooting">Troubleshooting</a>
                      </li>
                    
                      <li>
                        <a href="https://www.raspberrypi.com/documentation/accessories/camera.html#command-line-options">Command Line Options</a>
                      </li>
                    
                      <li>
                        <a href="https://www.raspberrypi.com/documentation/accessories/camera.html#application-specific-settings">Application-specific Settings</a>
                      </li>
                    
                      <li>
                        <a href="https://www.raspberrypi.com/documentation/accessories/camera.html#command-line-examples">Command Line Examples</a>
                      </li>
                    
                      <li>
                        <a href="https://www.raspberrypi.com/documentation/accessories/camera.html#shell-error-codes">Shell Error Codes</a>
                      </li>
                    
                      <li>
                        <a href="https://www.raspberrypi.com/documentation/accessories/camera.html#long-exposures">Long Exposures</a>
                      </li>
                    
                      <li>
                        <a href="https://www.raspberrypi.com/documentation/accessories/camera.html#shooting-raw-using-the-camera-modules">Shooting RAW using the Camera Modules</a>
                      </li>
                    
                  </ul>
                
              </li>
            
              <li>
                <a href="https://www.raspberrypi.com/documentation/accessories/camera.html#application-notes">Application Notes</a>
                
                  <ul>
                    
                      <li>
                        <a href="https://www.raspberrypi.com/documentation/accessories/camera.html#creating-timelapse-video">Creating Timelapse Video</a>
                      </li>
                    
                      <li>
                        <a href="https://www.raspberrypi.com/documentation/accessories/camera.html#using-gstreamer">Using Gstreamer</a>
                      </li>
                    
                      <li>
                        <a href="https://www.raspberrypi.com/documentation/accessories/camera.html#using-libcamera-and-qt-together">Using libcamera and Qt together</a>
                      </li>
                    
                  </ul>
                
              </li>
            
              <li>
                <a href="https://www.raspberrypi.com/documentation/accessories/camera.html#v4l2-drivers">V4L2 Drivers</a>
                
                  <ul>
                    
                      <li>
                        <a href="https://www.raspberrypi.com/documentation/accessories/camera.html#driver-differences-when-using-libcamera-or-the-legacy-stack">Driver differences when using libcamera or the legacy stack</a>
                      </li>
                    
                      <li>
                        <a href="https://www.raspberrypi.com/documentation/accessories/camera.html#using-the-driver">Using the Driver</a>
                      </li>
                    
                  </ul>
                
              </li>
            
              <li>
                <a href="https://www.raspberrypi.com/documentation/accessories/camera.html#camera-serial-interface-2-csi2-unicam">Camera Serial Interface 2 (CSI2) "Unicam"</a>
                
                  <ul>
                    
                      <li>
                        <a href="https://www.raspberrypi.com/documentation/accessories/camera.html#software-interfaces">Software Interfaces</a>
                      </li>
                    
                      <li>
                        <a href="https://www.raspberrypi.com/documentation/accessories/camera.html#developing-third-party-drivers">Developing Third-Party Drivers</a>
                      </li>
                    
                  </ul>
                
              </li>
            
          </ul>
        </div>
        
      
    
      <h3 class="contentshead" onclick="expandAndCollapse(this)">Display</h3>
      
        
        <div class="itemcontents hidden">
          <ul class="sectlevel1">
            
              <li>
                <a href="https://www.raspberrypi.com/documentation/accessories/display.html#raspberry-pi-touch-display">Raspberry Pi Touch Display</a>
                
                  <ul>
                    
                      <li>
                        <a href="https://www.raspberrypi.com/documentation/accessories/display.html#board-support">Board Support</a>
                      </li>
                    
                      <li>
                        <a href="https://www.raspberrypi.com/documentation/accessories/display.html#physical-installation">Physical Installation</a>
                      </li>
                    
                      <li>
                        <a href="https://www.raspberrypi.com/documentation/accessories/display.html#screen-orientation">Screen Orientation</a>
                      </li>
                    
                      <li>
                        <a href="https://www.raspberrypi.com/documentation/accessories/display.html#touchscreen-orientation">Touchscreen Orientation</a>
                      </li>
                    
                      <li>
                        <a href="https://www.raspberrypi.com/documentation/accessories/display.html#troubleshooting">Troubleshooting</a>
                      </li>
                    
                      <li>
                        <a href="https://www.raspberrypi.com/documentation/accessories/display.html#specifications">Specifications</a>
                      </li>
                    
                  </ul>
                
              </li>
            
              <li>
                <a href="https://www.raspberrypi.com/documentation/accessories/display.html#legacy-support">Legacy Support</a>
                
              </li>
            
              <li>
                <a href="https://www.raspberrypi.com/documentation/accessories/display.html#troubleshooting-the-display">Troubleshooting the Display</a>
                
                  <ul>
                    
                      <li>
                        <a href="https://www.raspberrypi.com/documentation/accessories/display.html#tips-and-tricks">Tips and Tricks</a>
                      </li>
                    
                  </ul>
                
              </li>
            
          </ul>
        </div>
        
      
    
      <h3 class="contentshead" onclick="expandAndCollapse(this)">Keyboard &amp; Mouse</h3>
      
        
        <div class="itemcontents hidden">
          <ul class="sectlevel1">
            
              <li>
                <a href="https://www.raspberrypi.com/documentation/accessories/keyboard-and-mouse.html#getting-started-with-your-keyboard">Getting Started with your Keyboard</a>
                
                  <ul>
                    
                      <li>
                        <a href="https://www.raspberrypi.com/documentation/accessories/keyboard-and-mouse.html#keyboard-features">Keyboard Features</a>
                      </li>
                    
                  </ul>
                
              </li>
            
              <li>
                <a href="https://www.raspberrypi.com/documentation/accessories/keyboard-and-mouse.html#getting-started-with-your-mouse">Getting Started with your Mouse</a>
                
              </li>
            
              <li>
                <a href="https://www.raspberrypi.com/documentation/accessories/keyboard-and-mouse.html#connecting-it-all-together">Connecting it all Together</a>
                
              </li>
            
          </ul>
        </div>
        
      
    
      <h3 class="contentshead" onclick="expandAndCollapse(this)">Build HAT</h3>
      
        
        <div class="itemcontents hidden">
          <ul class="sectlevel1">
            
              <li>
                <a href="https://www.raspberrypi.com/documentation/accessories/build-hat.html#introducing-the-build-hat">Introducing the Build HAT</a>
                
              </li>
            
              <li>
                <a href="https://www.raspberrypi.com/documentation/accessories/build-hat.html#preparing-your-build-hat">Preparing your Build HAT</a>
                
                  <ul>
                    
                      <li>
                        <a href="https://www.raspberrypi.com/documentation/accessories/build-hat.html#access-the-gpio-pins">Access the GPIO Pins</a>
                      </li>
                    
                      <li>
                        <a href="https://www.raspberrypi.com/documentation/accessories/build-hat.html#setting-up-your-raspberry-pi">Setting up your Raspberry Pi</a>
                      </li>
                    
                      <li>
                        <a href="https://www.raspberrypi.com/documentation/accessories/build-hat.html#powering-the-build-hat">Powering the Build HAT</a>
                      </li>
                    
                  </ul>
                
              </li>
            
              <li>
                <a href="https://www.raspberrypi.com/documentation/accessories/build-hat.html#using-the-build-hat-from-python">Using the Build HAT from Python</a>
                
                  <ul>
                    
                      <li>
                        <a href="https://www.raspberrypi.com/documentation/accessories/build-hat.html#installing-the-python-library">Installing the Python Library</a>
                      </li>
                    
                      <li>
                        <a href="https://www.raspberrypi.com/documentation/accessories/build-hat.html#using-motors-from-python">Using Motors from Python</a>
                      </li>
                    
                      <li>
                        <a href="https://www.raspberrypi.com/documentation/accessories/build-hat.html#using-sensors-from-python">Using Sensors from Python</a>
                      </li>
                    
                  </ul>
                
              </li>
            
              <li>
                <a href="https://www.raspberrypi.com/documentation/accessories/build-hat.html#using-the-build-hat-from-net">Using the Build HAT from .NET</a>
                
                  <ul>
                    
                      <li>
                        <a href="https://www.raspberrypi.com/documentation/accessories/build-hat.html#installing-the-net-framework">Installing the .NET Framework</a>
                      </li>
                    
                      <li>
                        <a href="https://www.raspberrypi.com/documentation/accessories/build-hat.html#running-c-code">Running C# Code</a>
                      </li>
                    
                      <li>
                        <a href="https://www.raspberrypi.com/documentation/accessories/build-hat.html#editing-c-code">Editing C# Code</a>
                      </li>
                    
                      <li>
                        <a href="https://www.raspberrypi.com/documentation/accessories/build-hat.html#using-the-build-hat-from-net-2">Using the Build HAT from .NET</a>
                      </li>
                    
                      <li>
                        <a href="https://www.raspberrypi.com/documentation/accessories/build-hat.html#using-motors-from-net">Using Motors from .NET</a>
                      </li>
                    
                      <li>
                        <a href="https://www.raspberrypi.com/documentation/accessories/build-hat.html#using-sensors-from-net">Using Sensors from .NET</a>
                      </li>
                    
                  </ul>
                
              </li>
            
              <li>
                <a href="https://www.raspberrypi.com/documentation/accessories/build-hat.html#further-resources">Further Resources</a>
                
              </li>
            
              <li>
                <a href="https://www.raspberrypi.com/documentation/accessories/build-hat.html#device-compatibility">Device Compatibility</a>
                
              </li>
            
              <li>
                <a href="https://www.raspberrypi.com/documentation/accessories/build-hat.html#mechanical-drawings">Mechanical Drawings</a>
                
              </li>
            
          </ul>
        </div>
        
      
    
      <h3 class="contentshead" onclick="expandAndCollapse(this)">Sense HAT</h3>
      
        
        <div class="itemcontents hidden">
          <ul class="sectlevel1">
            
              <li>
                <a href="https://www.raspberrypi.com/documentation/accessories/sense-hat.html#installation">Installation</a>
                
              </li>
            
              <li>
                <a href="https://www.raspberrypi.com/documentation/accessories/sense-hat.html#sense-hat-hardware">Sense HAT Hardware</a>
                
              </li>
            
              <li>
                <a href="https://www.raspberrypi.com/documentation/accessories/sense-hat.html#sense-hat-software">Sense HAT Software</a>
                
              </li>
            
              <li>
                <a href="https://www.raspberrypi.com/documentation/accessories/sense-hat.html#using-the-sense-hat-with-python">Using the Sense HAT with Python</a>
                
              </li>
            
              <li>
                <a href="https://www.raspberrypi.com/documentation/accessories/sense-hat.html#using-the-rtimulib-library">Using the RTIMULib Library</a>
                
              </li>
            
              <li>
                <a href="https://www.raspberrypi.com/documentation/accessories/sense-hat.html#other-issues">Other Issues</a>
                
                  <ul>
                    
                      <li>
                        <a href="https://www.raspberrypi.com/documentation/accessories/sense-hat.html#led-matrix">LED matrix</a>
                      </li>
                    
                      <li>
                        <a href="https://www.raspberrypi.com/documentation/accessories/sense-hat.html#joystick">Joystick</a>
                      </li>
                    
                  </ul>
                
              </li>
            
              <li>
                <a href="https://www.raspberrypi.com/documentation/accessories/sense-hat.html#calibration">Calibration</a>
                
              </li>
            
              <li>
                <a href="https://www.raspberrypi.com/documentation/accessories/sense-hat.html#eeprom-data">EEPROM Data</a>
                
                  <ul>
                    
                      <li>
                        <a href="https://www.raspberrypi.com/documentation/accessories/sense-hat.html#reading">Reading</a>
                      </li>
                    
                      <li>
                        <a href="https://www.raspberrypi.com/documentation/accessories/sense-hat.html#writing">Writing</a>
                      </li>
                    
                  </ul>
                
              </li>
            
          </ul>
        </div>
        
      
    
      <h3 class="contentshead" onclick="expandAndCollapse(this)">TV HAT</h3>
      
        
        <div class="itemcontents hidden">
          <ul class="sectlevel1">
            
              <li>
                <a href="https://www.raspberrypi.com/documentation/accessories/tv-hat.html#getting-started">Getting Started</a>
                
              </li>
            
              <li>
                <a href="https://www.raspberrypi.com/documentation/accessories/tv-hat.html#setup-instructions">Setup Instructions</a>
                
              </li>
            
          </ul>
        </div>
        
      
    
  





</nav>


      <section id="content">
        <div name="camera" data-unique="camera"></div><h1>Camera</h1>
        

<div class="sect1">
<div name="introducing-the-raspberry-pi-cameras" data-unique="introducing-the-raspberry-pi-cameras"></div><h2 id="introducing-the-raspberry-pi-cameras">
<a class="anchor" href="https://www.raspberrypi.com/documentation/accessories/camera.html#introducing-the-raspberry-pi-cameras"></a>Introducing the Raspberry Pi Cameras</h2>
<div class="sectionbody">
<div class="paragraph edit-link">
<p>Edit this <a href="https://github.com/raspberrypi/documentation/blob/develop/documentation/asciidoc/accessories/camera/camera_usage.adoc">on GitHub</a></p>
</div>
<div class="paragraph">
<p>Raspberry Pi currently sell two types of camera board: an <a href="https://www.raspberrypi.com/products/camera-module-v2/">8MP device</a> and a <a href="https://www.raspberrypi.com/products/raspberry-pi-high-quality-camera/">12MP High Quality (HQ)</a> camera. The 8MP device is also available in <a href="https://www.raspberrypi.com/products/pi-noir-camera-v2/">NoIR form</a> without an IR filter. The original 5MP device is no longer available from Raspberry Pi.</p>
</div>
<div class="paragraph">
<p>All Raspberry Pi cameras are capable of taking high-resolution photographs, along with full HD 1080p video, and can be fully controlled programmatically. This documentation describes how to use the camera in various scenarios, and how to use the various software tools.</p>
</div>
<div class="paragraph">
<p>Once <a href="https://www.raspberrypi.com/documentation/accessories/camera.html#installing-a-raspberry-pi-camera">installed</a>, there are various ways the cameras can be used. The simplest option is to use one of the provided camera applications, such as <code>libcamera-still</code> or <code>raspistill</code>.</p>
</div>
<div class="sect2">
<div name="libcamera-and-the-legacy-raspicam-camera-stack" data-unique="libcamera-and-the-legacy-raspicam-camera-stack"></div><h3 id="libcamera-and-the-legacy-raspicam-camera-stack">
<a class="anchor" href="https://www.raspberrypi.com/documentation/accessories/camera.html#libcamera-and-the-legacy-raspicam-camera-stack"></a><code>libcamera</code> and the legacy <em>Raspicam</em> camera stack</h3>
<div class="admonitionblock note">
<table>
<tbody><tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
<div class="paragraph">
<p>Raspberry Pi is transitioning from a legacy camera software stack based on proprietary Broadcom GPU code to an open-source stack based on <code>libcamera</code>. Raspberry Pi OS images from <em>Bullseye</em> onwards will contain <strong>only</strong> the <code>libcamera</code>-based stack. Raspberry Pi OS images up to and including <em>Buster</em> will contain the legacy <em>Raspicam</em> stack, though the <code>libcamera</code> stack and applications can be installed <a href="https://www.raspberrypi.com/documentation/accessories/camera.html#libcamera-and-libcamera-apps-packages">using <em>apt</em></a>, or built by following the <a href="https://www.raspberrypi.com/documentation/accessories/camera.html#building-libcamera-and-libcamera-apps">normal build instructions</a>.</p>
</div>
</td>
</tr>
</tbody></table>
</div>
<div class="paragraph">
<p>Users are encouraged to use the newest OS images and the <code>libcamera</code>-based stack because:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>It will continue to be developed moving forward.</p>
</li>
<li>
<p>Raspberry Pi and 3rd parties can fix bugs and problems in the camera stack.</p>
</li>
<li>
<p>Raspberry Pi and 3rd parties can add new features to the camera stack.</p>
</li>
<li>
<p>It is much easier to add support for new cameras.</p>
</li>
<li>
<p>3rd parties can add support directly for their own cameras.</p>
</li>
<li>
<p>Nearly all aspects of the camera tuning can be changed by users.</p>
</li>
<li>
<p>It integrates much more conveniently with other standard Linux APIs.</p>
</li>
<li>
<p>Raspberry Pi supply a set of <code>libcamera-apps</code> which emulate most of the features of the legacy applications.</p>
</li>
<li>
<p>It provdes a feature-rich post-processing framework integrating OpenCV and TensorFlow Lite.</p>
</li>
<li>
<p>Libcamera makes it easier to control the parameters of the image sensor and the camera system.</p>
</li>
<li>
<p>It is fully supported on 64-bit operating systems.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Reasons to consider staying with an older OS and using the legacy <em>Raspicam</em> stack might include:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>It may perform better on Raspberry Pi 2 and Raspberry Pi Zero devices, as it offloads more to the GPU and is less dependent on the ARM cores.</p>
</li>
<li>
<p><code>libcamera</code> is still missing certain features, most notably Python bindings. Whilst this work is in progress, users who need a Python interface (such as <em>Picamera</em>) will have to stay with the legacy stack for the time being.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Apart from some general information on setting up the camera, most of this documentation is divided into sections on <a href="https://www.raspberrypi.com/documentation/accessories/camera.html#libcamera-and-libcamera-apps">libcamera and the libcamera-apps</a>, and the <a href="https://www.raspberrypi.com/documentation/accessories/camera.html#raspicam-commands">legacy <em>Raspicam</em> apps</a>. Once youve <a href="https://www.raspberrypi.com/documentation/accessories/camera.html#installing-a-raspberry-pi-camera">installed your camera module</a>, please click on one of these two links.</p>
</div>
<div class="sect3">
<h4 id="re-enabling-the-legacy-stack">
<a class="anchor" href="https://www.raspberrypi.com/documentation/accessories/camera.html#re-enabling-the-legacy-stack"></a>Re-enabling the legacy stack</h4>
<div class="paragraph">
<p>The legacy camera stack can be re-enabled in Bullseye using the following steps.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Ensure your system is up-to-date and reboot it.</p>
</li>
<li>
<p>Run <code>sudo raspi-config</code>.</p>
</li>
<li>
<p>Navigate to <code>Interface Options</code> and select <code>Legacy camera</code> to enable it.</p>
</li>
<li>
<p>Reboot your Raspberry Pi again.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>These steps are shown in the following video.</p>
</div>
<div class="videoblock">
<div class="content">
<iframe src="./Raspberry Pi Documentation - Camera_files/E7KPSc_Xr24.html" frameborder="0" allowfullscreen=""></iframe>
</div>
</div>
<div class="admonitionblock note">
<table>
<tbody><tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
More information can be found in the <a href="https://www.raspberrypi.com/news/bullseye-camera-system/">blog post</a> discussing the transition.
</td>
</tr>
</tbody></table>
</div>
<div class="admonitionblock warning">
<table>
<tbody><tr>
<td class="icon">
<div class="title">Warning</div>
</td>
<td class="content">
The legacy camera stack cannot be re-enabled on a 64-bit Raspberry Pi OS release.
</td>
</tr>
</tbody></table>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<div name="camera-modules" data-unique="camera-modules"></div><h2 id="camera-modules">
<a class="anchor" href="https://www.raspberrypi.com/documentation/accessories/camera.html#camera-modules"></a>Camera Modules</h2>
<div class="sectionbody">
<div class="paragraph edit-link">
<p>Edit this <a href="https://github.com/raspberrypi/documentation/blob/develop/documentation/asciidoc/accessories/camera/camera_hardware.adoc">on GitHub</a></p>
</div>
<div class="paragraph">
<p>There are several official Raspberry Pi camera modules. The original 5-megapixel model was <a href="https://www.raspberrypi.com/news/camera-board-available-for-sale/">released</a> in 2013, and an 8-megapixel <a href="https://www.raspberrypi.com/products/camera-module-v2/">Camera Module v2</a> was <a href="https://www.raspberrypi.com/news/new-8-megapixel-camera-board-sale-25/">released</a> in 2016. For both iterations, there are visible light and <a href="https://www.raspberrypi.com/products/pi-noir-camera-v2/">infrared</a> versions. A 12-megapixel <a href="https://www.raspberrypi.com/products/raspberry-pi-high-quality-camera/">High Quality Camera</a> was <a href="https://www.raspberrypi.com/news/new-product-raspberry-pi-high-quality-camera-on-sale-now-at-50/">released</a> in 2020. There is no infrared version of the HQ Camera, however the <a href="https://www.raspberrypi.com/documentation/accessories/camera.html#raspberry-pi-hq-camera-filter-removal">IR Filter can be removed</a> if required.</p>
</div>
<div class="sect2">
<div name="installing-a-raspberry-pi-camera" data-unique="installing-a-raspberry-pi-camera"></div><h3 id="installing-a-raspberry-pi-camera">
<a class="anchor" href="https://www.raspberrypi.com/documentation/accessories/camera.html#installing-a-raspberry-pi-camera"></a>Installing a Raspberry Pi camera</h3>
<div class="admonitionblock warning">
<table>
<tbody><tr>
<td class="icon">
<div class="title">Warning</div>
</td>
<td class="content">
Cameras are sensitive to static. Earth yourself prior to handling the PCB. A sink tap or similar should suffice if you dont have an earthing strap.
</td>
</tr>
</tbody></table>
</div>
<div class="sect3">
<h4 id="connecting-the-camera">
<a class="anchor" href="https://www.raspberrypi.com/documentation/accessories/camera.html#connecting-the-camera"></a>Connecting the Camera</h4>
<div class="paragraph">
<p>The flex cable inserts into the connector labelled CAMERA on the Raspberry Pi, which is located between the Ethernet and HDMI ports. The cable must be inserted with the silver contacts facing the HDMI port. To open the connector, pull the tabs on the top of the connector upwards, then towards the Ethernet port. The flex cable should be inserted firmly into the connector, with care taken not to bend the flex at too acute an angle. To close the connector, push the top part of the connector towards the HDMI port and down, while holding the flex cable in place.</p>
</div>
<div class="paragraph">
<p>We have created a video to illustrate the process of connecting the camera. Although the video shows the original camera on the original Raspberry Pi 1, the principle is the same for all camera boards:</p>
</div>
<div class="videoblock">
<div class="content">
<iframe src="./Raspberry Pi Documentation - Camera_files/GImeVqHQzsE.html" frameborder="0" allowfullscreen=""></iframe>
</div>
</div>
<div class="paragraph">
<p>Depending on the model, the camera may come with a small piece of translucent blue plastic film covering the lens. This is only present to protect the lens while it is being mailed to you, and needs to be removed by gently peeling it off.</p>
</div>
</div>
</div>
<div class="sect2">
<div name="preparing-the-software" data-unique="preparing-the-software"></div><h3 id="preparing-the-software">
<a class="anchor" href="https://www.raspberrypi.com/documentation/accessories/camera.html#preparing-the-software"></a>Preparing the Software</h3>
<div class="paragraph">
<p>Before proceeding, we recommend ensuring that your kernel, GPU firmware and applications are all up to date. Please follow the instructions on <a href="https://www.raspberrypi.com/documentation/computers/os.html#using-apt">keeping your operating system up to date</a>.</p>
</div>
<div class="paragraph">
<p>Then, please follow the relevant setup instructions either for <a href="https://www.raspberrypi.com/documentation/accessories/camera.html#getting-started"><code>libcamera</code></a> or for <a href="https://www.raspberrypi.com/documentation/accessories/camera.html#enabling-the-camera"><em>Raspicam</em></a>.</p>
</div>
</div>
<div class="sect2">
<div name="hardware-specification" data-unique="hardware-specification"></div><h3 id="hardware-specification">
<a class="anchor" href="https://www.raspberrypi.com/documentation/accessories/camera.html#hardware-specification"></a>Hardware Specification</h3>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"></th>
<th class="tableblock halign-left valign-top">Camera Module v1</th>
<th class="tableblock halign-left valign-top">Camera Module v2</th>
<th class="tableblock halign-left valign-top">HQ Camera</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Net price</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">$25</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">$25</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">$50</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Size</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Around 25  24  9 mm</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">38 x 38 x 18.4mm (excluding lens)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Weight</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">3g</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">3g</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Still resolution</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">5 Megapixels</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">8 Megapixels</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">12.3 Megapixels</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Video modes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1080p30, 720p60 and 640  480p60/90</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1080p30, 720p60 and 640  480p60/90</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1080p30, 720p60 and 640  480p60/90</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Linux integration</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">V4L2 driver available</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">V4L2 driver available</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">V4L2 driver available</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">C programming API</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">OpenMAX IL and others available</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">OpenMAX IL and others available</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Sensor</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">OmniVision OV5647</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Sony IMX219</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://www.sony-semicon.co.jp/products/common/pdf/IMX477-AACK_Flyer.pdf">Sony IMX477</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Sensor resolution</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">2592  1944 pixels</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">3280  2464 pixels</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">4056 x 3040 pixels</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Sensor image area</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">3.76  2.74 mm</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">3.68 x 2.76 mm (4.6 mm diagonal)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">6.287mm x 4.712 mm (7.9mm diagonal)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Pixel size</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1.4 m  1.4 m</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1.12 m x 1.12 m</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1.55 m x 1.55 m</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Optical size</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1/4"</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1/4"</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Full-frame SLR lens equivalent</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">35 mm</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">S/N ratio</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">36 dB</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Dynamic range</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">67 dB @ 8x gain</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Sensitivity</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">680 mV/lux-sec</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Dark current</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">16 mV/sec @ 60 C</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Well capacity</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">4.3 Ke-</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Depth of field</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">approx. 1 m to infinity</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">adjustable with supplied tool</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">N/A</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Focal length</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">3.60 mm +/- 0.01</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">3.04 mm</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Depends on lens</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Horizontal field of view</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">53.50  +/- 0.13 degrees</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">62.2 degrees</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Depends on lens</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Vertical field of view</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">41.41 +/- 0.11 degrees</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">48.8 degrees</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Depends on lens</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Focal ratio (F-Stop)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">2.9</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">2.0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Depends on lens</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<div name="software-features" data-unique="software-features"></div><h3 id="software-features">
<a class="anchor" href="https://www.raspberrypi.com/documentation/accessories/camera.html#software-features"></a>Software Features</h3>
<div class="sect3">
<h4 id="libcamera-stack">
<a class="anchor" href="https://www.raspberrypi.com/documentation/accessories/camera.html#libcamera-stack"></a><code>libcamera</code> stack</h4>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Picture formats</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">JPEG, JPEG + DNG (raw), BMP, PNG, YUV420, RGB888</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Video formats</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">raw h.264 (accelerated), MJPEG</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Post-processing</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">User-definable image effects, customisable DRC and HDR, motion detection, OpenCV integration, TensorFlowLite integration</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Exposure modes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">normal, short, long, fixed fps, customisable</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Metering modes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">centre-weighted, average, spot, customisable</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Automatic white balance modes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">off, auto, incandescent, tungsten, fluorescent, indoor, daylight, cloudy, customisable</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Triggers</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Keypress, UNIX signal, timeout</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Extra modes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">timelapse, circular buffer, motion detection, segmented video, many features through flexible post-processing</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="legacy-stack">
<a class="anchor" href="https://www.raspberrypi.com/documentation/accessories/camera.html#legacy-stack"></a>Legacy stack</h4>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Picture formats</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">JPEG (accelerated), JPEG + RAW, GIF, BMP, PNG, YUV420, RGB888</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Video formats</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">raw h.264 (accelerated)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Effects</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">negative, solarise, posterize, whiteboard, blackboard, sketch, denoise, emboss, oilpaint, hatch, gpen, pastel, watercolour, film, blur, saturation</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Exposure modes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">auto, night, nightpreview, backlight, spotlight, sports, snow, beach, verylong, fixedfps, antishake, fireworks</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Metering modes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">average, spot, backlit, matrix</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Automatic white balance modes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">off, auto, sun, cloud, shade, tungsten, fluorescent, incandescent, flash, horizon</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Triggers</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Keypress, UNIX signal, timeout</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Extra modes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">demo, burst/timelapse, circular buffer, video with motion vectors, segmented video, live preview on 3D models</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect2">
<div name="hq-camera-ir-filter-transmission" data-unique="hq-camera-ir-filter-transmission"></div><h3 id="hq-camera-ir-filter-transmission">
<a class="anchor" href="https://www.raspberrypi.com/documentation/accessories/camera.html#hq-camera-ir-filter-transmission"></a>HQ Camera IR Filter Transmission</h3>
<div class="paragraph">
<p>The HQ Camera uses a Hoya CM500 infrared filter. Its transmission characteristics are as represented in the following graph.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="./Raspberry Pi Documentation - Camera_files/hoyacm500.png" alt="CM500 Transmission Graph">
</div>
</div>
</div>
<div class="sect2">
<div name="maximum-exposure-times" data-unique="maximum-exposure-times"></div><h3 id="maximum-exposure-times">
<a class="anchor" href="https://www.raspberrypi.com/documentation/accessories/camera.html#maximum-exposure-times"></a>Maximum Exposure Times</h3>
<div class="paragraph">
<p>The maximum exposure times of the three official Raspberry Pi cameras are given in the table below.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Module</th>
<th class="tableblock halign-center valign-top">Max exposure (seconds)</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">V1 (OMx5647)</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">6</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">V2 (IMX219)</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">10</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">HQ (IMX477)</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">230</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<div name="mechanical-drawings" data-unique="mechanical-drawings"></div><h3 id="mechanical-drawings">
<a class="anchor" href="https://www.raspberrypi.com/documentation/accessories/camera.html#mechanical-drawings"></a>Mechanical Drawings</h3>
<div class="paragraph">
<p><span class="image"><img src="./Raspberry Pi Documentation - Camera_files/RPi-S5-conn.png" alt="camera connector"></span></p>
</div>
<div class="ulist">
<ul>
<li>
<p>Camera Module v2 <a href="https://datasheets.raspberrypi.com/camera/camera-v2-mechanical-drawing.pdf">PDF</a></p>
</li>
<li>
<p>HQ Camera Module <a href="https://datasheets.raspberrypi.com/hq-camera/hq-camera-mechanical-drawing.pdf">PDF</a></p>
</li>
<li>
<p>HQ Camera Module lens mount <a href="https://datasheets.raspberrypi.com/hq-camera/hq-camera-lensmount-drawing.pdf">PDF</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<div name="schematics" data-unique="schematics"></div><h3 id="schematics">
<a class="anchor" href="https://www.raspberrypi.com/documentation/accessories/camera.html#schematics"></a>Schematics</h3>
<div class="ulist">
<ul>
<li>
<p>Camera Module v2 <a href="https://datasheets.raspberrypi.com/camera/camera-v2-schematics.pdf">PDF</a></p>
</li>
<li>
<p>HQ Camera Module <a href="https://datasheets.raspberrypi.com/hq-camera/hq-camera-schematics.pdf">PDF</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<div name="raspberry-pi-hq-camera-filter-removal" data-unique="raspberry-pi-hq-camera-filter-removal"></div><h3 id="raspberry-pi-hq-camera-filter-removal">
<a class="anchor" href="https://www.raspberrypi.com/documentation/accessories/camera.html#raspberry-pi-hq-camera-filter-removal"></a>Raspberry Pi HQ Camera Filter Removal</h3>
<div class="paragraph">
<p>The High Quality Camera contains an IR filter, which is used to reduce the cameras sensitivity to infrared light. This ensures that outdoor photos look more natural. However, some nature photography can be enhanced with the removal of this filter; the colours of sky, plants, and water can be affected by its removal. The camera can also be used without the filter for night vision in a location that is illuminated with infrared light.</p>
</div>
<div class="admonitionblock warning">
<table>
<tbody><tr>
<td class="icon">
<div class="title">Warning</div>
</td>
<td class="content">
<strong>This procedure cannot be reversed:</strong> the adhesive that attaches the filter will not survive being lifted and replaced, and while the IR filter is about 1.1mm thick, it may crack when it is removed. <strong>Removing it will void the warranty on the product</strong>. Nevertheless, removing the filter will be desirable to some users.
</td>
</tr>
</tbody></table>
</div>
<div class="paragraph">
<p>To remove the filter:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Work in a clean and dust-free environment, as the sensor will be exposed to the air.
<span class="image"><img src="./Raspberry Pi Documentation - Camera_files/rpi_hq_cam_sensor.jpg" alt="camera sensor"></span></p>
</li>
<li>
<p>Unscrew the two 1.5 mm hex lock keys on the underside of the main circuit board. Be careful not to let the washers roll away. There is a gasket of slightly sticky material between the housing and PCB which will require some force to separate.
<span class="image"><img src="./Raspberry Pi Documentation - Camera_files/rpi_hq_cam_gasket.jpg" alt="camera gasket"></span></p>
</li>
<li>
<p>Lift up the board and place it down on a very clean surface. Make sure the sensor does not touch the surface.</p>
</li>
<li>
<p>Before completing the next step, read through all of the steps and decide whether you are willing to void your warranty. <strong>Do not proceed</strong> unless you are sure that you are willing to void your warranty.</p>
</li>
<li>
<p>Turn the lens around so that it is "looking" upwards and place it on a table.
You may try some ways to weaken the adhesive, such as a little isopropyl alcohol and/or heat (~20-30 C). Using a pen top or similar soft plastic item, push down on the filter only at the very edges where the glass attaches to the aluminium - to minimise the risk of breaking the filter. The glue will break and the filter will detach from the lens mount.
<span class="image"><img src="./Raspberry Pi Documentation - Camera_files/rpi_hq_cam_ir_filter.jpg" alt="camera ir filter"></span></p>
</li>
<li>
<p>Given that changing lenses will expose the sensor, at this point you could affix a clear filter (for example, OHP plastic) to minimize the chance of dust entering the sensor cavity.
<span class="image"><img src="./Raspberry Pi Documentation - Camera_files/rpi_hq_cam_clear_filter.jpg" alt="camera protective filter"></span></p>
</li>
<li>
<p>Replace the main housing over the circuit board. Be sure to realign the housing with the gasket, which remains on the circuit board.</p>
</li>
<li>
<p>The nylon washer prevents damage to the circuit board; apply this washer first. Next, fit the steel washer, which prevents damage to the nylon washer.</p>
</li>
<li>
<p>Screw down the two hex lock keys. As long as the washers have been fitted in the correct order, they do not need to be screwed very tightly.</p>
</li>
<li>
<p>Note that it is likely to be difficult or impossible to glue the filter back in place and return the device to functioning as a normal optical camera.</p>
</li>
</ol>
</div>
</div>
</div>
</div>
<div class="sect1">
<div name="libcamera-and-libcamera-apps" data-unique="libcamera-and-libcamera-apps"></div><h2 id="libcamera-and-libcamera-apps">
<a class="anchor" href="https://www.raspberrypi.com/documentation/accessories/camera.html#libcamera-and-libcamera-apps"></a><code>libcamera</code> and <code>libcamera-apps</code>
</h2>
<div class="sectionbody">
<div class="paragraph edit-link">
<p>Edit this <a href="https://github.com/raspberrypi/documentation/blob/develop/documentation/asciidoc/accessories/camera/libcamera_apps_intro.adoc">on GitHub</a></p>
</div>
<div class="sect2">
<div name="introduction" data-unique="introduction"></div><h3 id="introduction">
<a class="anchor" href="https://www.raspberrypi.com/documentation/accessories/camera.html#introduction"></a>Introduction</h3>
<div class="paragraph">
<p><code>libcamera</code> is a new software library aimed at supporting complex camera systems directly from the Linux operating system. In the case of the Raspberry Pi it enables us to drive the camera system directly from open source code running on ARM processors. The proprietary code running on the Broadcom GPU, and to which users have no access at all, is almost completely by-passed.</p>
</div>
<div class="paragraph">
<p><code>libcamera</code> presents a C++ API to applications and works at the level of configuring the camera and then allowing an application to request image frames. These image buffers reside in system memory and can be passed directly to still image encoders (such as JPEG) or to video encoders (such as h.264), though such ancillary functions as encoding images or displaying them are strictly beyond the purview of <code>libcamera</code> itself.</p>
</div>
<div class="paragraph">
<p>For this reason Raspberry Pi supplies a small set of example <code>libcamera-apps</code>. These are simple applications, built on top of <code>libcamera</code>, and are designed largely to emulate the function of the legacy stack built on Broadcoms propretary GPU code (some users will recognise these legacy applications as <code>raspstill</code> and <code>raspivid</code>). The applications we provide are:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><em>libcamera-hello</em> A simple "hello world" application which starts a camera preview stream and displays it on the screen.</p>
</li>
<li>
<p><em>libcamera-jpeg</em> A simple application to run a preview window and then capture high resolution still images.</p>
</li>
<li>
<p><em>libcamera-still</em> A more complex still image capture application which emulates more of the features of <code>raspistill</code>.</p>
</li>
<li>
<p><em>libcamera-vid</em> A video capture application.</p>
</li>
<li>
<p><em>libcamera-raw</em> A basic application for capturing raw (unprocessed Bayer) frames directly from the sensor.</p>
</li>
<li>
<p><em>libcamera-detect</em> This application is not built by default, but users can build it if they have TensorFlow Lite installed on their Raspberry Pi. It captures JPEG images when certain objects are detected.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Raspberry Pis <code>libcamera-apps</code> are not only command line applications that make it easy to capture images and video from the camera, they are also examples of how users can create their own libcamera-based applications with custom functionality to suit their own requirements. The source code for the <code>libcamera-apps</code> is freely available under a BSD 2-Clause licence at <a href="https://github.com/raspberrypi/libcamera-apps" class="bare">https://github.com/raspberrypi/libcamera-apps</a>.</p>
</div>
<div class="sect3">
<h4 id="more-about-libcamera">
<a class="anchor" href="https://www.raspberrypi.com/documentation/accessories/camera.html#more-about-libcamera"></a>More about <code>libcamera</code>
</h4>
<div class="paragraph">
<p><code>libcamera</code> is an open source Linux community project. More information is available at the <a href="https://libcamera.org/"><code>libcamera</code> website</a>.</p>
</div>
<div class="paragraph">
<p>The <code>libcamera</code> source code can be found and checked out from the <a href="https://git.linuxtv.org/libcamera.git/">official libcamera repository</a>.</p>
</div>
<div class="paragraph">
<p>Underneath the <code>libcamera</code> core, Raspberry Pi provides a custom <em>pipeline handler</em>, which is the layer that <code>libcamera</code> uses to drive the sensor and ISP (Image Signal Processor) on the Raspberry Pi itself. Also part of this is a collection of well-known <em>control algorithms</em>, or <em>IPAs</em> (Image Processing Algorithms) in <code>libcamera</code> parlance, such as AEC/AGC (Auto Exposure/Gain Control), AWB (Auto White Balance), ALSC (Auto Lens Shading Correction) and so on.</p>
</div>
<div class="paragraph">
<p>All this code is open source and now runs on the Raspberry Pis ARM cores. There is only a very thin layer of code on the GPU which translates Raspberry Pis own control parameters into register writes for the Broadcom ISP.</p>
</div>
<div class="paragraph">
<p>Raspberry Pis implementation of <code>libcamera</code> supports not only the three standard Raspberry Pi cameras (the OV5647 or V1 camera, the IMX219 or V2 camera and the IMX477 or HQ camera) but also third party senors such as the IMX290, IMX327, OV9281, IMX378. Raspberry Pi is keen to work with vendors who would like to see their sensors supported directly by <code>libcamera</code>.</p>
</div>
<div class="paragraph">
<p>Moreover, Raspberry Pi supplies a <em>tuning file</em> for each of these sensors which can be edited to change the processing performed by the Raspberry Pi hardware on the raw images received from the image sensor, including aspects like the colour processing, the amount of noise suppression or the behaviour of the control algorithms.</p>
</div>
<div class="paragraph">
<p>For further information on <code>libcamera</code> for the Raspberry Pi, please consult the <a href="https://datasheets.raspberrypi.com/camera/raspberry-pi-camera-guide.pdf">Tuning Guide for the Raspberry Pi cameras and libcamera</a>.</p>
</div>
</div>
</div>
<div class="sect2">
<div name="getting-started" data-unique="getting-started"></div><h3 id="getting-started">
<a class="anchor" href="https://www.raspberrypi.com/documentation/accessories/camera.html#getting-started"></a>Getting Started</h3>
<div class="sect3">
<h4 id="using-the-camera-for-the-first-time">
<a class="anchor" href="https://www.raspberrypi.com/documentation/accessories/camera.html#using-the-camera-for-the-first-time"></a>Using the camera for the first time</h4>
<div class="admonitionblock note">
<table>
<tbody><tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
On Raspberry Pi 3 and earlier devices running <em>Bullseye</em> you need to re-enable <em>Glamor</em> in order to make the X-Windows hardware accelerated preview window work. To do this enter <code>sudo raspi-config</code> at a terminal window and then choose <code>Advanced Options</code>, <code>Glamor</code> and <code>Yes</code>. Finally quit <code>raspi-config</code> and let it reboot your Raspberry Pi.
</td>
</tr>
</tbody></table>
</div>
<div class="paragraph">
<p>When running a Raspberry Pi OS based on <em>Bullseye</em>, the 5 basic <code>libcamera-apps</code> are already installed. In this case, official Raspberry Pi cameras will also be detected and enabled automatically.</p>
</div>
<div class="paragraph">
<p>You can check that everything is working by entering:</p>
</div>
<div class="listingblock">
<button class="copy-button hidden" aria-label="copy code to clipboard" type="button" aria-hidden="true"><div class="copy-button-inner">
<svg xmlns="http://www.w3.org/2000/svg" id="Layer_1" data-name="Layer 1" viewBox="0 0 12 12"><rect x="1" y="6" width="5" height="1"></rect><path d="M10,1H8A1,1,0,0,0,7,0H6A1,1,0,0,0,5,1H3A1,1,0,0,0,2,2V5H3V2H4V3H9V2h1v9H3V8H2v3a1,1,0,0,0,1,1h7a1,1,0,0,0,1-1V2A1,1,0,0,0,10,1ZM6.5,2.25a.75.75,0,1,1,.75-.75A.76.76,0,0,1,6.5,2.25Z"></path><path d="M6.32,6.32,4.43,4.43A.25.25,0,0,0,4,4.6V8.4a.25.25,0,0,0,.43.17L6.32,6.68A.25.25,0,0,0,6.32,6.32Z"></path></svg><strong class="copy-button-label"></strong><span class="tooltip hidden"> Copy to Clipboard</span>
</div></button>
<div class="content">
<pre class="highlight"><code class="language-bash" data-lang="bash">libcamera-hello</code></pre>
</div>
</div>
<div class="paragraph">
<p>You should see a camera preview window for about 5 seconds.</p>
</div>
<div class="paragraph">
<p>Users running <em>Buster</em> will need to <a href="https://www.raspberrypi.com/documentation/accessories/camera.html#binary-packages">install one of the <code>libcamera-apps</code> packages</a> first and then configure their <code>/boot/config.txt</code> file <a href="https://www.raspberrypi.com/documentation/accessories/camera.html#if-you-do-need-to-alter-the-configuration">with the appropriate overlay</a> for the connected camera. Be aware that <em>libcamera</em> and the legacy <em>raspicam</em> stack cannot operate at the same time - to return to the legacy stack after using <em>libcamera</em> you will need to comment out the <code>dtoverlay</code> change you made and reboot the system.</p>
</div>
<div class="admonitionblock note">
<table>
<tbody><tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
Raspberry Pi 3 and older devices may not by default be using the correct display driver. Refer to the <code>/boot/config.txt</code> file and ensure that either <code>dtoverlay=vc4-fkms-v3d</code> or <code>dtoverlay=vc4-kms-v3d</code> is currently active. Please reboot if you needed to change this.
</td>
</tr>
</tbody></table>
</div>
</div>
<div class="sect3">
<h4 id="if-you-do-need-to-alter-the-configuration">
<a class="anchor" href="https://www.raspberrypi.com/documentation/accessories/camera.html#if-you-do-need-to-alter-the-configuration"></a>If you do need to alter the configuration</h4>
<div class="paragraph">
<p>You may need to alter the camera configuration in your <code>/boot/config.txt</code> file if:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>You are using a 3rd party camera (the manufacturers instructions should explain the changes you need to make).</p>
</li>
<li>
<p>You are using an official Raspberry Pi camera but wish to use a non-standard driver/overlay.</p>
</li>
<li>
<p>You are using an older version (<em>Buster</em> or earlier) of the operating system (in which case we would recommend upgrading first if this is possible).</p>
</li>
</ul>
</div>
<div class="admonitionblock tip">
<table>
<tbody><tr>
<td class="icon">
<div class="title">Tip</div>
</td>
<td class="content">
You can find out what operating system version you have by entering <code>cat /etc/os-release</code> and checking (among others) the <code>VERSION</code> field. Note that <em>Buster</em> is version 10 and <em>Bullseye</em> is version 11.
</td>
</tr>
</tbody></table>
</div>
<div class="paragraph">
<p>If you do need to add your own <code>dtoverlay</code>, the following are currently recognised.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Camera Module</th>
<th class="tableblock halign-left valign-top">In <code>/boot/config.txt</code>
</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">V1 camera (OV5647)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>dtoverlay=ov5647</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">V2 camera (IMX219)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>dtoverlay=imx219</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">HQ camera (IMX477)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>dtoverlay=imx477</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">IMX290 and IMX327</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>dtoverlay=imx290,clock-frequency=74250000</code> or <code>dtoverlay=imx290,clock-frequency=37125000</code> (both modules share the imx290 kernel driver; please refer to instructions from the module vendor for the correct frequency)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">IMX378</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>dtoverlay=imx378</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">OV9281</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>dtoverlay=ov9281</code></p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>To override the automatic camera detection, <em>Bullseye</em> users will also need to delete the entry <code>camera_auto_detect=1</code> if present in the <code>config.txt</code> file. Your Raspberry Pi will need to be rebooted after editing this file.</p>
</div>
<div class="admonitionblock note">
<table>
<tbody><tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
Setting <code>camera_auto_detect=0</code> disables the boot time detection completely.
</td>
</tr>
</tbody></table>
</div>
</div>
</div>
<div class="sect2">
<div name="libcamera-hello" data-unique="libcamera-hello"></div><h3 id="libcamera-hello">
<a class="anchor" href="https://www.raspberrypi.com/documentation/accessories/camera.html#libcamera-hello"></a><code>libcamera-hello</code>
</h3>
<div class="paragraph">
<p><code>libcamera-hello</code> is the equivalent of a "hello world" application for the camera. It starts the camera, displays a preview window, and does nothing else. For example</p>
</div>
<div class="listingblock">
<button class="copy-button hidden" aria-label="copy code to clipboard" type="button" aria-hidden="true"><div class="copy-button-inner">
<svg xmlns="http://www.w3.org/2000/svg" id="Layer_1" data-name="Layer 1" viewBox="0 0 12 12"><rect x="1" y="6" width="5" height="1"></rect><path d="M10,1H8A1,1,0,0,0,7,0H6A1,1,0,0,0,5,1H3A1,1,0,0,0,2,2V5H3V2H4V3H9V2h1v9H3V8H2v3a1,1,0,0,0,1,1h7a1,1,0,0,0,1-1V2A1,1,0,0,0,10,1ZM6.5,2.25a.75.75,0,1,1,.75-.75A.76.76,0,0,1,6.5,2.25Z"></path><path d="M6.32,6.32,4.43,4.43A.25.25,0,0,0,4,4.6V8.4a.25.25,0,0,0,.43.17L6.32,6.68A.25.25,0,0,0,6.32,6.32Z"></path></svg><strong class="copy-button-label"></strong><span class="tooltip hidden"> Copy to Clipboard</span>
</div></button>
<div class="content">
<pre class="highlight"><code class="language-bash" data-lang="bash">libcamera-hello</code></pre>
</div>
</div>
<div class="paragraph">
<p>should display a preview window for about 5 seconds. The <code>-t &lt;duration&gt;</code> option lets the user select how long the window is displayed, where <code>&lt;duration&gt;</code> is given in milliseconds. To run the preview indefinitely, use:</p>
</div>
<div class="listingblock">
<button class="copy-button hidden" aria-label="copy code to clipboard" type="button" aria-hidden="true"><div class="copy-button-inner">
<svg xmlns="http://www.w3.org/2000/svg" id="Layer_1" data-name="Layer 1" viewBox="0 0 12 12"><rect x="1" y="6" width="5" height="1"></rect><path d="M10,1H8A1,1,0,0,0,7,0H6A1,1,0,0,0,5,1H3A1,1,0,0,0,2,2V5H3V2H4V3H9V2h1v9H3V8H2v3a1,1,0,0,0,1,1h7a1,1,0,0,0,1-1V2A1,1,0,0,0,10,1ZM6.5,2.25a.75.75,0,1,1,.75-.75A.76.76,0,0,1,6.5,2.25Z"></path><path d="M6.32,6.32,4.43,4.43A.25.25,0,0,0,4,4.6V8.4a.25.25,0,0,0,.43.17L6.32,6.68A.25.25,0,0,0,6.32,6.32Z"></path></svg><strong class="copy-button-label"></strong><span class="tooltip hidden"> Copy to Clipboard</span>
</div></button>
<div class="content">
<pre class="highlight"><code class="language-bash" data-lang="bash">libcamera-hello -t 0</code></pre>
</div>
</div>
<div class="paragraph">
<p>The preview can be halted either by clicking the windows close button, or using <code>Ctrl-C</code> in the terminal.</p>
</div>
<div class="sect3">
<h4 id="options">
<a class="anchor" href="https://www.raspberrypi.com/documentation/accessories/camera.html#options"></a>Options</h4>
<div class="paragraph">
<p><code>libcamera-apps</code> uses a 3rd party library to interpret command line options. This includes <em>long form</em> options where the option name consists of more than one character preceded by <code>--</code>, and <em>short form</em> options which can only be a single character preceded by a single <code>-</code>. For the most part option names are chosen to match those used by the legacy <code>raspicam</code> applications with the exception that we can no longer handle multi-character option names with a single <code>-</code>. Any such legacy options have been dropped and the long form with <code>--</code> must be used instead.</p>
</div>
<div class="paragraph">
<p>The options are classified broadly into 3 groups, namely those that are common, those that are specific to still images, and those that are for video encoding. They are supported in an identical manner across all the applications where they apply.</p>
</div>
<div class="paragraph">
<p>Please refer to the <a href="https://www.raspberrypi.com/documentation/accessories/camera.html#common-command-line-options">command line options documentation</a> for a complete list.</p>
</div>
</div>
<div class="sect3">
<h4 id="the-tuning-file">
<a class="anchor" href="https://www.raspberrypi.com/documentation/accessories/camera.html#the-tuning-file"></a>The Tuning File</h4>
<div class="paragraph">
<p>Raspberry Pis <code>libcamera</code> implementation includes a <em>tuning file</em> for each different type of camera module. This is a file that describes or "tunes" the parameters that will be passed to the algorithms and hardware to produce the best image quality. <code>libcamera</code> is only able to determine automatically the image sensor being used, not the module as a whole - even though the whole module affects the "tuning".</p>
</div>
<div class="paragraph">
<p>For this reason it is sometimes necessary to override the default tuning file for a particular sensor.</p>
</div>
<div class="paragraph">
<p>For example, the NOIR (no IR-filter) versions of sensors require different AWB settings to the standard versions, so the IMX219 NOIR should be run using</p>
</div>
<div class="listingblock">
<button class="copy-button hidden" aria-label="copy code to clipboard" type="button" aria-hidden="true"><div class="copy-button-inner">
<svg xmlns="http://www.w3.org/2000/svg" id="Layer_1" data-name="Layer 1" viewBox="0 0 12 12"><rect x="1" y="6" width="5" height="1"></rect><path d="M10,1H8A1,1,0,0,0,7,0H6A1,1,0,0,0,5,1H3A1,1,0,0,0,2,2V5H3V2H4V3H9V2h1v9H3V8H2v3a1,1,0,0,0,1,1h7a1,1,0,0,0,1-1V2A1,1,0,0,0,10,1ZM6.5,2.25a.75.75,0,1,1,.75-.75A.76.76,0,0,1,6.5,2.25Z"></path><path d="M6.32,6.32,4.43,4.43A.25.25,0,0,0,4,4.6V8.4a.25.25,0,0,0,.43.17L6.32,6.68A.25.25,0,0,0,6.32,6.32Z"></path></svg><strong class="copy-button-label"></strong><span class="tooltip hidden"> Copy to Clipboard</span>
</div></button>
<div class="content">
<pre class="highlight"><code class="language-bash" data-lang="bash">libcamera-hello --tuning-file /usr/share/libcamera/ipa/raspberrypi/imx219_noir.json</code></pre>
</div>
</div>
<div class="paragraph">
<p>If you are using a Soho Enterprises SE327M12 module you should use</p>
</div>
<div class="listingblock">
<button class="copy-button hidden" aria-label="copy code to clipboard" type="button" aria-hidden="true"><div class="copy-button-inner">
<svg xmlns="http://www.w3.org/2000/svg" id="Layer_1" data-name="Layer 1" viewBox="0 0 12 12"><rect x="1" y="6" width="5" height="1"></rect><path d="M10,1H8A1,1,0,0,0,7,0H6A1,1,0,0,0,5,1H3A1,1,0,0,0,2,2V5H3V2H4V3H9V2h1v9H3V8H2v3a1,1,0,0,0,1,1h7a1,1,0,0,0,1-1V2A1,1,0,0,0,10,1ZM6.5,2.25a.75.75,0,1,1,.75-.75A.76.76,0,0,1,6.5,2.25Z"></path><path d="M6.32,6.32,4.43,4.43A.25.25,0,0,0,4,4.6V8.4a.25.25,0,0,0,.43.17L6.32,6.68A.25.25,0,0,0,6.32,6.32Z"></path></svg><strong class="copy-button-label"></strong><span class="tooltip hidden"> Copy to Clipboard</span>
</div></button>
<div class="content">
<pre class="highlight"><code class="language-bash" data-lang="bash">libcamera-hello --tuning-file /usr/share/libcamera/ipa/raspberrypi/se327m12.json</code></pre>
</div>
</div>
<div class="paragraph">
<p>Notice how this also means that users can copy an existing tuning file and alter it according to their own preferences, so long as the <code>--tuning-file</code> parameter is pointed to the new version.</p>
</div>
<div class="paragraph">
<p>Finally, the <code>--tuning-file</code> parameter, in common with other <code>libcamera-hello</code> command line options, applies identically across all the <code>libcamera-apps</code>.</p>
</div>
</div>
<div class="sect3">
<h4 id="preview-window">
<a class="anchor" href="https://www.raspberrypi.com/documentation/accessories/camera.html#preview-window"></a>Preview Window</h4>
<div class="paragraph">
<p>Most of the <code>libcamera-apps</code> display a preview image in a window. When X Windows is not running it will draw directly to the display using Linux DRM (Direct Rendering Manager), otherwise it will attempt to use X Windows. Both paths use zero-copy buffer sharing with the GPU, and a consequence of this is that X forwarding is <em>not</em> supported.</p>
</div>
<div class="paragraph">
<p>For this reason there is a third kind of preview window which does support X forwarding, and can be requested with the <code>--qt-preview</code> option. This implementation does not benefit from zero-copy buffer sharing nor from 3D acceleration which makes it computationally expensive (especially for large previews), and so is not normally recommended.</p>
</div>
<div class="admonitionblock note">
<table>
<tbody><tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
Older systems using Gtk2 may, when linked with OpenCV, produce <code>Glib-GObject</code> errors and fail to show the Qt preview window. In this case please (as root) edit the file <code>/etc/xdg/qt5ct/qt5ct.conf</code> and replace the line containing <code>style=gtk2</code> with <code>style=gtk3</code>.
</td>
</tr>
</tbody></table>
</div>
<div class="paragraph">
<p>The preview window can be suppressed entirely with the <code>-n</code> (<code>--nopreview</code>) option.</p>
</div>
<div class="paragraph">
<p>The <code>--info-text</code> option allows the user to request that certain helpful image information is displayed on the window title bar using "% directives". For example</p>
</div>
<div class="listingblock">
<button class="copy-button hidden" aria-label="copy code to clipboard" type="button" aria-hidden="true"><div class="copy-button-inner">
<svg xmlns="http://www.w3.org/2000/svg" id="Layer_1" data-name="Layer 1" viewBox="0 0 12 12"><rect x="1" y="6" width="5" height="1"></rect><path d="M10,1H8A1,1,0,0,0,7,0H6A1,1,0,0,0,5,1H3A1,1,0,0,0,2,2V5H3V2H4V3H9V2h1v9H3V8H2v3a1,1,0,0,0,1,1h7a1,1,0,0,0,1-1V2A1,1,0,0,0,10,1ZM6.5,2.25a.75.75,0,1,1,.75-.75A.76.76,0,0,1,6.5,2.25Z"></path><path d="M6.32,6.32,4.43,4.43A.25.25,0,0,0,4,4.6V8.4a.25.25,0,0,0,.43.17L6.32,6.68A.25.25,0,0,0,6.32,6.32Z"></path></svg><strong class="copy-button-label"></strong><span class="tooltip hidden"> Copy to Clipboard</span>
</div></button>
<div class="content">
<pre class="highlight"><code class="language-bash" data-lang="bash">libcamera-hello --info-text "red gain %rg, blue gain %bg"</code></pre>
</div>
</div>
<div class="paragraph">
<p>will display the current red and blue gain values.</p>
</div>
<div class="paragraph">
<p>For the HQ camera, use <code>--info-text "%focus"</code> to display the focus measure, which will be helpful for focusing the lens.</p>
</div>
<div class="paragraph">
<p>A full description of the <code>--info-text</code> parameter is given in the <a href="https://www.raspberrypi.com/documentation/accessories/camera.html#common-command-line-options">command line options documentation</a>.</p>
</div>
</div>
</div>
<div class="sect2">
<div name="libcamera-jpeg" data-unique="libcamera-jpeg"></div><h3 id="libcamera-jpeg">
<a class="anchor" href="https://www.raspberrypi.com/documentation/accessories/camera.html#libcamera-jpeg"></a><code>libcamera-jpeg</code>
</h3>
<div class="paragraph">
<p><code>libcamera-jpeg</code> is a simple still image capture application. It deliberately avoids some of the additional features of <code>libcamera-still</code> which attempts to emulate <code>raspistill</code> more fully. As such the code is significantly easier to understand, and in practice still provides many of the same features.</p>
</div>
<div class="paragraph">
<p>To capture a full resolution JPEG image use</p>
</div>
<div class="listingblock">
<button class="copy-button hidden" aria-label="copy code to clipboard" type="button" aria-hidden="true"><div class="copy-button-inner">
<svg xmlns="http://www.w3.org/2000/svg" id="Layer_1" data-name="Layer 1" viewBox="0 0 12 12"><rect x="1" y="6" width="5" height="1"></rect><path d="M10,1H8A1,1,0,0,0,7,0H6A1,1,0,0,0,5,1H3A1,1,0,0,0,2,2V5H3V2H4V3H9V2h1v9H3V8H2v3a1,1,0,0,0,1,1h7a1,1,0,0,0,1-1V2A1,1,0,0,0,10,1ZM6.5,2.25a.75.75,0,1,1,.75-.75A.76.76,0,0,1,6.5,2.25Z"></path><path d="M6.32,6.32,4.43,4.43A.25.25,0,0,0,4,4.6V8.4a.25.25,0,0,0,.43.17L6.32,6.68A.25.25,0,0,0,6.32,6.32Z"></path></svg><strong class="copy-button-label"></strong><span class="tooltip hidden"> Copy to Clipboard</span>
</div></button>
<div class="content">
<pre class="highlight"><code class="language-bash" data-lang="bash">libcamera-jpeg -o test.jpg</code></pre>
</div>
</div>
<div class="paragraph">
<p>which will display a preview for about 5 seconds, and then capture a full resolution JPEG image to the file <code>test.jpg</code>.</p>
</div>
<div class="paragraph">
<p>The <code>-t &lt;duration&gt;</code> option can be used to alter the length of time the preview shows, and the <code>--width</code> and <code>--height</code> options will change the resolution of the captured still image. For example</p>
</div>
<div class="listingblock">
<button class="copy-button hidden" aria-label="copy code to clipboard" type="button" aria-hidden="true"><div class="copy-button-inner">
<svg xmlns="http://www.w3.org/2000/svg" id="Layer_1" data-name="Layer 1" viewBox="0 0 12 12"><rect x="1" y="6" width="5" height="1"></rect><path d="M10,1H8A1,1,0,0,0,7,0H6A1,1,0,0,0,5,1H3A1,1,0,0,0,2,2V5H3V2H4V3H9V2h1v9H3V8H2v3a1,1,0,0,0,1,1h7a1,1,0,0,0,1-1V2A1,1,0,0,0,10,1ZM6.5,2.25a.75.75,0,1,1,.75-.75A.76.76,0,0,1,6.5,2.25Z"></path><path d="M6.32,6.32,4.43,4.43A.25.25,0,0,0,4,4.6V8.4a.25.25,0,0,0,.43.17L6.32,6.68A.25.25,0,0,0,6.32,6.32Z"></path></svg><strong class="copy-button-label"></strong><span class="tooltip hidden"> Copy to Clipboard</span>
</div></button>
<div class="content">
<pre class="highlight"><code class="language-bash" data-lang="bash">libcamera-jpeg -o test.jpg -t 2000 --width 640 --height 480</code></pre>
</div>
</div>
<div class="paragraph">
<p>will capture a VGA sized image.</p>
</div>
<div class="sect3">
<h4 id="exposure-control">
<a class="anchor" href="https://www.raspberrypi.com/documentation/accessories/camera.html#exposure-control"></a>Exposure Control</h4>
<div class="paragraph">
<p>All the <code>libcamera-apps</code> allow the user to run the camera with fixed shutter speed and gain. For example</p>
</div>
<div class="listingblock">
<button class="copy-button hidden" aria-label="copy code to clipboard" type="button" aria-hidden="true"><div class="copy-button-inner">
<svg xmlns="http://www.w3.org/2000/svg" id="Layer_1" data-name="Layer 1" viewBox="0 0 12 12"><rect x="1" y="6" width="5" height="1"></rect><path d="M10,1H8A1,1,0,0,0,7,0H6A1,1,0,0,0,5,1H3A1,1,0,0,0,2,2V5H3V2H4V3H9V2h1v9H3V8H2v3a1,1,0,0,0,1,1h7a1,1,0,0,0,1-1V2A1,1,0,0,0,10,1ZM6.5,2.25a.75.75,0,1,1,.75-.75A.76.76,0,0,1,6.5,2.25Z"></path><path d="M6.32,6.32,4.43,4.43A.25.25,0,0,0,4,4.6V8.4a.25.25,0,0,0,.43.17L6.32,6.68A.25.25,0,0,0,6.32,6.32Z"></path></svg><strong class="copy-button-label"></strong><span class="tooltip hidden"> Copy to Clipboard</span>
</div></button>
<div class="content">
<pre class="highlight"><code class="language-bash" data-lang="bash">libcamera-jpeg -o test.jpg -t 2000 --shutter 20000 --gain 1.5</code></pre>
</div>
</div>
<div class="paragraph">
<p>would capture an image with an exposure of 20ms and a gain of 1.5x. Note that the gain will be applied as <em>analogue gain</em> within the sensor up until it reaches the maximum analogue gain permitted by the kernel sensor driver, after which the remainder will be applied as digital gain.</p>
</div>
<div class="paragraph">
<p>Raspberry Pis AEC/AGC algorithm allows applications to specify <em>exposure compensation</em>, that is, the ability to make images darker or brighter by a given number of <em>stops</em>, as follows</p>
</div>
<div class="listingblock">
<button class="copy-button hidden" aria-label="copy code to clipboard" type="button" aria-hidden="true"><div class="copy-button-inner">
<svg xmlns="http://www.w3.org/2000/svg" id="Layer_1" data-name="Layer 1" viewBox="0 0 12 12"><rect x="1" y="6" width="5" height="1"></rect><path d="M10,1H8A1,1,0,0,0,7,0H6A1,1,0,0,0,5,1H3A1,1,0,0,0,2,2V5H3V2H4V3H9V2h1v9H3V8H2v3a1,1,0,0,0,1,1h7a1,1,0,0,0,1-1V2A1,1,0,0,0,10,1ZM6.5,2.25a.75.75,0,1,1,.75-.75A.76.76,0,0,1,6.5,2.25Z"></path><path d="M6.32,6.32,4.43,4.43A.25.25,0,0,0,4,4.6V8.4a.25.25,0,0,0,.43.17L6.32,6.68A.25.25,0,0,0,6.32,6.32Z"></path></svg><strong class="copy-button-label"></strong><span class="tooltip hidden"> Copy to Clipboard</span>
</div></button>
<div class="content">
<pre class="highlight"><code class="language-bash" data-lang="bash">libcamera-jpeg --ev -0.5 -o darker.jpg
libcamera-jpeg --ev 0 -o normal.jpg
libcamera-jpeg --ev 0.5 -o brighter.jpg</code></pre>
</div>
</div>
<div class="sect4">
<h5 id="further-remarks-on-digital-gain">
<a class="anchor" href="https://www.raspberrypi.com/documentation/accessories/camera.html#further-remarks-on-digital-gain"></a>Further remarks on Digital Gain</h5>
<div class="paragraph">
<p>Digital gain is applied by the ISP (the Image Signal Processor), not by the sensor. The digital gain will always be very close to 1.0 unless:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>The total gain requested (either by the <code>--gain</code> option, or by the exposure profile in the camera tuning) exceeds that which can be applied as analogue gain within the sensor. Only the extra gain required will be applied as digital gain.</p>
</li>
<li>
<p>One of the colour gains is less than 1 (note that colour gains are applied as digital gain too). In this case the advertised digital gain will settle to 1 / min(red_gain, blue_gain). This actually means that one of the colour channels - just not the green one - is having unity digital gain applied to it.</p>
</li>
<li>
<p>The AEC/AGC is changing. When the AEC/AGC is moving the digital gain will typically vary to some extent to try and smooth out any fluctuations, but it will quickly settle back to its "normal" value.</p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect2">
<div name="libcamera-still" data-unique="libcamera-still"></div><h3 id="libcamera-still">
<a class="anchor" href="https://www.raspberrypi.com/documentation/accessories/camera.html#libcamera-still"></a><code>libcamera-still</code>
</h3>
<div class="paragraph">
<p><code>libcamera-still</code> is very similar to <code>libcamera-jpeg</code> but supports more of the legacy <code>raspistill</code> options. As before, a single image can be captured with</p>
</div>
<div class="listingblock">
<button class="copy-button hidden" aria-label="copy code to clipboard" type="button" aria-hidden="true"><div class="copy-button-inner">
<svg xmlns="http://www.w3.org/2000/svg" id="Layer_1" data-name="Layer 1" viewBox="0 0 12 12"><rect x="1" y="6" width="5" height="1"></rect><path d="M10,1H8A1,1,0,0,0,7,0H6A1,1,0,0,0,5,1H3A1,1,0,0,0,2,2V5H3V2H4V3H9V2h1v9H3V8H2v3a1,1,0,0,0,1,1h7a1,1,0,0,0,1-1V2A1,1,0,0,0,10,1ZM6.5,2.25a.75.75,0,1,1,.75-.75A.76.76,0,0,1,6.5,2.25Z"></path><path d="M6.32,6.32,4.43,4.43A.25.25,0,0,0,4,4.6V8.4a.25.25,0,0,0,.43.17L6.32,6.68A.25.25,0,0,0,6.32,6.32Z"></path></svg><strong class="copy-button-label"></strong><span class="tooltip hidden"> Copy to Clipboard</span>
</div></button>
<div class="content">
<pre class="highlight"><code class="language-bash" data-lang="bash">libcamera-still -o test.jpg</code></pre>
</div>
</div>
<div class="sect3">
<h4 id="encoders">
<a class="anchor" href="https://www.raspberrypi.com/documentation/accessories/camera.html#encoders"></a>Encoders</h4>
<div class="paragraph">
<p><code>libcamera-still</code> allows files to be saved in a number of different formats. It supports both <code>png</code> and <code>bmp</code> encoding. It also allows files to be saved as a binary dump of RGB or YUV pixels with no encoding or file format at all. In these latter cases the application reading the files will have to understand the pixel arrangement for itself.</p>
</div>
<div class="listingblock">
<button class="copy-button hidden" aria-label="copy code to clipboard" type="button" aria-hidden="true"><div class="copy-button-inner">
<svg xmlns="http://www.w3.org/2000/svg" id="Layer_1" data-name="Layer 1" viewBox="0 0 12 12"><rect x="1" y="6" width="5" height="1"></rect><path d="M10,1H8A1,1,0,0,0,7,0H6A1,1,0,0,0,5,1H3A1,1,0,0,0,2,2V5H3V2H4V3H9V2h1v9H3V8H2v3a1,1,0,0,0,1,1h7a1,1,0,0,0,1-1V2A1,1,0,0,0,10,1ZM6.5,2.25a.75.75,0,1,1,.75-.75A.76.76,0,0,1,6.5,2.25Z"></path><path d="M6.32,6.32,4.43,4.43A.25.25,0,0,0,4,4.6V8.4a.25.25,0,0,0,.43.17L6.32,6.68A.25.25,0,0,0,6.32,6.32Z"></path></svg><strong class="copy-button-label"></strong><span class="tooltip hidden"> Copy to Clipboard</span>
</div></button>
<div class="content">
<pre class="highlight"><code class="language-bash" data-lang="bash">libcamera-still -e png -o test.png
libcamera-still -e bmp -o test.bmp
libcamera-still -e rgb -o test.data
libcamera-still -e yuv420 -o test.data</code></pre>
</div>
</div>
<div class="paragraph">
<p>Note that the format in which the image is saved depends on the <code>-e</code> (equivalently <code>--encoding</code>) option and is <em>not</em> selected automatically based on the output file name.</p>
</div>
</div>
<div class="sect3">
<h4 id="raw-image-capture">
<a class="anchor" href="https://www.raspberrypi.com/documentation/accessories/camera.html#raw-image-capture"></a>Raw Image Capture</h4>
<div class="paragraph">
<p><em>Raw</em> images are the images produced directly by the image sensor, before any processing is applied to them either by the ISP (Image Signal Processor) or any of the CPU cores. For colour image sensors these are usually <em>Bayer</em> format images. Note that <em>raw</em> images are quite different from the processed but unencoded RGB or YUV images that we saw earlier.</p>
</div>
<div class="paragraph">
<p>To capture a raw image use</p>
</div>
<div class="listingblock">
<button class="copy-button hidden" aria-label="copy code to clipboard" type="button" aria-hidden="true"><div class="copy-button-inner">
<svg xmlns="http://www.w3.org/2000/svg" id="Layer_1" data-name="Layer 1" viewBox="0 0 12 12"><rect x="1" y="6" width="5" height="1"></rect><path d="M10,1H8A1,1,0,0,0,7,0H6A1,1,0,0,0,5,1H3A1,1,0,0,0,2,2V5H3V2H4V3H9V2h1v9H3V8H2v3a1,1,0,0,0,1,1h7a1,1,0,0,0,1-1V2A1,1,0,0,0,10,1ZM6.5,2.25a.75.75,0,1,1,.75-.75A.76.76,0,0,1,6.5,2.25Z"></path><path d="M6.32,6.32,4.43,4.43A.25.25,0,0,0,4,4.6V8.4a.25.25,0,0,0,.43.17L6.32,6.68A.25.25,0,0,0,6.32,6.32Z"></path></svg><strong class="copy-button-label"></strong><span class="tooltip hidden"> Copy to Clipboard</span>
</div></button>
<div class="content">
<pre class="highlight"><code class="language-bash" data-lang="bash">libcamera-still -r -o test.jpg</code></pre>
</div>
</div>
<div class="paragraph">
<p>Here, the <code>-r</code> option (also <code>--raw</code>) indicates to capture the raw image as well as the JPEG. In fact, the raw image is the exact image from which the JPEG was produced. Raw images are saved in DNG (Adobe Digital Negative) format and are compatible with many standard applications, such as <em>dcraw</em> or <em>RawTherapee</em>. The raw image is saved to a file with the same name but the extension <code>.dng</code>, thus <code>test.dng</code> in this case.</p>
</div>
<div class="paragraph">
<p>These DNG files contain metadata pertaining to the image capture, including black levels, white balance information and the colour matrix used by the ISP to produce the JPEG. This makes these DNG files much more convenient for later "by hand" raw conversion with some of the aforementioned tools. Using <code>exiftool</code> shows all the metadata encoded into the DNG file:</p>
</div>
<div class="listingblock">
<button class="copy-button hidden" aria-label="copy code to clipboard" type="button" aria-hidden="true"><div class="copy-button-inner">
<svg xmlns="http://www.w3.org/2000/svg" id="Layer_1" data-name="Layer 1" viewBox="0 0 12 12"><rect x="1" y="6" width="5" height="1"></rect><path d="M10,1H8A1,1,0,0,0,7,0H6A1,1,0,0,0,5,1H3A1,1,0,0,0,2,2V5H3V2H4V3H9V2h1v9H3V8H2v3a1,1,0,0,0,1,1h7a1,1,0,0,0,1-1V2A1,1,0,0,0,10,1ZM6.5,2.25a.75.75,0,1,1,.75-.75A.76.76,0,0,1,6.5,2.25Z"></path><path d="M6.32,6.32,4.43,4.43A.25.25,0,0,0,4,4.6V8.4a.25.25,0,0,0,.43.17L6.32,6.68A.25.25,0,0,0,6.32,6.32Z"></path></svg><strong class="copy-button-label"></strong><span class="tooltip hidden"> Copy to Clipboard</span>
</div></button>
<div class="content">
<pre>File Name                       : test.dng
Directory                       : .
File Size                       : 24 MB
File Modification Date/Time     : 2021:08:17 16:36:18+01:00
File Access Date/Time           : 2021:08:17 16:36:18+01:00
File Inode Change Date/Time     : 2021:08:17 16:36:18+01:00
File Permissions                : rw-r--r--
File Type                       : DNG
File Type Extension             : dng
MIME Type                       : image/x-adobe-dng
Exif Byte Order                 : Little-endian (Intel, II)
Make                            : Raspberry Pi
Camera Model Name               : /base/soc/i2c0mux/i2c@1/imx477@1a
Orientation                     : Horizontal (normal)
Software                        : libcamera-still
Subfile Type                    : Full-resolution Image
Image Width                     : 4056
Image Height                    : 3040
Bits Per Sample                 : 16
Compression                     : Uncompressed
Photometric Interpretation      : Color Filter Array
Samples Per Pixel               : 1
Planar Configuration            : Chunky
CFA Repeat Pattern Dim          : 2 2
CFA Pattern 2                   : 2 1 1 0
Black Level Repeat Dim          : 2 2
Black Level                     : 256 256 256 256
White Level                     : 4095
DNG Version                     : 1.1.0.0
DNG Backward Version            : 1.0.0.0
Unique Camera Model             : /base/soc/i2c0mux/i2c@1/imx477@1a
Color Matrix 1                  : 0.8545269369 -0.2382823821 -0.09044229197 -0.1890484985 1.063961506 0.1062747385 -0.01334283455 0.1440163847 0.2593136724
As Shot Neutral                 : 0.4754476844 1 0.413686484
Calibration Illuminant 1        : D65
Strip Offsets                   : 0
Strip Byte Counts               : 0
Exposure Time                   : 1/20
ISO                             : 400
CFA Pattern                     : [Blue,Green][Green,Red]
Image Size                      : 4056x3040
Megapixels                      : 12.3
Shutter Speed                   : 1/20</pre>
</div>
</div>
<div class="paragraph">
<p>We note that there is only a single calibrated illuminant (the one determined by the AWB algorithm even though it gets labelled always as "D65"), and that dividing the ISO number by 100 gives the analogue gain that was being used.</p>
</div>
</div>
<div class="sect3">
<h4 id="very-long-exposures">
<a class="anchor" href="https://www.raspberrypi.com/documentation/accessories/camera.html#very-long-exposures"></a>Very long exposures</h4>
<div class="paragraph">
<p>To capture very long exposure images, we need to be careful to disable the AEC/AGC and AWB because these algorithms will otherwise force the user to wait for a number of frames while they converge. The way to disable them is to supply explicit values. Additionally, the entire preview phase of the capture can be skipped with the <code>--immediate</code> option.</p>
</div>
<div class="paragraph">
<p>So to perform a 100 second exposure capture, use</p>
</div>
<div class="paragraph">
<p><code>libcamera-still -o long_exposure.jpg --shutter 100000000 --gain 1 --awbgains 1,1 --immediate</code></p>
</div>
<div class="paragraph">
<p>For reference, the maximum exposure times of the three official Raspberry Pi cameras can be found in <a href="https://www.raspberrypi.com/documentation/accessories/camera.html#maximum-exposure-times">this table</a>.</p>
</div>
</div>
</div>
<div class="sect2">
<div name="libcamera-vid" data-unique="libcamera-vid"></div><h3 id="libcamera-vid">
<a class="anchor" href="https://www.raspberrypi.com/documentation/accessories/camera.html#libcamera-vid"></a><code>libcamera-vid</code>
</h3>
<div class="paragraph">
<p><code>libcamera-vid</code> is the video capture application. By default it uses the Raspberry Pis hardware H.264 encoder. It will display a preview window and write the encoded bitstream to the specified output. For example, to write a 10 second video to file use</p>
</div>
<div class="listingblock">
<button class="copy-button hidden" aria-label="copy code to clipboard" type="button" aria-hidden="true"><div class="copy-button-inner">
<svg xmlns="http://www.w3.org/2000/svg" id="Layer_1" data-name="Layer 1" viewBox="0 0 12 12"><rect x="1" y="6" width="5" height="1"></rect><path d="M10,1H8A1,1,0,0,0,7,0H6A1,1,0,0,0,5,1H3A1,1,0,0,0,2,2V5H3V2H4V3H9V2h1v9H3V8H2v3a1,1,0,0,0,1,1h7a1,1,0,0,0,1-1V2A1,1,0,0,0,10,1ZM6.5,2.25a.75.75,0,1,1,.75-.75A.76.76,0,0,1,6.5,2.25Z"></path><path d="M6.32,6.32,4.43,4.43A.25.25,0,0,0,4,4.6V8.4a.25.25,0,0,0,.43.17L6.32,6.68A.25.25,0,0,0,6.32,6.32Z"></path></svg><strong class="copy-button-label"></strong><span class="tooltip hidden"> Copy to Clipboard</span>
</div></button>
<div class="content">
<pre class="highlight"><code class="language-bash" data-lang="bash">libcamera-vid -t 10000 -o test.h264</code></pre>
</div>
</div>
<div class="paragraph">
<p>The resulting file can be played with <code>vlc</code> (among other applications)</p>
</div>
<div class="listingblock">
<button class="copy-button hidden" aria-label="copy code to clipboard" type="button" aria-hidden="true"><div class="copy-button-inner">
<svg xmlns="http://www.w3.org/2000/svg" id="Layer_1" data-name="Layer 1" viewBox="0 0 12 12"><rect x="1" y="6" width="5" height="1"></rect><path d="M10,1H8A1,1,0,0,0,7,0H6A1,1,0,0,0,5,1H3A1,1,0,0,0,2,2V5H3V2H4V3H9V2h1v9H3V8H2v3a1,1,0,0,0,1,1h7a1,1,0,0,0,1-1V2A1,1,0,0,0,10,1ZM6.5,2.25a.75.75,0,1,1,.75-.75A.76.76,0,0,1,6.5,2.25Z"></path><path d="M6.32,6.32,4.43,4.43A.25.25,0,0,0,4,4.6V8.4a.25.25,0,0,0,.43.17L6.32,6.68A.25.25,0,0,0,6.32,6.32Z"></path></svg><strong class="copy-button-label"></strong><span class="tooltip hidden"> Copy to Clipboard</span>
</div></button>
<div class="content">
<pre class="highlight"><code class="language-bash" data-lang="bash">vlc test.h264</code></pre>
</div>
</div>
<div class="paragraph">
<p>Note that this is an unpackaged video bitstream, it is not wrapped in any kind of container format (such as an mp4 file). The <code>--save-pts</code> option can be used to output frame timestamps so that the bitstream can subsequently be converted into an appropriate format using a tool like <code>mkvmerge</code>.</p>
</div>
<div class="paragraph">
<p><code>libcamera-vid -o test.h264 --save-pts timestamps.txt</code></p>
</div>
<div class="paragraph">
<p>and then if you want an <em>mkv</em> file:</p>
</div>
<div class="paragraph">
<p><code>mkvmerge -o test.mkv --timecodes 0:timestamps.txt test.h264</code></p>
</div>
<div class="sect3">
<h4 id="encoders-2">
<a class="anchor" href="https://www.raspberrypi.com/documentation/accessories/camera.html#encoders-2"></a>Encoders</h4>
<div class="paragraph">
<p>There is support for motion JPEG, and also for uncompressed and unformatted YUV420, for example</p>
</div>
<div class="listingblock">
<button class="copy-button hidden" aria-label="copy code to clipboard" type="button" aria-hidden="true"><div class="copy-button-inner">
<svg xmlns="http://www.w3.org/2000/svg" id="Layer_1" data-name="Layer 1" viewBox="0 0 12 12"><rect x="1" y="6" width="5" height="1"></rect><path d="M10,1H8A1,1,0,0,0,7,0H6A1,1,0,0,0,5,1H3A1,1,0,0,0,2,2V5H3V2H4V3H9V2h1v9H3V8H2v3a1,1,0,0,0,1,1h7a1,1,0,0,0,1-1V2A1,1,0,0,0,10,1ZM6.5,2.25a.75.75,0,1,1,.75-.75A.76.76,0,0,1,6.5,2.25Z"></path><path d="M6.32,6.32,4.43,4.43A.25.25,0,0,0,4,4.6V8.4a.25.25,0,0,0,.43.17L6.32,6.68A.25.25,0,0,0,6.32,6.32Z"></path></svg><strong class="copy-button-label"></strong><span class="tooltip hidden"> Copy to Clipboard</span>
</div></button>
<div class="content">
<pre class="highlight"><code class="language-bash" data-lang="bash">libcamera-vid -t 10000 --codec mjpeg -o test.mjpeg
libcamera-vid -t 10000 --codec yuv420 -o test.data</code></pre>
</div>
</div>
<div class="paragraph">
<p>In both cases the <code>--codec</code> parameter determines the output format, not the extension of the output file.</p>
</div>
<div class="paragraph">
<p>The <code>--segment</code> parameter breaks output files up into chunks of the segment size (given in milliseconds). This is quite handy for breaking a motion JPEG stream up into individual JPEG files by specifying very short (1 millisecond) segments.</p>
</div>
<div class="listingblock">
<button class="copy-button hidden" aria-label="copy code to clipboard" type="button" aria-hidden="true"><div class="copy-button-inner">
<svg xmlns="http://www.w3.org/2000/svg" id="Layer_1" data-name="Layer 1" viewBox="0 0 12 12"><rect x="1" y="6" width="5" height="1"></rect><path d="M10,1H8A1,1,0,0,0,7,0H6A1,1,0,0,0,5,1H3A1,1,0,0,0,2,2V5H3V2H4V3H9V2h1v9H3V8H2v3a1,1,0,0,0,1,1h7a1,1,0,0,0,1-1V2A1,1,0,0,0,10,1ZM6.5,2.25a.75.75,0,1,1,.75-.75A.76.76,0,0,1,6.5,2.25Z"></path><path d="M6.32,6.32,4.43,4.43A.25.25,0,0,0,4,4.6V8.4a.25.25,0,0,0,.43.17L6.32,6.68A.25.25,0,0,0,6.32,6.32Z"></path></svg><strong class="copy-button-label"></strong><span class="tooltip hidden"> Copy to Clipboard</span>
</div></button>
<div class="content">
<pre class="highlight"><code class="language-bash" data-lang="bash">libcamera-vid -t 10000 --codec mjpeg --segment 1 -o test%05d.jpeg</code></pre>
</div>
</div>
<div class="paragraph">
<p>Observe that the output file name is normally only sensible if we avoid over-writing the previous file every time, such as by using a file name that includes a counter (as above). More information on output file names is available below.</p>
</div>
</div>
<div class="sect3">
<h4 id="network-streaming">
<a class="anchor" href="https://www.raspberrypi.com/documentation/accessories/camera.html#network-streaming"></a>Network Streaming</h4>
<div class="sect4">
<h5 id="udp">
<a class="anchor" href="https://www.raspberrypi.com/documentation/accessories/camera.html#udp"></a>UDP</h5>
<div class="paragraph">
<p>To stream video using UDP, on the Raspberry Pi (server) use</p>
</div>
<div class="listingblock">
<button class="copy-button hidden" aria-label="copy code to clipboard" type="button" aria-hidden="true"><div class="copy-button-inner">
<svg xmlns="http://www.w3.org/2000/svg" id="Layer_1" data-name="Layer 1" viewBox="0 0 12 12"><rect x="1" y="6" width="5" height="1"></rect><path d="M10,1H8A1,1,0,0,0,7,0H6A1,1,0,0,0,5,1H3A1,1,0,0,0,2,2V5H3V2H4V3H9V2h1v9H3V8H2v3a1,1,0,0,0,1,1h7a1,1,0,0,0,1-1V2A1,1,0,0,0,10,1ZM6.5,2.25a.75.75,0,1,1,.75-.75A.76.76,0,0,1,6.5,2.25Z"></path><path d="M6.32,6.32,4.43,4.43A.25.25,0,0,0,4,4.6V8.4a.25.25,0,0,0,.43.17L6.32,6.68A.25.25,0,0,0,6.32,6.32Z"></path></svg><strong class="copy-button-label"></strong><span class="tooltip hidden"> Copy to Clipboard</span>
</div></button>
<div class="content">
<pre class="highlight"><code class="language-bash" data-lang="bash">libcamera-vid -t 0 --inline -o udp://&lt;ip-addr&gt;:&lt;port&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>where <code>&lt;ip-addr&gt;</code> is the IP address of the client, or multicast address (if appropriately configured to reach the client). On the client use (for example)</p>
</div>
<div class="listingblock">
<button class="copy-button hidden" aria-label="copy code to clipboard" type="button" aria-hidden="true"><div class="copy-button-inner">
<svg xmlns="http://www.w3.org/2000/svg" id="Layer_1" data-name="Layer 1" viewBox="0 0 12 12"><rect x="1" y="6" width="5" height="1"></rect><path d="M10,1H8A1,1,0,0,0,7,0H6A1,1,0,0,0,5,1H3A1,1,0,0,0,2,2V5H3V2H4V3H9V2h1v9H3V8H2v3a1,1,0,0,0,1,1h7a1,1,0,0,0,1-1V2A1,1,0,0,0,10,1ZM6.5,2.25a.75.75,0,1,1,.75-.75A.76.76,0,0,1,6.5,2.25Z"></path><path d="M6.32,6.32,4.43,4.43A.25.25,0,0,0,4,4.6V8.4a.25.25,0,0,0,.43.17L6.32,6.68A.25.25,0,0,0,6.32,6.32Z"></path></svg><strong class="copy-button-label"></strong><span class="tooltip hidden"> Copy to Clipboard</span>
</div></button>
<div class="content">
<pre class="highlight"><code class="language-bash" data-lang="bash">vlc udp://@:&lt;port&gt; :demux=h264</code></pre>
</div>
</div>
<div class="paragraph">
<p>or alternatively</p>
</div>
<div class="listingblock">
<button class="copy-button hidden" aria-label="copy code to clipboard" type="button" aria-hidden="true"><div class="copy-button-inner">
<svg xmlns="http://www.w3.org/2000/svg" id="Layer_1" data-name="Layer 1" viewBox="0 0 12 12"><rect x="1" y="6" width="5" height="1"></rect><path d="M10,1H8A1,1,0,0,0,7,0H6A1,1,0,0,0,5,1H3A1,1,0,0,0,2,2V5H3V2H4V3H9V2h1v9H3V8H2v3a1,1,0,0,0,1,1h7a1,1,0,0,0,1-1V2A1,1,0,0,0,10,1ZM6.5,2.25a.75.75,0,1,1,.75-.75A.76.76,0,0,1,6.5,2.25Z"></path><path d="M6.32,6.32,4.43,4.43A.25.25,0,0,0,4,4.6V8.4a.25.25,0,0,0,.43.17L6.32,6.68A.25.25,0,0,0,6.32,6.32Z"></path></svg><strong class="copy-button-label"></strong><span class="tooltip hidden"> Copy to Clipboard</span>
</div></button>
<div class="content">
<pre>ffplay udp://&lt;ip-addr-of-server&gt;:&lt;port&gt; -fflags nobuffer -flags low_delay -framedrop</pre>
</div>
</div>
<div class="paragraph">
<p>with the same <code>&lt;port&gt;</code> value.</p>
</div>
</div>
<div class="sect4">
<h5 id="tcp">
<a class="anchor" href="https://www.raspberrypi.com/documentation/accessories/camera.html#tcp"></a>TCP</h5>
<div class="paragraph">
<p>Video can be streamed using TCP. To use the Raspberry Pi as a server</p>
</div>
<div class="listingblock">
<button class="copy-button hidden" aria-label="copy code to clipboard" type="button" aria-hidden="true"><div class="copy-button-inner">
<svg xmlns="http://www.w3.org/2000/svg" id="Layer_1" data-name="Layer 1" viewBox="0 0 12 12"><rect x="1" y="6" width="5" height="1"></rect><path d="M10,1H8A1,1,0,0,0,7,0H6A1,1,0,0,0,5,1H3A1,1,0,0,0,2,2V5H3V2H4V3H9V2h1v9H3V8H2v3a1,1,0,0,0,1,1h7a1,1,0,0,0,1-1V2A1,1,0,0,0,10,1ZM6.5,2.25a.75.75,0,1,1,.75-.75A.76.76,0,0,1,6.5,2.25Z"></path><path d="M6.32,6.32,4.43,4.43A.25.25,0,0,0,4,4.6V8.4a.25.25,0,0,0,.43.17L6.32,6.68A.25.25,0,0,0,6.32,6.32Z"></path></svg><strong class="copy-button-label"></strong><span class="tooltip hidden"> Copy to Clipboard</span>
</div></button>
<div class="content">
<pre class="highlight"><code class="language-bash" data-lang="bash">libcamera-vid -t 0 --inline --listen -o tcp://0.0.0.0:&lt;port&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>and on the client</p>
</div>
<div class="listingblock">
<button class="copy-button hidden" aria-label="copy code to clipboard" type="button" aria-hidden="true"><div class="copy-button-inner">
<svg xmlns="http://www.w3.org/2000/svg" id="Layer_1" data-name="Layer 1" viewBox="0 0 12 12"><rect x="1" y="6" width="5" height="1"></rect><path d="M10,1H8A1,1,0,0,0,7,0H6A1,1,0,0,0,5,1H3A1,1,0,0,0,2,2V5H3V2H4V3H9V2h1v9H3V8H2v3a1,1,0,0,0,1,1h7a1,1,0,0,0,1-1V2A1,1,0,0,0,10,1ZM6.5,2.25a.75.75,0,1,1,.75-.75A.76.76,0,0,1,6.5,2.25Z"></path><path d="M6.32,6.32,4.43,4.43A.25.25,0,0,0,4,4.6V8.4a.25.25,0,0,0,.43.17L6.32,6.68A.25.25,0,0,0,6.32,6.32Z"></path></svg><strong class="copy-button-label"></strong><span class="tooltip hidden"> Copy to Clipboard</span>
</div></button>
<div class="content">
<pre class="highlight"><code class="language-bash" data-lang="bash">vlc tcp/h264://&lt;ip-addr-of-server&gt;:&lt;port&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>or alternatively</p>
</div>
<div class="listingblock">
<button class="copy-button hidden" aria-label="copy code to clipboard" type="button" aria-hidden="true"><div class="copy-button-inner">
<svg xmlns="http://www.w3.org/2000/svg" id="Layer_1" data-name="Layer 1" viewBox="0 0 12 12"><rect x="1" y="6" width="5" height="1"></rect><path d="M10,1H8A1,1,0,0,0,7,0H6A1,1,0,0,0,5,1H3A1,1,0,0,0,2,2V5H3V2H4V3H9V2h1v9H3V8H2v3a1,1,0,0,0,1,1h7a1,1,0,0,0,1-1V2A1,1,0,0,0,10,1ZM6.5,2.25a.75.75,0,1,1,.75-.75A.76.76,0,0,1,6.5,2.25Z"></path><path d="M6.32,6.32,4.43,4.43A.25.25,0,0,0,4,4.6V8.4a.25.25,0,0,0,.43.17L6.32,6.68A.25.25,0,0,0,6.32,6.32Z"></path></svg><strong class="copy-button-label"></strong><span class="tooltip hidden"> Copy to Clipboard</span>
</div></button>
<div class="content">
<pre>ffplay tcp://&lt;ip-addr-of-server&gt;:&lt;port&gt; -vf "setpts=N/30" -fflags nobuffer -flags low_delay -framedrop</pre>
</div>
</div>
<div class="paragraph">
<p>for a 30 frames per second stream with low latency.</p>
</div>
<div class="paragraph">
<p>The Raspberry Pi will wait until the client connects, and then start streaming video.</p>
</div>
</div>
<div class="sect4">
<h5 id="rtsp">
<a class="anchor" href="https://www.raspberrypi.com/documentation/accessories/camera.html#rtsp"></a>RTSP</h5>
<div class="paragraph">
<p>vlc is useful on the Raspberry Pi for formatting an RTSP stream, though there are other RTSP servers available.</p>
</div>
<div class="listingblock">
<button class="copy-button hidden" aria-label="copy code to clipboard" type="button" aria-hidden="true"><div class="copy-button-inner">
<svg xmlns="http://www.w3.org/2000/svg" id="Layer_1" data-name="Layer 1" viewBox="0 0 12 12"><rect x="1" y="6" width="5" height="1"></rect><path d="M10,1H8A1,1,0,0,0,7,0H6A1,1,0,0,0,5,1H3A1,1,0,0,0,2,2V5H3V2H4V3H9V2h1v9H3V8H2v3a1,1,0,0,0,1,1h7a1,1,0,0,0,1-1V2A1,1,0,0,0,10,1ZM6.5,2.25a.75.75,0,1,1,.75-.75A.76.76,0,0,1,6.5,2.25Z"></path><path d="M6.32,6.32,4.43,4.43A.25.25,0,0,0,4,4.6V8.4a.25.25,0,0,0,.43.17L6.32,6.68A.25.25,0,0,0,6.32,6.32Z"></path></svg><strong class="copy-button-label"></strong><span class="tooltip hidden"> Copy to Clipboard</span>
</div></button>
<div class="content">
<pre class="highlight"><code class="language-bash" data-lang="bash">libcamera-vid -t 0 --inline -o - | cvlc stream:///dev/stdin --sout '#rtp{sdp=rtsp://:8554/stream1}' :demux=h264</code></pre>
</div>
</div>
<div class="paragraph">
<p>and this can be played with</p>
</div>
<div class="listingblock">
<button class="copy-button hidden" aria-label="copy code to clipboard" type="button" aria-hidden="true"><div class="copy-button-inner">
<svg xmlns="http://www.w3.org/2000/svg" id="Layer_1" data-name="Layer 1" viewBox="0 0 12 12"><rect x="1" y="6" width="5" height="1"></rect><path d="M10,1H8A1,1,0,0,0,7,0H6A1,1,0,0,0,5,1H3A1,1,0,0,0,2,2V5H3V2H4V3H9V2h1v9H3V8H2v3a1,1,0,0,0,1,1h7a1,1,0,0,0,1-1V2A1,1,0,0,0,10,1ZM6.5,2.25a.75.75,0,1,1,.75-.75A.76.76,0,0,1,6.5,2.25Z"></path><path d="M6.32,6.32,4.43,4.43A.25.25,0,0,0,4,4.6V8.4a.25.25,0,0,0,.43.17L6.32,6.68A.25.25,0,0,0,6.32,6.32Z"></path></svg><strong class="copy-button-label"></strong><span class="tooltip hidden"> Copy to Clipboard</span>
</div></button>
<div class="content">
<pre class="highlight"><code class="language-bash" data-lang="bash">vlc rtsp://&lt;ip-addr-of-server&gt;:8554/stream1</code></pre>
</div>
</div>
<div class="paragraph">
<p>or alternatively</p>
</div>
<div class="listingblock">
<button class="copy-button hidden" aria-label="copy code to clipboard" type="button" aria-hidden="true"><div class="copy-button-inner">
<svg xmlns="http://www.w3.org/2000/svg" id="Layer_1" data-name="Layer 1" viewBox="0 0 12 12"><rect x="1" y="6" width="5" height="1"></rect><path d="M10,1H8A1,1,0,0,0,7,0H6A1,1,0,0,0,5,1H3A1,1,0,0,0,2,2V5H3V2H4V3H9V2h1v9H3V8H2v3a1,1,0,0,0,1,1h7a1,1,0,0,0,1-1V2A1,1,0,0,0,10,1ZM6.5,2.25a.75.75,0,1,1,.75-.75A.76.76,0,0,1,6.5,2.25Z"></path><path d="M6.32,6.32,4.43,4.43A.25.25,0,0,0,4,4.6V8.4a.25.25,0,0,0,.43.17L6.32,6.68A.25.25,0,0,0,6.32,6.32Z"></path></svg><strong class="copy-button-label"></strong><span class="tooltip hidden"> Copy to Clipboard</span>
</div></button>
<div class="content">
<pre>ffplay rtsp://&lt;ip-addr-of-server&gt;:8554/stream1 -vf "setpts=N/30" -fflags nobuffer -flags low_delay -framedrop</pre>
</div>
</div>
<div class="paragraph">
<p>In all cases, the preview window on the server (the Raspberry Pi) can be suppressed with the <code>-n</code> (<code>--nopreview</code>) option. Note also the use of the <code>--inline</code> option which forces the stream header information to be included with every I (intra) frame. This is important so that a client can correctly understand the stream if it missed the very beginning.</p>
</div>
<div class="admonitionblock note">
<table>
<tbody><tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
Recent versions of VLC seem to have problems with playback of H.264 streams. We recommend using <code>ffplay</code> for playback using the above commands until these issues have been resolved.
</td>
</tr>
</tbody></table>
</div>
</div>
</div>
</div>
<div class="sect2">
<div name="libcamera-raw" data-unique="libcamera-raw"></div><h3 id="libcamera-raw">
<a class="anchor" href="https://www.raspberrypi.com/documentation/accessories/camera.html#libcamera-raw"></a><code>libcamera-raw</code>
</h3>
<div class="paragraph">
<p><code>libcamera-raw</code> is like a video recording application except that it records raw Bayer frames directly from the sensor. It does not show a preview window. For a 2 second raw clip use</p>
</div>
<div class="listingblock">
<button class="copy-button hidden" aria-label="copy code to clipboard" type="button" aria-hidden="true"><div class="copy-button-inner">
<svg xmlns="http://www.w3.org/2000/svg" id="Layer_1" data-name="Layer 1" viewBox="0 0 12 12"><rect x="1" y="6" width="5" height="1"></rect><path d="M10,1H8A1,1,0,0,0,7,0H6A1,1,0,0,0,5,1H3A1,1,0,0,0,2,2V5H3V2H4V3H9V2h1v9H3V8H2v3a1,1,0,0,0,1,1h7a1,1,0,0,0,1-1V2A1,1,0,0,0,10,1ZM6.5,2.25a.75.75,0,1,1,.75-.75A.76.76,0,0,1,6.5,2.25Z"></path><path d="M6.32,6.32,4.43,4.43A.25.25,0,0,0,4,4.6V8.4a.25.25,0,0,0,.43.17L6.32,6.68A.25.25,0,0,0,6.32,6.32Z"></path></svg><strong class="copy-button-label"></strong><span class="tooltip hidden"> Copy to Clipboard</span>
</div></button>
<div class="content">
<pre class="highlight"><code class="language-bash" data-lang="bash">libcamera-raw -t 2000 -o test.raw</code></pre>
</div>
</div>
<div class="paragraph">
<p>The raw frames are dumped with no formatting information at all, one directly after another. The application prints the pixel format and image dimensions to the terminal window so that the user can know how to interpret the pixel data.</p>
</div>
<div class="paragraph">
<p>By default the raw frames are saved in a single (potentially very large) file. As we saw previously, the <code>--segment</code> option can be used conveniently to direct each to a separate file.</p>
</div>
<div class="listingblock">
<button class="copy-button hidden" aria-label="copy code to clipboard" type="button" aria-hidden="true"><div class="copy-button-inner">
<svg xmlns="http://www.w3.org/2000/svg" id="Layer_1" data-name="Layer 1" viewBox="0 0 12 12"><rect x="1" y="6" width="5" height="1"></rect><path d="M10,1H8A1,1,0,0,0,7,0H6A1,1,0,0,0,5,1H3A1,1,0,0,0,2,2V5H3V2H4V3H9V2h1v9H3V8H2v3a1,1,0,0,0,1,1h7a1,1,0,0,0,1-1V2A1,1,0,0,0,10,1ZM6.5,2.25a.75.75,0,1,1,.75-.75A.76.76,0,0,1,6.5,2.25Z"></path><path d="M6.32,6.32,4.43,4.43A.25.25,0,0,0,4,4.6V8.4a.25.25,0,0,0,.43.17L6.32,6.68A.25.25,0,0,0,6.32,6.32Z"></path></svg><strong class="copy-button-label"></strong><span class="tooltip hidden"> Copy to Clipboard</span>
</div></button>
<div class="content">
<pre class="highlight"><code class="language-bash" data-lang="bash">libcamera-raw -t 2000 --segment 1 -o test%05d.raw</code></pre>
</div>
</div>
<div class="paragraph">
<p>In good conditions (using a fast SSD) <code>libcamera-raw</code> can get close to writing 12MP HQ camera frames (18MB of data each) to disk at 10 frames per second. It writes the raw frames with no formatting in order to achieve these speeds; it has no capability to save them as DNG files (like <code>libcamera-still</code>). If you want to be sure not to drop frames you could reduce the framerate slightly using the <code>--framerate</code> option, for example</p>
</div>
<div class="listingblock">
<button class="copy-button hidden" aria-label="copy code to clipboard" type="button" aria-hidden="true"><div class="copy-button-inner">
<svg xmlns="http://www.w3.org/2000/svg" id="Layer_1" data-name="Layer 1" viewBox="0 0 12 12"><rect x="1" y="6" width="5" height="1"></rect><path d="M10,1H8A1,1,0,0,0,7,0H6A1,1,0,0,0,5,1H3A1,1,0,0,0,2,2V5H3V2H4V3H9V2h1v9H3V8H2v3a1,1,0,0,0,1,1h7a1,1,0,0,0,1-1V2A1,1,0,0,0,10,1ZM6.5,2.25a.75.75,0,1,1,.75-.75A.76.76,0,0,1,6.5,2.25Z"></path><path d="M6.32,6.32,4.43,4.43A.25.25,0,0,0,4,4.6V8.4a.25.25,0,0,0,.43.17L6.32,6.68A.25.25,0,0,0,6.32,6.32Z"></path></svg><strong class="copy-button-label"></strong><span class="tooltip hidden"> Copy to Clipboard</span>
</div></button>
<div class="content">
<pre class="highlight"><code class="language-bash" data-lang="bash">libcamera-raw -t 5000 --width 4056 --height 3040 -o test.raw --framerate 8</code></pre>
</div>
</div>
</div>
<div class="sect2">
<div name="libcamera-detect" data-unique="libcamera-detect"></div><h3 id="libcamera-detect">
<a class="anchor" href="https://www.raspberrypi.com/documentation/accessories/camera.html#libcamera-detect"></a><code>libcamera-detect</code>
</h3>
<div class="paragraph">
<p><code>libcamera-detect</code> is not supplied by default in any Raspberry Pi OS distribution, but can be built by users who have <a href="https://www.raspberrypi.com/documentation/accessories/camera.html#post-processing-with-tensorflow-lite">installed TensorFlow Lite</a>. In this case, please refer to the <a href="https://www.raspberrypi.com/documentation/accessories/camera.html#building-libcamera-and-libcamera-apps"><code>libcamera-apps</code> build instructions</a>. You will need to run <code>cmake</code> with <code>-DENABLE_TFLITE=1</code>.</p>
</div>
<div class="paragraph">
<p>This application runs a preview window and monitors the contents using a Google MobileNet v1 SSD (Single Shot Detector) neural network that has been trained to identify about 80 classes of objects using the Coco dataset. It should recognise people, cars, cats and many other objects.</p>
</div>
<div class="paragraph">
<p>Its starts by running a preview window, and whenever the target object is detected it will perform a full resolution JPEG capture, before returning back to the preview mode to continue monitoring. It provides a couple of additional command line options that do not apply elsewhere:</p>
</div>
<div class="paragraph">
<p><code>--object &lt;name&gt;</code></p>
</div>
<div class="paragraph">
<p>Detect objects with the given <code>&lt;name&gt;</code>. The name should be taken from the models label file.</p>
</div>
<div class="paragraph">
<p><code>--gap &lt;number&gt;</code></p>
</div>
<div class="paragraph">
<p>Wait at least this many frames after a capture before performing another. This is necessary because the neural network does not run on every frame, so it is best to give it a few frames to run again before considering another capture.</p>
</div>
<div class="paragraph">
<p>Please refer to the <a href="https://www.raspberrypi.com/documentation/accessories/camera.html#object_detect_tf-stage">TensorFlow Lite object detector</a> section for more general information on how to obtain and use this model. But as an example, you might spy secretly on your cats while you are away with:</p>
</div>
<div class="listingblock">
<button class="copy-button hidden" aria-label="copy code to clipboard" type="button" aria-hidden="true"><div class="copy-button-inner">
<svg xmlns="http://www.w3.org/2000/svg" id="Layer_1" data-name="Layer 1" viewBox="0 0 12 12"><rect x="1" y="6" width="5" height="1"></rect><path d="M10,1H8A1,1,0,0,0,7,0H6A1,1,0,0,0,5,1H3A1,1,0,0,0,2,2V5H3V2H4V3H9V2h1v9H3V8H2v3a1,1,0,0,0,1,1h7a1,1,0,0,0,1-1V2A1,1,0,0,0,10,1ZM6.5,2.25a.75.75,0,1,1,.75-.75A.76.76,0,0,1,6.5,2.25Z"></path><path d="M6.32,6.32,4.43,4.43A.25.25,0,0,0,4,4.6V8.4a.25.25,0,0,0,.43.17L6.32,6.68A.25.25,0,0,0,6.32,6.32Z"></path></svg><strong class="copy-button-label"></strong><span class="tooltip hidden"> Copy to Clipboard</span>
</div></button>
<div class="content">
<pre class="highlight"><code class="language-bash" data-lang="bash">libcamera-detect -t 0 -o cat%04d.jpg --lores-width 400 --lores-height 300 --post-process-file object_detect_tf.json --object cat</code></pre>
</div>
</div>
</div>
<div class="sect2">
<div name="common-command-line-options" data-unique="common-command-line-options"></div><h3 id="common-command-line-options">
<a class="anchor" href="https://www.raspberrypi.com/documentation/accessories/camera.html#common-command-line-options"></a>Common Command Line Options</h3>
<div class="paragraph">
<p>The following options apply across all the <code>libcamera-apps</code> with similar or identical semantics, unless noted otherwise.</p>
</div>
<div class="listingblock">
<button class="copy-button hidden" aria-label="copy code to clipboard" type="button" aria-hidden="true"><div class="copy-button-inner">
<svg xmlns="http://www.w3.org/2000/svg" id="Layer_1" data-name="Layer 1" viewBox="0 0 12 12"><rect x="1" y="6" width="5" height="1"></rect><path d="M10,1H8A1,1,0,0,0,7,0H6A1,1,0,0,0,5,1H3A1,1,0,0,0,2,2V5H3V2H4V3H9V2h1v9H3V8H2v3a1,1,0,0,0,1,1h7a1,1,0,0,0,1-1V2A1,1,0,0,0,10,1ZM6.5,2.25a.75.75,0,1,1,.75-.75A.76.76,0,0,1,6.5,2.25Z"></path><path d="M6.32,6.32,4.43,4.43A.25.25,0,0,0,4,4.6V8.4a.25.25,0,0,0,.43.17L6.32,6.68A.25.25,0,0,0,6.32,6.32Z"></path></svg><strong class="copy-button-label"></strong><span class="tooltip hidden"> Copy to Clipboard</span>
</div></button>
<div class="content">
<pre>	--help,		-h		Print help information for the application</pre>
</div>
</div>
<div class="paragraph">
<p>The <code>--help</code> option causes every application to print its full set of command line options with a brief synopsis of each, and then quit.</p>
</div>
<div class="listingblock">
<button class="copy-button hidden" aria-label="copy code to clipboard" type="button" aria-hidden="true"><div class="copy-button-inner">
<svg xmlns="http://www.w3.org/2000/svg" id="Layer_1" data-name="Layer 1" viewBox="0 0 12 12"><rect x="1" y="6" width="5" height="1"></rect><path d="M10,1H8A1,1,0,0,0,7,0H6A1,1,0,0,0,5,1H3A1,1,0,0,0,2,2V5H3V2H4V3H9V2h1v9H3V8H2v3a1,1,0,0,0,1,1h7a1,1,0,0,0,1-1V2A1,1,0,0,0,10,1ZM6.5,2.25a.75.75,0,1,1,.75-.75A.76.76,0,0,1,6.5,2.25Z"></path><path d="M6.32,6.32,4.43,4.43A.25.25,0,0,0,4,4.6V8.4a.25.25,0,0,0,.43.17L6.32,6.68A.25.25,0,0,0,6.32,6.32Z"></path></svg><strong class="copy-button-label"></strong><span class="tooltip hidden"> Copy to Clipboard</span>
</div></button>
<div class="content">
<pre>	--version			Print out a software version number</pre>
</div>
</div>
<div class="paragraph">
<p>All <code>libcamera-apps</code> will, when they see the <code>--version</code> option, print out a version string both for <code>libcamera</code> and <code>libcamera-apps</code> and then quit, for example:</p>
</div>
<div class="listingblock">
<button class="copy-button hidden" aria-label="copy code to clipboard" type="button" aria-hidden="true"><div class="copy-button-inner">
<svg xmlns="http://www.w3.org/2000/svg" id="Layer_1" data-name="Layer 1" viewBox="0 0 12 12"><rect x="1" y="6" width="5" height="1"></rect><path d="M10,1H8A1,1,0,0,0,7,0H6A1,1,0,0,0,5,1H3A1,1,0,0,0,2,2V5H3V2H4V3H9V2h1v9H3V8H2v3a1,1,0,0,0,1,1h7a1,1,0,0,0,1-1V2A1,1,0,0,0,10,1ZM6.5,2.25a.75.75,0,1,1,.75-.75A.76.76,0,0,1,6.5,2.25Z"></path><path d="M6.32,6.32,4.43,4.43A.25.25,0,0,0,4,4.6V8.4a.25.25,0,0,0,.43.17L6.32,6.68A.25.25,0,0,0,6.32,6.32Z"></path></svg><strong class="copy-button-label"></strong><span class="tooltip hidden"> Copy to Clipboard</span>
</div></button>
<div class="content">
<pre>libcamera-apps build: ca559f46a97a 27-09-2021 (14:10:24)
libcamera build: v0.0.0+3058-c29143f7</pre>
</div>
</div>
<div class="listingblock">
<button class="copy-button hidden" aria-label="copy code to clipboard" type="button" aria-hidden="true"><div class="copy-button-inner">
<svg xmlns="http://www.w3.org/2000/svg" id="Layer_1" data-name="Layer 1" viewBox="0 0 12 12"><rect x="1" y="6" width="5" height="1"></rect><path d="M10,1H8A1,1,0,0,0,7,0H6A1,1,0,0,0,5,1H3A1,1,0,0,0,2,2V5H3V2H4V3H9V2h1v9H3V8H2v3a1,1,0,0,0,1,1h7a1,1,0,0,0,1-1V2A1,1,0,0,0,10,1ZM6.5,2.25a.75.75,0,1,1,.75-.75A.76.76,0,0,1,6.5,2.25Z"></path><path d="M6.32,6.32,4.43,4.43A.25.25,0,0,0,4,4.6V8.4a.25.25,0,0,0,.43.17L6.32,6.68A.25.25,0,0,0,6.32,6.32Z"></path></svg><strong class="copy-button-label"></strong><span class="tooltip hidden"> Copy to Clipboard</span>
</div></button>
<div class="content">
<pre>	--list-cameras			List the cameras available for use</pre>
</div>
</div>
<div class="paragraph">
<p>The <code>--list-cameras</code> will display the available cameras attached to the board that can be used by the application. This option also lists the sensor modes supported by each camera. For example:</p>
</div>
<div class="listingblock">
<button class="copy-button hidden" aria-label="copy code to clipboard" type="button" aria-hidden="true"><div class="copy-button-inner">
<svg xmlns="http://www.w3.org/2000/svg" id="Layer_1" data-name="Layer 1" viewBox="0 0 12 12"><rect x="1" y="6" width="5" height="1"></rect><path d="M10,1H8A1,1,0,0,0,7,0H6A1,1,0,0,0,5,1H3A1,1,0,0,0,2,2V5H3V2H4V3H9V2h1v9H3V8H2v3a1,1,0,0,0,1,1h7a1,1,0,0,0,1-1V2A1,1,0,0,0,10,1ZM6.5,2.25a.75.75,0,1,1,.75-.75A.76.76,0,0,1,6.5,2.25Z"></path><path d="M6.32,6.32,4.43,4.43A.25.25,0,0,0,4,4.6V8.4a.25.25,0,0,0,.43.17L6.32,6.68A.25.25,0,0,0,6.32,6.32Z"></path></svg><strong class="copy-button-label"></strong><span class="tooltip hidden"> Copy to Clipboard</span>
</div></button>
<div class="content">
<pre>Available cameras
-----------------
0 : imx219 [3280x2464] (/base/soc/i2c0mux/i2c@1/pca@70/i2c@0/imx219@10)
    Modes: 'SRGGB10_CSI2P' : 640x480 1640x1232 1920x1080 3280x2464
           'SRGGB8' : 640x480 1640x1232 1920x1080 3280x2464
1 : imx477 [4056x3040] (/base/soc/i2c0mux/i2c@1/pca@70/i2c@1/imx477@1a)
    Modes: 'SRGGB10_CSI2P' : 1332x990
           'SRGGB12_CSI2P' : 2028x1080 2028x1520 4056x3040</pre>
</div>
</div>
<div class="paragraph">
<p>In the above example, the IMX219 sensor is available at index 0 and IMX477 at index 1. The sensor mode identifier takes the following form:</p>
</div>
<div class="listingblock">
<button class="copy-button hidden" aria-label="copy code to clipboard" type="button" aria-hidden="true"><div class="copy-button-inner">
<svg xmlns="http://www.w3.org/2000/svg" id="Layer_1" data-name="Layer 1" viewBox="0 0 12 12"><rect x="1" y="6" width="5" height="1"></rect><path d="M10,1H8A1,1,0,0,0,7,0H6A1,1,0,0,0,5,1H3A1,1,0,0,0,2,2V5H3V2H4V3H9V2h1v9H3V8H2v3a1,1,0,0,0,1,1h7a1,1,0,0,0,1-1V2A1,1,0,0,0,10,1ZM6.5,2.25a.75.75,0,1,1,.75-.75A.76.76,0,0,1,6.5,2.25Z"></path><path d="M6.32,6.32,4.43,4.43A.25.25,0,0,0,4,4.6V8.4a.25.25,0,0,0,.43.17L6.32,6.68A.25.25,0,0,0,6.32,6.32Z"></path></svg><strong class="copy-button-label"></strong><span class="tooltip hidden"> Copy to Clipboard</span>
</div></button>
<div class="content">
<pre>S&lt;Bayer order&gt;&lt;Bit-depth&gt;_&lt;Optional packing&gt; : &lt;Resolution list&gt;</pre>
</div>
</div>
<div class="paragraph">
<p>For the IMX219 in the above example, all modes have a <code>RGGB</code> Bayer ordering and provide either 8-bit or 10-bit CSI2 packed readout at the listed resolutions.</p>
</div>
<div class="listingblock">
<button class="copy-button hidden" aria-label="copy code to clipboard" type="button" aria-hidden="true"><div class="copy-button-inner">
<svg xmlns="http://www.w3.org/2000/svg" id="Layer_1" data-name="Layer 1" viewBox="0 0 12 12"><rect x="1" y="6" width="5" height="1"></rect><path d="M10,1H8A1,1,0,0,0,7,0H6A1,1,0,0,0,5,1H3A1,1,0,0,0,2,2V5H3V2H4V3H9V2h1v9H3V8H2v3a1,1,0,0,0,1,1h7a1,1,0,0,0,1-1V2A1,1,0,0,0,10,1ZM6.5,2.25a.75.75,0,1,1,.75-.75A.76.76,0,0,1,6.5,2.25Z"></path><path d="M6.32,6.32,4.43,4.43A.25.25,0,0,0,4,4.6V8.4a.25.25,0,0,0,.43.17L6.32,6.68A.25.25,0,0,0,6.32,6.32Z"></path></svg><strong class="copy-button-label"></strong><span class="tooltip hidden"> Copy to Clipboard</span>
</div></button>
<div class="content">
<pre>	--camera			Selects which camera to use &lt;index&gt;</pre>
</div>
</div>
<div class="paragraph">
<p>The <code>--camera</code> option will select which camera to use from the supplied &lt;index&gt; value. The &lt;index&gt; value can be obtained from the <code>--list-cameras</code> option.</p>
</div>
<div class="listingblock">
<button class="copy-button hidden" aria-label="copy code to clipboard" type="button" aria-hidden="true"><div class="copy-button-inner">
<svg xmlns="http://www.w3.org/2000/svg" id="Layer_1" data-name="Layer 1" viewBox="0 0 12 12"><rect x="1" y="6" width="5" height="1"></rect><path d="M10,1H8A1,1,0,0,0,7,0H6A1,1,0,0,0,5,1H3A1,1,0,0,0,2,2V5H3V2H4V3H9V2h1v9H3V8H2v3a1,1,0,0,0,1,1h7a1,1,0,0,0,1-1V2A1,1,0,0,0,10,1ZM6.5,2.25a.75.75,0,1,1,.75-.75A.76.76,0,0,1,6.5,2.25Z"></path><path d="M6.32,6.32,4.43,4.43A.25.25,0,0,0,4,4.6V8.4a.25.25,0,0,0,.43.17L6.32,6.68A.25.25,0,0,0,6.32,6.32Z"></path></svg><strong class="copy-button-label"></strong><span class="tooltip hidden"> Copy to Clipboard</span>
</div></button>
<div class="content">
<pre>	--config,	-c		Read options from the given file &lt;filename&gt;</pre>
</div>
</div>
<div class="paragraph">
<p>Normally options are read from the command line, but in case multiple options are required it may be more convenient to keep them in a file.</p>
</div>
<div class="paragraph">
<p>Example: <code>libcamera-hello -c config.txt</code></p>
</div>
<div class="paragraph">
<p>This is a text file containing individual lines of <code>key=value</code> pairs, for example:</p>
</div>
<div class="listingblock">
<button class="copy-button hidden" aria-label="copy code to clipboard" type="button" aria-hidden="true"><div class="copy-button-inner">
<svg xmlns="http://www.w3.org/2000/svg" id="Layer_1" data-name="Layer 1" viewBox="0 0 12 12"><rect x="1" y="6" width="5" height="1"></rect><path d="M10,1H8A1,1,0,0,0,7,0H6A1,1,0,0,0,5,1H3A1,1,0,0,0,2,2V5H3V2H4V3H9V2h1v9H3V8H2v3a1,1,0,0,0,1,1h7a1,1,0,0,0,1-1V2A1,1,0,0,0,10,1ZM6.5,2.25a.75.75,0,1,1,.75-.75A.76.76,0,0,1,6.5,2.25Z"></path><path d="M6.32,6.32,4.43,4.43A.25.25,0,0,0,4,4.6V8.4a.25.25,0,0,0,.43.17L6.32,6.68A.25.25,0,0,0,6.32,6.32Z"></path></svg><strong class="copy-button-label"></strong><span class="tooltip hidden"> Copy to Clipboard</span>
</div></button>
<div class="content">
<pre>timeout=99000
verbose=</pre>
</div>
</div>
<div class="paragraph">
<p>Note how the <code>=</code> is required even for implicit options, and that the <code>--</code> used on the command line are omitted. Only long form options are permitted (<code>t=99000</code> would not be accepted).</p>
</div>
<div class="listingblock">
<button class="copy-button hidden" aria-label="copy code to clipboard" type="button" aria-hidden="true"><div class="copy-button-inner">
<svg xmlns="http://www.w3.org/2000/svg" id="Layer_1" data-name="Layer 1" viewBox="0 0 12 12"><rect x="1" y="6" width="5" height="1"></rect><path d="M10,1H8A1,1,0,0,0,7,0H6A1,1,0,0,0,5,1H3A1,1,0,0,0,2,2V5H3V2H4V3H9V2h1v9H3V8H2v3a1,1,0,0,0,1,1h7a1,1,0,0,0,1-1V2A1,1,0,0,0,10,1ZM6.5,2.25a.75.75,0,1,1,.75-.75A.76.76,0,0,1,6.5,2.25Z"></path><path d="M6.32,6.32,4.43,4.43A.25.25,0,0,0,4,4.6V8.4a.25.25,0,0,0,.43.17L6.32,6.68A.25.25,0,0,0,6.32,6.32Z"></path></svg><strong class="copy-button-label"></strong><span class="tooltip hidden"> Copy to Clipboard</span>
</div></button>
<div class="content">
<pre>	--timeout,	-t		Delay before application stops automatically &lt;milliseconds&gt;</pre>
</div>
</div>
<div class="paragraph">
<p>The <code>--timeout</code> option specifies how long the application runs before it stops, whether it is recording a video or showing a preview. In the case of still image capture, the application will show the preview window for this long before capturing the output image.</p>
</div>
<div class="paragraph">
<p>If unspecified, the default value is 5000 (5 seconds). The value zero causes the application to run indefinitely.</p>
</div>
<div class="paragraph">
<p>Example: <code>libcamera-hello -t 0</code></p>
</div>
<div class="sect3">
<h4 id="preview-window-2">
<a class="anchor" href="https://www.raspberrypi.com/documentation/accessories/camera.html#preview-window-2"></a>Preview window</h4>
<div class="listingblock">
<button class="copy-button hidden" aria-label="copy code to clipboard" type="button" aria-hidden="true"><div class="copy-button-inner">
<svg xmlns="http://www.w3.org/2000/svg" id="Layer_1" data-name="Layer 1" viewBox="0 0 12 12"><rect x="1" y="6" width="5" height="1"></rect><path d="M10,1H8A1,1,0,0,0,7,0H6A1,1,0,0,0,5,1H3A1,1,0,0,0,2,2V5H3V2H4V3H9V2h1v9H3V8H2v3a1,1,0,0,0,1,1h7a1,1,0,0,0,1-1V2A1,1,0,0,0,10,1ZM6.5,2.25a.75.75,0,1,1,.75-.75A.76.76,0,0,1,6.5,2.25Z"></path><path d="M6.32,6.32,4.43,4.43A.25.25,0,0,0,4,4.6V8.4a.25.25,0,0,0,.43.17L6.32,6.68A.25.25,0,0,0,6.32,6.32Z"></path></svg><strong class="copy-button-label"></strong><span class="tooltip hidden"> Copy to Clipboard</span>
</div></button>
<div class="content">
<pre>	--preview,	-p		Preview window settings &lt;x,y,w,h&gt;</pre>
</div>
</div>
<div class="paragraph">
<p>Sets the size and location of the preview window (both X Windows and DRM versions). It does not affect the resolution or aspect ratio of images being requested from the camera. The camera images will be scaled to the size of the preview window for display, and will be pillar/letter-boxed to fit.</p>
</div>
<div class="paragraph">
<p>Example: <code>libcamera-hello -p 100,100,500,500</code></p>
</div>
<div class="imageblock">
<div class="content">
<img src="./Raspberry Pi Documentation - Camera_files/preview_window.jpg" alt="Letterboxed preview image">
</div>
</div>
<div class="listingblock">
<button class="copy-button hidden" aria-label="copy code to clipboard" type="button" aria-hidden="true"><div class="copy-button-inner">
<svg xmlns="http://www.w3.org/2000/svg" id="Layer_1" data-name="Layer 1" viewBox="0 0 12 12"><rect x="1" y="6" width="5" height="1"></rect><path d="M10,1H8A1,1,0,0,0,7,0H6A1,1,0,0,0,5,1H3A1,1,0,0,0,2,2V5H3V2H4V3H9V2h1v9H3V8H2v3a1,1,0,0,0,1,1h7a1,1,0,0,0,1-1V2A1,1,0,0,0,10,1ZM6.5,2.25a.75.75,0,1,1,.75-.75A.76.76,0,0,1,6.5,2.25Z"></path><path d="M6.32,6.32,4.43,4.43A.25.25,0,0,0,4,4.6V8.4a.25.25,0,0,0,.43.17L6.32,6.68A.25.25,0,0,0,6.32,6.32Z"></path></svg><strong class="copy-button-label"></strong><span class="tooltip hidden"> Copy to Clipboard</span>
</div></button>
<div class="content">
<pre>	--fullscreen,	-f		Fullscreen preview mode</pre>
</div>
</div>
<div class="paragraph">
<p>Forces the preview window to use the whole screen, and the window will have no border or title bar. Again the image may be pillar/letter-boxed.</p>
</div>
<div class="paragraph">
<p>Example <code>libcamera-still -f -o test.jpg</code></p>
</div>
<div class="listingblock">
<button class="copy-button hidden" aria-label="copy code to clipboard" type="button" aria-hidden="true"><div class="copy-button-inner">
<svg xmlns="http://www.w3.org/2000/svg" id="Layer_1" data-name="Layer 1" viewBox="0 0 12 12"><rect x="1" y="6" width="5" height="1"></rect><path d="M10,1H8A1,1,0,0,0,7,0H6A1,1,0,0,0,5,1H3A1,1,0,0,0,2,2V5H3V2H4V3H9V2h1v9H3V8H2v3a1,1,0,0,0,1,1h7a1,1,0,0,0,1-1V2A1,1,0,0,0,10,1ZM6.5,2.25a.75.75,0,1,1,.75-.75A.76.76,0,0,1,6.5,2.25Z"></path><path d="M6.32,6.32,4.43,4.43A.25.25,0,0,0,4,4.6V8.4a.25.25,0,0,0,.43.17L6.32,6.68A.25.25,0,0,0,6.32,6.32Z"></path></svg><strong class="copy-button-label"></strong><span class="tooltip hidden"> Copy to Clipboard</span>
</div></button>
<div class="content">
<pre>	--qt-preview			Use Qt-based preview window</pre>
</div>
</div>
<div class="paragraph">
<p>The preview window is switched to use the Qt-based implementation. This option is not normally recommended because it no longer uses zero-copy buffer sharing nor GPU acceleration and is therefore very expensive, however, it does support X forwarding (which the other preview implementations do not).</p>
</div>
<div class="paragraph">
<p>The Qt preview window does not support the <code>--fullscreen</code> option. Generally it is advised to try and keep the preview window small.</p>
</div>
<div class="paragraph">
<p>Example <code>libcamera-hello --qt-preview</code></p>
</div>
<div class="listingblock">
<button class="copy-button hidden" aria-label="copy code to clipboard" type="button" aria-hidden="true"><div class="copy-button-inner">
<svg xmlns="http://www.w3.org/2000/svg" id="Layer_1" data-name="Layer 1" viewBox="0 0 12 12"><rect x="1" y="6" width="5" height="1"></rect><path d="M10,1H8A1,1,0,0,0,7,0H6A1,1,0,0,0,5,1H3A1,1,0,0,0,2,2V5H3V2H4V3H9V2h1v9H3V8H2v3a1,1,0,0,0,1,1h7a1,1,0,0,0,1-1V2A1,1,0,0,0,10,1ZM6.5,2.25a.75.75,0,1,1,.75-.75A.76.76,0,0,1,6.5,2.25Z"></path><path d="M6.32,6.32,4.43,4.43A.25.25,0,0,0,4,4.6V8.4a.25.25,0,0,0,.43.17L6.32,6.68A.25.25,0,0,0,6.32,6.32Z"></path></svg><strong class="copy-button-label"></strong><span class="tooltip hidden"> Copy to Clipboard</span>
</div></button>
<div class="content">
<pre>	--nopreview,	-n		Do not display a preview window</pre>
</div>
</div>
<div class="paragraph">
<p>The preview window is suppressed entirely.</p>
</div>
<div class="paragraph">
<p>Example <code>libcamera-still -n -o test.jpg</code></p>
</div>
<div class="listingblock">
<button class="copy-button hidden" aria-label="copy code to clipboard" type="button" aria-hidden="true"><div class="copy-button-inner">
<svg xmlns="http://www.w3.org/2000/svg" id="Layer_1" data-name="Layer 1" viewBox="0 0 12 12"><rect x="1" y="6" width="5" height="1"></rect><path d="M10,1H8A1,1,0,0,0,7,0H6A1,1,0,0,0,5,1H3A1,1,0,0,0,2,2V5H3V2H4V3H9V2h1v9H3V8H2v3a1,1,0,0,0,1,1h7a1,1,0,0,0,1-1V2A1,1,0,0,0,10,1ZM6.5,2.25a.75.75,0,1,1,.75-.75A.76.76,0,0,1,6.5,2.25Z"></path><path d="M6.32,6.32,4.43,4.43A.25.25,0,0,0,4,4.6V8.4a.25.25,0,0,0,.43.17L6.32,6.68A.25.25,0,0,0,6.32,6.32Z"></path></svg><strong class="copy-button-label"></strong><span class="tooltip hidden"> Copy to Clipboard</span>
</div></button>
<div class="content">
<pre>	--info-text			Set window title bar text &lt;string&gt;</pre>
</div>
</div>
<div class="paragraph">
<p>The supplied string is set as the title of the preview window (when running under X Windows). Additionally the string may contain a number of <code>%</code> directives which are substituted with information from the image metadata. The permitted directives are</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Directive</th>
<th class="tableblock halign-left valign-top">Substitution</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">%frame</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The sequence number of the frame</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">%fps</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The instantaneous frame rate</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">%exp</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The shutter speed used to capture the image, in microseconds</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">%ag</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The analogue gain applied to the image in the sensor</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">%dg</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The digital gain applied to the image by the ISP</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">%rg</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The gain applied to the red component of each pixel</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">%bg</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The gain applied to the blue component of each pixel</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">%focus</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The focus metric for the image, where a larger value implies a sharper image</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>When not provided, the <code>--info-text</code> string defaults to <code>"#%frame (%fps fps) exp %exp ag %ag dg %dg"</code>.</p>
</div>
<div class="paragraph">
<p>Example: <code>libcamera-hello --info-test "Focus measure: %focus</code></p>
</div>
<div class="imageblock">
<div class="content">
<img src="./Raspberry Pi Documentation - Camera_files/focus.jpg" alt="Image showing focus measure">
</div>
</div>
</div>
<div class="sect3">
<h4 id="camera-resolution-and-readout">
<a class="anchor" href="https://www.raspberrypi.com/documentation/accessories/camera.html#camera-resolution-and-readout"></a>Camera Resolution and Readout</h4>
<div class="listingblock">
<button class="copy-button hidden" aria-label="copy code to clipboard" type="button" aria-hidden="true"><div class="copy-button-inner">
<svg xmlns="http://www.w3.org/2000/svg" id="Layer_1" data-name="Layer 1" viewBox="0 0 12 12"><rect x="1" y="6" width="5" height="1"></rect><path d="M10,1H8A1,1,0,0,0,7,0H6A1,1,0,0,0,5,1H3A1,1,0,0,0,2,2V5H3V2H4V3H9V2h1v9H3V8H2v3a1,1,0,0,0,1,1h7a1,1,0,0,0,1-1V2A1,1,0,0,0,10,1ZM6.5,2.25a.75.75,0,1,1,.75-.75A.76.76,0,0,1,6.5,2.25Z"></path><path d="M6.32,6.32,4.43,4.43A.25.25,0,0,0,4,4.6V8.4a.25.25,0,0,0,.43.17L6.32,6.68A.25.25,0,0,0,6.32,6.32Z"></path></svg><strong class="copy-button-label"></strong><span class="tooltip hidden"> Copy to Clipboard</span>
</div></button>
<div class="content">
<pre>	--width				Capture image width &lt;width&gt;
	--height			Capture image height &lt;height&gt;</pre>
</div>
</div>
<div class="paragraph">
<p>These numbers specify the output resolution of the camera images captured by <code>libcamera-still</code>, <code>libcamera-jpeg</code> and <code>libcamera-vid</code>.</p>
</div>
<div class="paragraph">
<p>For <code>libcamera-raw</code>, it affects the size of the raw frames captured. Where a camera has a 2x2 binned readout mode, specifying a resolution not larger than this binned mode will result in the capture of 2x2 binned raw frames.</p>
</div>
<div class="paragraph">
<p>For <code>libcamera-hello</code> these parameters have no effect.</p>
</div>
<div class="paragraph">
<p>Examples:</p>
</div>
<div class="paragraph">
<p><code>libcamera-vid -o test.h264 --width 1920 --height 1080</code> will capture 1080p video.</p>
</div>
<div class="paragraph">
<p><code>libcamera-still -r -o test.jpg --width 2028 --height 1520</code> will capture a 2028x1520 resolution JPEG. When using the HQ camera the sensor will be driven in its 2x2 binned mode so the raw file - captured in <code>test.dng</code> - will contain a 2028x1520 raw Bayer image.</p>
</div>
<div class="listingblock">
<button class="copy-button hidden" aria-label="copy code to clipboard" type="button" aria-hidden="true"><div class="copy-button-inner">
<svg xmlns="http://www.w3.org/2000/svg" id="Layer_1" data-name="Layer 1" viewBox="0 0 12 12"><rect x="1" y="6" width="5" height="1"></rect><path d="M10,1H8A1,1,0,0,0,7,0H6A1,1,0,0,0,5,1H3A1,1,0,0,0,2,2V5H3V2H4V3H9V2h1v9H3V8H2v3a1,1,0,0,0,1,1h7a1,1,0,0,0,1-1V2A1,1,0,0,0,10,1ZM6.5,2.25a.75.75,0,1,1,.75-.75A.76.76,0,0,1,6.5,2.25Z"></path><path d="M6.32,6.32,4.43,4.43A.25.25,0,0,0,4,4.6V8.4a.25.25,0,0,0,.43.17L6.32,6.68A.25.25,0,0,0,6.32,6.32Z"></path></svg><strong class="copy-button-label"></strong><span class="tooltip hidden"> Copy to Clipboard</span>
</div></button>
<div class="content">
<pre>	--viewfinder-width		Capture image width &lt;width&gt;
	--viewfinder-height		Capture image height &lt;height&gt;</pre>
</div>
</div>
<div class="paragraph">
<p>These options affect only the preview (meaning both <code>libcamera-hello</code> and the preview phase of <code>libcamera-jpeg</code> and <code>libcamera-still</code>), and specify the image size that will be requested from the camera for the preview window. They have no effect on captured still images or videos. Nor do they affect the preview window as the images are resized to fit.</p>
</div>
<div class="paragraph">
<p>Example: <code>libcamera-hello --viewfinder-width 640 --viewfinder-height 480</code></p>
</div>
<div class="listingblock">
<button class="copy-button hidden" aria-label="copy code to clipboard" type="button" aria-hidden="true"><div class="copy-button-inner">
<svg xmlns="http://www.w3.org/2000/svg" id="Layer_1" data-name="Layer 1" viewBox="0 0 12 12"><rect x="1" y="6" width="5" height="1"></rect><path d="M10,1H8A1,1,0,0,0,7,0H6A1,1,0,0,0,5,1H3A1,1,0,0,0,2,2V5H3V2H4V3H9V2h1v9H3V8H2v3a1,1,0,0,0,1,1h7a1,1,0,0,0,1-1V2A1,1,0,0,0,10,1ZM6.5,2.25a.75.75,0,1,1,.75-.75A.76.76,0,0,1,6.5,2.25Z"></path><path d="M6.32,6.32,4.43,4.43A.25.25,0,0,0,4,4.6V8.4a.25.25,0,0,0,.43.17L6.32,6.68A.25.25,0,0,0,6.32,6.32Z"></path></svg><strong class="copy-button-label"></strong><span class="tooltip hidden"> Copy to Clipboard</span>
</div></button>
<div class="content">
<pre>	--rawfull			Force sensor to capture in full resolution mode</pre>
</div>
</div>
<div class="paragraph">
<p>This option forces the sensor to be driven in its full resolution readout mode for still and video capture, irrespective of the requested output resolution (given by <code>--width</code> and <code>--height</code>). It has no effect for <code>libcamera-hello</code>.</p>
</div>
<div class="paragraph">
<p>Using this option often incurs a frame rate penalty, as larger resolution frames are slower to read out.</p>
</div>
<div class="paragraph">
<p>Example: <code>libcamera-raw -t 2000 --segment 1 --rawfull -o test%03d.raw</code> will cause multiple full resolution raw frames to be captured. On the HQ camera each frame will be about 18MB in size. Without the <code>--rawfull</code> option the default video output resolution would have caused the 2x2 binned mode to be selected, resulting in 4.5MB raw frames.</p>
</div>
<div class="listingblock">
<button class="copy-button hidden" aria-label="copy code to clipboard" type="button" aria-hidden="true"><div class="copy-button-inner">
<svg xmlns="http://www.w3.org/2000/svg" id="Layer_1" data-name="Layer 1" viewBox="0 0 12 12"><rect x="1" y="6" width="5" height="1"></rect><path d="M10,1H8A1,1,0,0,0,7,0H6A1,1,0,0,0,5,1H3A1,1,0,0,0,2,2V5H3V2H4V3H9V2h1v9H3V8H2v3a1,1,0,0,0,1,1h7a1,1,0,0,0,1-1V2A1,1,0,0,0,10,1ZM6.5,2.25a.75.75,0,1,1,.75-.75A.76.76,0,0,1,6.5,2.25Z"></path><path d="M6.32,6.32,4.43,4.43A.25.25,0,0,0,4,4.6V8.4a.25.25,0,0,0,.43.17L6.32,6.68A.25.25,0,0,0,6.32,6.32Z"></path></svg><strong class="copy-button-label"></strong><span class="tooltip hidden"> Copy to Clipboard</span>
</div></button>
<div class="content">
<pre>	--mode				Specify sensor mode, given as &lt;width&gt;:&lt;height&gt;:&lt;bit-depth&gt;:&lt;packing&gt;</pre>
</div>
</div>
<div class="paragraph">
<p>This option is more general than <code>--rawfull</code> and allows the precise selection of one of the camera modes. The mode should be specified by giving its width, height, bit-depth and packing, separated by colons. These numbers do not have to be exact as the system will select the closest it can find. Moreover, the bit-depth and packing are optional (defaulting to 12 and <code>P</code> for "packed" respectively). For example:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>4056:3040:12:P</code> - 4056x3040 resolution, 12 bits per pixel, packed. This means that raw image buffers will be packed so that 2 pixel values occupy only 3 bytes.</p>
</li>
<li>
<p><code>1632:1224:10</code> - 1632x1224 resolution, 10 bits per pixel. It will default to "packed". A 10-bit packed mode would store 4 pixels in every 5 bytes.</p>
</li>
<li>
<p><code>2592:1944:10:U</code> - 2592x1944 resolution, 10 bits per pixel, unpacked. An unpacked format will store every pixel in 2 bytes, in this case with the top 6 bits of each value being zero.</p>
</li>
<li>
<p><code>3264:2448</code> - 3264x2448 resolution. It will try to select the default 12-bit mode but in the case of the v2 camera there isnt one, so a 10-bit mode would be chosen instead.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The <code>--mode</code> option affects the mode choice for video recording and stills capture. To control the mode choice during the preview phase prior to stills capture, please use the <code>--viewfinder-mode</code> option.</p>
</div>
<div class="listingblock">
<button class="copy-button hidden" aria-label="copy code to clipboard" type="button" aria-hidden="true"><div class="copy-button-inner">
<svg xmlns="http://www.w3.org/2000/svg" id="Layer_1" data-name="Layer 1" viewBox="0 0 12 12"><rect x="1" y="6" width="5" height="1"></rect><path d="M10,1H8A1,1,0,0,0,7,0H6A1,1,0,0,0,5,1H3A1,1,0,0,0,2,2V5H3V2H4V3H9V2h1v9H3V8H2v3a1,1,0,0,0,1,1h7a1,1,0,0,0,1-1V2A1,1,0,0,0,10,1ZM6.5,2.25a.75.75,0,1,1,.75-.75A.76.76,0,0,1,6.5,2.25Z"></path><path d="M6.32,6.32,4.43,4.43A.25.25,0,0,0,4,4.6V8.4a.25.25,0,0,0,.43.17L6.32,6.68A.25.25,0,0,0,6.32,6.32Z"></path></svg><strong class="copy-button-label"></strong><span class="tooltip hidden"> Copy to Clipboard</span>
</div></button>
<div class="content">
<pre>	--viewfinder-mode		Specify sensor mode, given as &lt;width&gt;:&lt;height&gt;:&lt;bit-depth&gt;:&lt;packing&gt;</pre>
</div>
</div>
<div class="paragraph">
<p>This option is identical to the <code>--mode</code> option except that it applies only during the preview phase of stills capture (also used by the <code>libcamera-hello</code> application).</p>
</div>
<div class="listingblock">
<button class="copy-button hidden" aria-label="copy code to clipboard" type="button" aria-hidden="true"><div class="copy-button-inner">
<svg xmlns="http://www.w3.org/2000/svg" id="Layer_1" data-name="Layer 1" viewBox="0 0 12 12"><rect x="1" y="6" width="5" height="1"></rect><path d="M10,1H8A1,1,0,0,0,7,0H6A1,1,0,0,0,5,1H3A1,1,0,0,0,2,2V5H3V2H4V3H9V2h1v9H3V8H2v3a1,1,0,0,0,1,1h7a1,1,0,0,0,1-1V2A1,1,0,0,0,10,1ZM6.5,2.25a.75.75,0,1,1,.75-.75A.76.76,0,0,1,6.5,2.25Z"></path><path d="M6.32,6.32,4.43,4.43A.25.25,0,0,0,4,4.6V8.4a.25.25,0,0,0,.43.17L6.32,6.68A.25.25,0,0,0,6.32,6.32Z"></path></svg><strong class="copy-button-label"></strong><span class="tooltip hidden"> Copy to Clipboard</span>
</div></button>
<div class="content">
<pre>	--lores-width			Low resolution image width &lt;width&gt;
	--lores-height			Low resolution image height &lt;height&gt;</pre>
</div>
</div>
<div class="paragraph">
<p><code>libcamera</code> allows the possibility of delivering a second lower resolution image stream from the camera system to the application. This stream is available in both the preview and the video modes (i.e. <code>libcamera-hello</code> and the preview phase of <code>libcamera-still</code>, and <code>libcamera-vid</code>), and can be used, among other things, for image analysis. For stills captures, the low resolution image stream is not available.</p>
</div>
<div class="paragraph">
<p>The low resolution stream has the same field of view as the other image streams. If a different aspect ratio is specified for the low resolution stream, then those images will be squashed so that the pixels are no longer square.</p>
</div>
<div class="paragraph">
<p>During video recording (<code>libcamera-vid</code>), specifying a low resolution stream will disable some extra colour denoise processing that would normally occur.</p>
</div>
<div class="paragraph">
<p>Example: <code>libcamera-hello --lores-width 224 --lores-height 224</code></p>
</div>
<div class="paragraph">
<p>Note that the low resolution stream is not particularly useful unless used in conjunction with <a href="https://www.raspberrypi.com/documentation/accessories/camera.html#post-processing">image post-processing</a>.</p>
</div>
<div class="listingblock">
<button class="copy-button hidden" aria-label="copy code to clipboard" type="button" aria-hidden="true"><div class="copy-button-inner">
<svg xmlns="http://www.w3.org/2000/svg" id="Layer_1" data-name="Layer 1" viewBox="0 0 12 12"><rect x="1" y="6" width="5" height="1"></rect><path d="M10,1H8A1,1,0,0,0,7,0H6A1,1,0,0,0,5,1H3A1,1,0,0,0,2,2V5H3V2H4V3H9V2h1v9H3V8H2v3a1,1,0,0,0,1,1h7a1,1,0,0,0,1-1V2A1,1,0,0,0,10,1ZM6.5,2.25a.75.75,0,1,1,.75-.75A.76.76,0,0,1,6.5,2.25Z"></path><path d="M6.32,6.32,4.43,4.43A.25.25,0,0,0,4,4.6V8.4a.25.25,0,0,0,.43.17L6.32,6.68A.25.25,0,0,0,6.32,6.32Z"></path></svg><strong class="copy-button-label"></strong><span class="tooltip hidden"> Copy to Clipboard</span>
</div></button>
<div class="content">
<pre>	--hflip				Read out with horizontal mirror
	--vflip				Read out with vertical flip
	--rotation			Use hflip and vflip to create the given rotation &lt;angle&gt;</pre>
</div>
</div>
<div class="paragraph">
<p>These options affect the order of read-out from the sensor, and can be used to mirror the image horizontally, and/or flip it vertically. The <code>--rotation</code> option permits only the value 0 or 180, so note that 90 or 270 degree rotations are not supported. Moreover, <code>--rotation 180</code> is identical to <code>--hflip --vflip</code>.</p>
</div>
<div class="paragraph">
<p>Example: <code>libcamera-hello --vflip --hflip</code></p>
</div>
<div class="listingblock">
<button class="copy-button hidden" aria-label="copy code to clipboard" type="button" aria-hidden="true"><div class="copy-button-inner">
<svg xmlns="http://www.w3.org/2000/svg" id="Layer_1" data-name="Layer 1" viewBox="0 0 12 12"><rect x="1" y="6" width="5" height="1"></rect><path d="M10,1H8A1,1,0,0,0,7,0H6A1,1,0,0,0,5,1H3A1,1,0,0,0,2,2V5H3V2H4V3H9V2h1v9H3V8H2v3a1,1,0,0,0,1,1h7a1,1,0,0,0,1-1V2A1,1,0,0,0,10,1ZM6.5,2.25a.75.75,0,1,1,.75-.75A.76.76,0,0,1,6.5,2.25Z"></path><path d="M6.32,6.32,4.43,4.43A.25.25,0,0,0,4,4.6V8.4a.25.25,0,0,0,.43.17L6.32,6.68A.25.25,0,0,0,6.32,6.32Z"></path></svg><strong class="copy-button-label"></strong><span class="tooltip hidden"> Copy to Clipboard</span>
</div></button>
<div class="content">
<pre>	--roi				Select a crop (region of interest) from the camera &lt;x,y,w,h&gt;</pre>
</div>
</div>
<div class="paragraph">
<p>The <code>--roi</code> (region of interest) option allows the user to select a particular crop from the full field of view provided by the sensor. The coordinates are specified as a proportion of the available field of view, so that <code>--roi 0,0,1,1</code> would have no effect at all.</p>
</div>
<div class="paragraph">
<p>The <code>--roi</code> parameter implements what is commonly referred to as "digital zoom".</p>
</div>
<div class="paragraph">
<p>Example <code>libcamera-hello --roi 0.25,0.25,0.5,0.5</code> will select exactly a quarter of the total number of pixels cropped from the centre of the image.</p>
</div>
</div>
<div class="sect3">
<h4 id="camera-control">
<a class="anchor" href="https://www.raspberrypi.com/documentation/accessories/camera.html#camera-control"></a>Camera Control</h4>
<div class="paragraph">
<p>The following options affect the image processing and control algorithms that affect the camera image quality.</p>
</div>
<div class="listingblock">
<button class="copy-button hidden" aria-label="copy code to clipboard" type="button" aria-hidden="true"><div class="copy-button-inner">
<svg xmlns="http://www.w3.org/2000/svg" id="Layer_1" data-name="Layer 1" viewBox="0 0 12 12"><rect x="1" y="6" width="5" height="1"></rect><path d="M10,1H8A1,1,0,0,0,7,0H6A1,1,0,0,0,5,1H3A1,1,0,0,0,2,2V5H3V2H4V3H9V2h1v9H3V8H2v3a1,1,0,0,0,1,1h7a1,1,0,0,0,1-1V2A1,1,0,0,0,10,1ZM6.5,2.25a.75.75,0,1,1,.75-.75A.76.76,0,0,1,6.5,2.25Z"></path><path d="M6.32,6.32,4.43,4.43A.25.25,0,0,0,4,4.6V8.4a.25.25,0,0,0,.43.17L6.32,6.68A.25.25,0,0,0,6.32,6.32Z"></path></svg><strong class="copy-button-label"></strong><span class="tooltip hidden"> Copy to Clipboard</span>
</div></button>
<div class="content">
<pre>	--sharpness			Set image sharpness &lt;number&gt;</pre>
</div>
</div>
<div class="paragraph">
<p>The given <code>&lt;number&gt;</code> adjusts the image sharpness. The value zero means that no sharpening is applied, the value 1.0 uses the default amount of sharpening, and values greater than 1.0 use extra sharpening.</p>
</div>
<div class="paragraph">
<p>Example: <code>libcamera-still -o test.jpg --sharpness 2.0</code></p>
</div>
<div class="listingblock">
<button class="copy-button hidden" aria-label="copy code to clipboard" type="button" aria-hidden="true"><div class="copy-button-inner">
<svg xmlns="http://www.w3.org/2000/svg" id="Layer_1" data-name="Layer 1" viewBox="0 0 12 12"><rect x="1" y="6" width="5" height="1"></rect><path d="M10,1H8A1,1,0,0,0,7,0H6A1,1,0,0,0,5,1H3A1,1,0,0,0,2,2V5H3V2H4V3H9V2h1v9H3V8H2v3a1,1,0,0,0,1,1h7a1,1,0,0,0,1-1V2A1,1,0,0,0,10,1ZM6.5,2.25a.75.75,0,1,1,.75-.75A.76.76,0,0,1,6.5,2.25Z"></path><path d="M6.32,6.32,4.43,4.43A.25.25,0,0,0,4,4.6V8.4a.25.25,0,0,0,.43.17L6.32,6.68A.25.25,0,0,0,6.32,6.32Z"></path></svg><strong class="copy-button-label"></strong><span class="tooltip hidden"> Copy to Clipboard</span>
</div></button>
<div class="content">
<pre>	--contrast			Set image contrast &lt;number&gt;</pre>
</div>
</div>
<div class="paragraph">
<p>The given <code>&lt;number&gt;</code> adjusts the image contrast. The value zero produces minimum contrast, the value 1.0 uses the default amount of contrast, and values greater than 1.0 apply extra contrast.</p>
</div>
<div class="paragraph">
<p>Example: <code>libcamera-still -o test.jpg --contrast 1.5</code></p>
</div>
<div class="listingblock">
<button class="copy-button hidden" aria-label="copy code to clipboard" type="button" aria-hidden="true"><div class="copy-button-inner">
<svg xmlns="http://www.w3.org/2000/svg" id="Layer_1" data-name="Layer 1" viewBox="0 0 12 12"><rect x="1" y="6" width="5" height="1"></rect><path d="M10,1H8A1,1,0,0,0,7,0H6A1,1,0,0,0,5,1H3A1,1,0,0,0,2,2V5H3V2H4V3H9V2h1v9H3V8H2v3a1,1,0,0,0,1,1h7a1,1,0,0,0,1-1V2A1,1,0,0,0,10,1ZM6.5,2.25a.75.75,0,1,1,.75-.75A.76.76,0,0,1,6.5,2.25Z"></path><path d="M6.32,6.32,4.43,4.43A.25.25,0,0,0,4,4.6V8.4a.25.25,0,0,0,.43.17L6.32,6.68A.25.25,0,0,0,6.32,6.32Z"></path></svg><strong class="copy-button-label"></strong><span class="tooltip hidden"> Copy to Clipboard</span>
</div></button>
<div class="content">
<pre>	--brightness			Set image brightness &lt;number&gt;</pre>
</div>
</div>
<div class="paragraph">
<p>The given <code>&lt;number&gt;</code> adjusts the image brightness. The value -1.0 produces an (almost) black image, the value 1.0 produces an almost entirely white image and the value 0.0 produces standard image brightness.</p>
</div>
<div class="paragraph">
<p>Note that the brightness parameter adds (or subtracts) an offset from all pixels in the output image. The <code>--ev</code> option is often more appropriate.</p>
</div>
<div class="paragraph">
<p>Example: <code>libcamera-still -o test.jpg --brightness 0.2</code></p>
</div>
<div class="listingblock">
<button class="copy-button hidden" aria-label="copy code to clipboard" type="button" aria-hidden="true"><div class="copy-button-inner">
<svg xmlns="http://www.w3.org/2000/svg" id="Layer_1" data-name="Layer 1" viewBox="0 0 12 12"><rect x="1" y="6" width="5" height="1"></rect><path d="M10,1H8A1,1,0,0,0,7,0H6A1,1,0,0,0,5,1H3A1,1,0,0,0,2,2V5H3V2H4V3H9V2h1v9H3V8H2v3a1,1,0,0,0,1,1h7a1,1,0,0,0,1-1V2A1,1,0,0,0,10,1ZM6.5,2.25a.75.75,0,1,1,.75-.75A.76.76,0,0,1,6.5,2.25Z"></path><path d="M6.32,6.32,4.43,4.43A.25.25,0,0,0,4,4.6V8.4a.25.25,0,0,0,.43.17L6.32,6.68A.25.25,0,0,0,6.32,6.32Z"></path></svg><strong class="copy-button-label"></strong><span class="tooltip hidden"> Copy to Clipboard</span>
</div></button>
<div class="content">
<pre>	--saturation			Set image colour saturation &lt;number&gt;</pre>
</div>
</div>
<div class="paragraph">
<p>The given <code>&lt;number&gt;</code> adjusts the colour saturation. The value zero produces a greyscale image, the value 1.0 uses the default amount of sautration, and values greater than 1.0 apply extra colour saturation.</p>
</div>
<div class="paragraph">
<p>Example: <code>libcamera-still -o test.jpg --saturation 0.8</code></p>
</div>
<div class="listingblock">
<button class="copy-button hidden" aria-label="copy code to clipboard" type="button" aria-hidden="true"><div class="copy-button-inner">
<svg xmlns="http://www.w3.org/2000/svg" id="Layer_1" data-name="Layer 1" viewBox="0 0 12 12"><rect x="1" y="6" width="5" height="1"></rect><path d="M10,1H8A1,1,0,0,0,7,0H6A1,1,0,0,0,5,1H3A1,1,0,0,0,2,2V5H3V2H4V3H9V2h1v9H3V8H2v3a1,1,0,0,0,1,1h7a1,1,0,0,0,1-1V2A1,1,0,0,0,10,1ZM6.5,2.25a.75.75,0,1,1,.75-.75A.76.76,0,0,1,6.5,2.25Z"></path><path d="M6.32,6.32,4.43,4.43A.25.25,0,0,0,4,4.6V8.4a.25.25,0,0,0,.43.17L6.32,6.68A.25.25,0,0,0,6.32,6.32Z"></path></svg><strong class="copy-button-label"></strong><span class="tooltip hidden"> Copy to Clipboard</span>
</div></button>
<div class="content">
<pre>	--ev				Set EV compensation &lt;number&gt;</pre>
</div>
</div>
<div class="paragraph">
<p>Sets the EV compensation of the image in units of <em>stops</em>, in the range -10 to 10. Default is 0. It works by raising or lowering the target values the AEC/AGC algorithm is attempting to match.</p>
</div>
<div class="paragraph">
<p>Example: <code>libcamera-still -o test.jpg --ev 0.3</code></p>
</div>
<div class="listingblock">
<button class="copy-button hidden" aria-label="copy code to clipboard" type="button" aria-hidden="true"><div class="copy-button-inner">
<svg xmlns="http://www.w3.org/2000/svg" id="Layer_1" data-name="Layer 1" viewBox="0 0 12 12"><rect x="1" y="6" width="5" height="1"></rect><path d="M10,1H8A1,1,0,0,0,7,0H6A1,1,0,0,0,5,1H3A1,1,0,0,0,2,2V5H3V2H4V3H9V2h1v9H3V8H2v3a1,1,0,0,0,1,1h7a1,1,0,0,0,1-1V2A1,1,0,0,0,10,1ZM6.5,2.25a.75.75,0,1,1,.75-.75A.76.76,0,0,1,6.5,2.25Z"></path><path d="M6.32,6.32,4.43,4.43A.25.25,0,0,0,4,4.6V8.4a.25.25,0,0,0,.43.17L6.32,6.68A.25.25,0,0,0,6.32,6.32Z"></path></svg><strong class="copy-button-label"></strong><span class="tooltip hidden"> Copy to Clipboard</span>
</div></button>
<div class="content">
<pre>	--shutter			Set the exposure time in microseconds &lt;number&gt;</pre>
</div>
</div>
<div class="paragraph">
<p>The shutter time is fixed to the given value. The gain will still be allowed to vary (unless that is also fixed).</p>
</div>
<div class="paragraph">
<p>Note that this shutter time may not be achieved if the camera is running at a frame rate that is too fast to allow it. In this case the <code>--framerate</code> option may be used to lower the frame rate. The maximum possible shutter times for the official Raspberry Pi supported can be found <a href="https://www.raspberrypi.com/documentation/accessories/camera.html#maximum-exposure-times">in this table</a>.</p>
</div>
<div class="paragraph">
<p>Using values above these maximums will result in undefined behaviour. Cameras will also have different minimum shutter times, though in practice this is not important as they are all low enough to expose bright scenes appropriately.</p>
</div>
<div class="paragraph">
<p>Example: <code>libcamera-hello --shutter 30000</code></p>
</div>
<div class="listingblock">
<button class="copy-button hidden" aria-label="copy code to clipboard" type="button" aria-hidden="true"><div class="copy-button-inner">
<svg xmlns="http://www.w3.org/2000/svg" id="Layer_1" data-name="Layer 1" viewBox="0 0 12 12"><rect x="1" y="6" width="5" height="1"></rect><path d="M10,1H8A1,1,0,0,0,7,0H6A1,1,0,0,0,5,1H3A1,1,0,0,0,2,2V5H3V2H4V3H9V2h1v9H3V8H2v3a1,1,0,0,0,1,1h7a1,1,0,0,0,1-1V2A1,1,0,0,0,10,1ZM6.5,2.25a.75.75,0,1,1,.75-.75A.76.76,0,0,1,6.5,2.25Z"></path><path d="M6.32,6.32,4.43,4.43A.25.25,0,0,0,4,4.6V8.4a.25.25,0,0,0,.43.17L6.32,6.68A.25.25,0,0,0,6.32,6.32Z"></path></svg><strong class="copy-button-label"></strong><span class="tooltip hidden"> Copy to Clipboard</span>
</div></button>
<div class="content">
<pre>	--gain				Sets the combined analogue and digital gains &lt;number&gt;
	--analoggain			Synonym for --gain</pre>
</div>
</div>
<div class="paragraph">
<p>These two options are actually identical, and set the combined analogue and digital gains that will be used. The <code>--analoggain</code> form is permitted so as to be more compatible with the legacy <code>raspicam</code> applications. Where the requested gain can be supplied by the sensor driver, then only analogue gain will be used. Once the analogue gain reaches the maximum permitted value, then extra gain beyond this will be supplied as digital gain.</p>
</div>
<div class="paragraph">
<p>Note that there are circumstances where the digital gain can go above 1 even when the analogue gain limit is not exceeded. This can occur when</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Either of the colour gains goes below 1.0, which will cause the digital gain to settle to 1.0/min(red_gain,blue_gain). This means that the total digital gain being applied to any colour channel does not go below 1.0, as that would cause discolouration artifacts.</p>
</li>
<li>
<p>The digital gain can vary slightly while the AEC/AGC changes, though this effect should be only transient.</p>
</li>
</ul>
</div>
<div class="listingblock">
<button class="copy-button hidden" aria-label="copy code to clipboard" type="button" aria-hidden="true"><div class="copy-button-inner">
<svg xmlns="http://www.w3.org/2000/svg" id="Layer_1" data-name="Layer 1" viewBox="0 0 12 12"><rect x="1" y="6" width="5" height="1"></rect><path d="M10,1H8A1,1,0,0,0,7,0H6A1,1,0,0,0,5,1H3A1,1,0,0,0,2,2V5H3V2H4V3H9V2h1v9H3V8H2v3a1,1,0,0,0,1,1h7a1,1,0,0,0,1-1V2A1,1,0,0,0,10,1ZM6.5,2.25a.75.75,0,1,1,.75-.75A.76.76,0,0,1,6.5,2.25Z"></path><path d="M6.32,6.32,4.43,4.43A.25.25,0,0,0,4,4.6V8.4a.25.25,0,0,0,.43.17L6.32,6.68A.25.25,0,0,0,6.32,6.32Z"></path></svg><strong class="copy-button-label"></strong><span class="tooltip hidden"> Copy to Clipboard</span>
</div></button>
<div class="content">
<pre>	--metering			Set the metering mode &lt;string&gt;</pre>
</div>
</div>
<div class="paragraph">
<p>Sets the metering mode of the AEC/AGC algorithm. This may one of the following values</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>centre</code> - centre weighted metering (which is the default)</p>
</li>
<li>
<p><code>spot</code> - spot metering</p>
</li>
<li>
<p><code>average</code> - average or whole frame metering</p>
</li>
<li>
<p><code>custom</code> - custom metering mode which would have to be defined in the camera tuning file.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>For more information on defining a custom metering mode, and also on how to adjust the region weights in the existing metering modes, please refer to the <a href="https://datasheets.raspberrypi.com/camera/raspberry-pi-camera-guide.pdf">Tuning guide for the Raspberry Pi cameras and libcamera</a>.</p>
</div>
<div class="paragraph">
<p>Example: <code>libcamera-still -o test.jpg --metering spot</code></p>
</div>
<div class="listingblock">
<button class="copy-button hidden" aria-label="copy code to clipboard" type="button" aria-hidden="true"><div class="copy-button-inner">
<svg xmlns="http://www.w3.org/2000/svg" id="Layer_1" data-name="Layer 1" viewBox="0 0 12 12"><rect x="1" y="6" width="5" height="1"></rect><path d="M10,1H8A1,1,0,0,0,7,0H6A1,1,0,0,0,5,1H3A1,1,0,0,0,2,2V5H3V2H4V3H9V2h1v9H3V8H2v3a1,1,0,0,0,1,1h7a1,1,0,0,0,1-1V2A1,1,0,0,0,10,1ZM6.5,2.25a.75.75,0,1,1,.75-.75A.76.76,0,0,1,6.5,2.25Z"></path><path d="M6.32,6.32,4.43,4.43A.25.25,0,0,0,4,4.6V8.4a.25.25,0,0,0,.43.17L6.32,6.68A.25.25,0,0,0,6.32,6.32Z"></path></svg><strong class="copy-button-label"></strong><span class="tooltip hidden"> Copy to Clipboard</span>
</div></button>
<div class="content">
<pre>	--exposure			Set the exposure profile &lt;string&gt;</pre>
</div>
</div>
<div class="paragraph">
<p>The exposure profile may be either <code>normal</code>, <code>sport</code> or <code>long</code>. Changing the exposure profile should not affect the overall exposure of an image, but the <code>sport</code> mode will tend to prefer shorter exposure times and larger gains to achieve the same net result.</p>
</div>
<div class="paragraph">
<p>Exposure profiles can be edited in the camera tuning file. Please refer to the <a href="https://datasheets.raspberrypi.com/camera/raspberry-pi-camera-guide.pdf">Tuning guide for the Raspberry Pi cameras and libcamera</a> for more information.</p>
</div>
<div class="paragraph">
<p>Example: <code>libcamera-still -o test.jpg --exposure sport</code></p>
</div>
<div class="listingblock">
<button class="copy-button hidden" aria-label="copy code to clipboard" type="button" aria-hidden="true"><div class="copy-button-inner">
<svg xmlns="http://www.w3.org/2000/svg" id="Layer_1" data-name="Layer 1" viewBox="0 0 12 12"><rect x="1" y="6" width="5" height="1"></rect><path d="M10,1H8A1,1,0,0,0,7,0H6A1,1,0,0,0,5,1H3A1,1,0,0,0,2,2V5H3V2H4V3H9V2h1v9H3V8H2v3a1,1,0,0,0,1,1h7a1,1,0,0,0,1-1V2A1,1,0,0,0,10,1ZM6.5,2.25a.75.75,0,1,1,.75-.75A.76.76,0,0,1,6.5,2.25Z"></path><path d="M6.32,6.32,4.43,4.43A.25.25,0,0,0,4,4.6V8.4a.25.25,0,0,0,.43.17L6.32,6.68A.25.25,0,0,0,6.32,6.32Z"></path></svg><strong class="copy-button-label"></strong><span class="tooltip hidden"> Copy to Clipboard</span>
</div></button>
<div class="content">
<pre>	--awb				Set the AWB mode &lt;string&gt;</pre>
</div>
</div>
<div class="paragraph">
<p>This option sets the AWB algorithm into the named AWB mode. Valid modes are:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Mode name</th>
<th class="tableblock halign-left valign-top">Colour temperature</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">auto</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">2500K to 8000K</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">incandescent</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">2500K to 3000K</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">tungsten</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">3000K to 3500K</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">fluorescent</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">4000K to 4700K</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">indoor</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">3000K to 5000K</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">daylight</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">5500K to 6500K</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">cloudy</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">7000K to 8500K</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">custom</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A custom range would have to be defined in the camera tuning file.</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>There is no mode that turns the AWB off, instead fixed colour gains should be specified with the <code>--awbgains</code> option.</p>
</div>
<div class="paragraph">
<p>Note that these values are only approximate, the values could vary according to the camera tuning.</p>
</div>
<div class="paragraph">
<p>For more information on AWB modes and how to define a custom one, please refer to the <a href="https://datasheets.raspberrypi.com/camera/raspberry-pi-camera-guide.pdf">Tuning guide for the Raspberry Pi cameras and libcamera</a>.</p>
</div>
<div class="paragraph">
<p>Example: <code>libcamera-still -o test.jpg --awb tungsten</code></p>
</div>
<div class="listingblock">
<button class="copy-button hidden" aria-label="copy code to clipboard" type="button" aria-hidden="true"><div class="copy-button-inner">
<svg xmlns="http://www.w3.org/2000/svg" id="Layer_1" data-name="Layer 1" viewBox="0 0 12 12"><rect x="1" y="6" width="5" height="1"></rect><path d="M10,1H8A1,1,0,0,0,7,0H6A1,1,0,0,0,5,1H3A1,1,0,0,0,2,2V5H3V2H4V3H9V2h1v9H3V8H2v3a1,1,0,0,0,1,1h7a1,1,0,0,0,1-1V2A1,1,0,0,0,10,1ZM6.5,2.25a.75.75,0,1,1,.75-.75A.76.76,0,0,1,6.5,2.25Z"></path><path d="M6.32,6.32,4.43,4.43A.25.25,0,0,0,4,4.6V8.4a.25.25,0,0,0,.43.17L6.32,6.68A.25.25,0,0,0,6.32,6.32Z"></path></svg><strong class="copy-button-label"></strong><span class="tooltip hidden"> Copy to Clipboard</span>
</div></button>
<div class="content">
<pre>	--awbgains				Set fixed colour gains &lt;number,number&gt;</pre>
</div>
</div>
<div class="paragraph">
<p>This option accepts a red and a blue gain value and uses them directly in place of running the AWB algorithm. Setting non-zero values here has the effect of disabling the AWB calculation.</p>
</div>
<div class="paragraph">
<p>Example: <code>libcamera-still -o test.jpg --awbgains 1.5,2.0</code></p>
</div>
<div class="listingblock">
<button class="copy-button hidden" aria-label="copy code to clipboard" type="button" aria-hidden="true"><div class="copy-button-inner">
<svg xmlns="http://www.w3.org/2000/svg" id="Layer_1" data-name="Layer 1" viewBox="0 0 12 12"><rect x="1" y="6" width="5" height="1"></rect><path d="M10,1H8A1,1,0,0,0,7,0H6A1,1,0,0,0,5,1H3A1,1,0,0,0,2,2V5H3V2H4V3H9V2h1v9H3V8H2v3a1,1,0,0,0,1,1h7a1,1,0,0,0,1-1V2A1,1,0,0,0,10,1ZM6.5,2.25a.75.75,0,1,1,.75-.75A.76.76,0,0,1,6.5,2.25Z"></path><path d="M6.32,6.32,4.43,4.43A.25.25,0,0,0,4,4.6V8.4a.25.25,0,0,0,.43.17L6.32,6.68A.25.25,0,0,0,6.32,6.32Z"></path></svg><strong class="copy-button-label"></strong><span class="tooltip hidden"> Copy to Clipboard</span>
</div></button>
<div class="content">
<pre>	--denoise				Set the denoising mode &lt;string&gt;</pre>
</div>
</div>
<div class="paragraph">
<p>The following denoise modes are supported:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>auto</code> - This is the default. It always enables standard spatial denoise. It uses extra fast colour denoise for video, and high quality colour denoise for stills capture. Preview does not enable any extra colour denoise at all.</p>
</li>
<li>
<p><code>off</code> - Disables spatial and colour denoise.</p>
</li>
<li>
<p><code>cdn_off</code> - Disables colour denoise.</p>
</li>
<li>
<p><code>cdn_fast</code> - Uses fast color denoise.</p>
</li>
<li>
<p><code>cdn_hq</code> - Uses high quality colour denoise. Not appropriate for video/viewfinder due to reduced throughput.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Note that even the use of fast colour denoise can result in lower framerates. The high quality colour denoise will normally result in much lower framerates.</p>
</div>
<div class="paragraph">
<p>Example: <code>libcamera-vid -o test.h264 --denoise cdn_off</code></p>
</div>
<div class="listingblock">
<button class="copy-button hidden" aria-label="copy code to clipboard" type="button" aria-hidden="true"><div class="copy-button-inner">
<svg xmlns="http://www.w3.org/2000/svg" id="Layer_1" data-name="Layer 1" viewBox="0 0 12 12"><rect x="1" y="6" width="5" height="1"></rect><path d="M10,1H8A1,1,0,0,0,7,0H6A1,1,0,0,0,5,1H3A1,1,0,0,0,2,2V5H3V2H4V3H9V2h1v9H3V8H2v3a1,1,0,0,0,1,1h7a1,1,0,0,0,1-1V2A1,1,0,0,0,10,1ZM6.5,2.25a.75.75,0,1,1,.75-.75A.76.76,0,0,1,6.5,2.25Z"></path><path d="M6.32,6.32,4.43,4.43A.25.25,0,0,0,4,4.6V8.4a.25.25,0,0,0,.43.17L6.32,6.68A.25.25,0,0,0,6.32,6.32Z"></path></svg><strong class="copy-button-label"></strong><span class="tooltip hidden"> Copy to Clipboard</span>
</div></button>
<div class="content">
<pre>	--tuning-file				Specify the camera tuning to use &lt;string&gt;</pre>
</div>
</div>
<div class="paragraph">
<p>This identifies the name of the JSON format tuning file that should be used. The tuning file covers many aspects of the image processing, including the AEC/AGC, AWB, colour shading correction, colour processing, denoising and so forth.</p>
</div>
<div class="paragraph">
<p>For more information on the camera tuning file, please consult the <a href="https://datasheets.raspberrypi.com/camera/raspberry-pi-camera-guide.pdf">Tuning guide for the Raspberry Pi cameras and libcamera</a>.</p>
</div>
<div class="paragraph">
<p>Example: <code>libcamera-hello --tuning-file ~/my-camera-tuning.json</code></p>
</div>
</div>
<div class="sect3">
<h4 id="output-file-options">
<a class="anchor" href="https://www.raspberrypi.com/documentation/accessories/camera.html#output-file-options"></a>Output File Options</h4>
<div class="listingblock">
<button class="copy-button hidden" aria-label="copy code to clipboard" type="button" aria-hidden="true"><div class="copy-button-inner">
<svg xmlns="http://www.w3.org/2000/svg" id="Layer_1" data-name="Layer 1" viewBox="0 0 12 12"><rect x="1" y="6" width="5" height="1"></rect><path d="M10,1H8A1,1,0,0,0,7,0H6A1,1,0,0,0,5,1H3A1,1,0,0,0,2,2V5H3V2H4V3H9V2h1v9H3V8H2v3a1,1,0,0,0,1,1h7a1,1,0,0,0,1-1V2A1,1,0,0,0,10,1ZM6.5,2.25a.75.75,0,1,1,.75-.75A.76.76,0,0,1,6.5,2.25Z"></path><path d="M6.32,6.32,4.43,4.43A.25.25,0,0,0,4,4.6V8.4a.25.25,0,0,0,.43.17L6.32,6.68A.25.25,0,0,0,6.32,6.32Z"></path></svg><strong class="copy-button-label"></strong><span class="tooltip hidden"> Copy to Clipboard</span>
</div></button>
<div class="content">
<pre>	--output,	-o			Output file name &lt;string&gt;</pre>
</div>
</div>
<div class="paragraph">
<p><code>--output</code> sets the name of the output file to which the output image or video is written. Besides regular file names, this may take the following special values:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>-</code> - write to stdout</p>
</li>
<li>
<p><code>udp://</code> - a string starting with this is taken as a network address for streaming</p>
</li>
<li>
<p><code>tcp://</code> - a string starting with this is taken as a network address for streaming</p>
</li>
<li>
<p>a string containing a <code>%d</code> directive is taken as a file name where the format directive is replaced with a count that increments for each file that is opened. Standard C format directive modifiers are permitted.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Examples:</p>
</div>
<div class="paragraph">
<p><code>libcamera-vid -t 100000 --segment 10000 -o chunk%04d.h264</code> records a 100 second file in 10 second segments, where each file is named <code>chunk.h264</code> but with the inclusion of an incrementing counter. Note that <code>%04d</code> writes the count to a string, but padded up to a total width of at least 4 characters by adding leading zeroes.</p>
</div>
<div class="paragraph">
<p><code>libcamera-vid -t 0 --inline -o udp://192.168.1.13:5000</code> stream H.264 video to network address 192.168.1.13 on port 5000.</p>
</div>
<div class="listingblock">
<button class="copy-button hidden" aria-label="copy code to clipboard" type="button" aria-hidden="true"><div class="copy-button-inner">
<svg xmlns="http://www.w3.org/2000/svg" id="Layer_1" data-name="Layer 1" viewBox="0 0 12 12"><rect x="1" y="6" width="5" height="1"></rect><path d="M10,1H8A1,1,0,0,0,7,0H6A1,1,0,0,0,5,1H3A1,1,0,0,0,2,2V5H3V2H4V3H9V2h1v9H3V8H2v3a1,1,0,0,0,1,1h7a1,1,0,0,0,1-1V2A1,1,0,0,0,10,1ZM6.5,2.25a.75.75,0,1,1,.75-.75A.76.76,0,0,1,6.5,2.25Z"></path><path d="M6.32,6.32,4.43,4.43A.25.25,0,0,0,4,4.6V8.4a.25.25,0,0,0,.43.17L6.32,6.68A.25.25,0,0,0,6.32,6.32Z"></path></svg><strong class="copy-button-label"></strong><span class="tooltip hidden"> Copy to Clipboard</span>
</div></button>
<div class="content">
<pre>	--wrap					Wrap output file counter at &lt;number&gt;</pre>
</div>
</div>
<div class="paragraph">
<p>When outputting to files with an incrementing counter (e.g. <code>%d</code> in the output file name), wrap the counter back to zero when it reaches this value.</p>
</div>
<div class="paragraph">
<p>Example: <code>libcamera-vid -t 0 --codec mjpeg --segment 1 --wrap 100 -o image%d.jpg</code></p>
</div>
<div class="listingblock">
<button class="copy-button hidden" aria-label="copy code to clipboard" type="button" aria-hidden="true"><div class="copy-button-inner">
<svg xmlns="http://www.w3.org/2000/svg" id="Layer_1" data-name="Layer 1" viewBox="0 0 12 12"><rect x="1" y="6" width="5" height="1"></rect><path d="M10,1H8A1,1,0,0,0,7,0H6A1,1,0,0,0,5,1H3A1,1,0,0,0,2,2V5H3V2H4V3H9V2h1v9H3V8H2v3a1,1,0,0,0,1,1h7a1,1,0,0,0,1-1V2A1,1,0,0,0,10,1ZM6.5,2.25a.75.75,0,1,1,.75-.75A.76.76,0,0,1,6.5,2.25Z"></path><path d="M6.32,6.32,4.43,4.43A.25.25,0,0,0,4,4.6V8.4a.25.25,0,0,0,.43.17L6.32,6.68A.25.25,0,0,0,6.32,6.32Z"></path></svg><strong class="copy-button-label"></strong><span class="tooltip hidden"> Copy to Clipboard</span>
</div></button>
<div class="content">
<pre>	--flush					Flush output files immediately</pre>
</div>
</div>
<div class="paragraph">
<p><code>--flush</code> causes output files to be flushed to disk as soon as every frame is written, rather than waiting for the system to do it.</p>
</div>
<div class="paragraph">
<p>Example: <code>libcamera-vid -t 10000 --flush -o test.h264</code></p>
</div>
</div>
<div class="sect3">
<h4 id="post-processing-options">
<a class="anchor" href="https://www.raspberrypi.com/documentation/accessories/camera.html#post-processing-options"></a>Post Processing Options</h4>
<div class="paragraph">
<p>The <code>--post-process-file</code> option specifies a JSON file that configures the post-processing that the imaging pipeline applies to camera images before they reach the application. It can be thought of as a replacement for the legacy <code>raspicam</code> "image effects".</p>
</div>
<div class="paragraph">
<p>Post-processing is a large topic and admits the use of 3rd party software like OpenCV and TensorFlowLite to analyse and manipulate images. For more information, please refer to the section on <a href="https://www.raspberrypi.com/documentation/accessories/camera.html#post-processing">post-processing</a>.</p>
</div>
<div class="paragraph">
<p>Example: <code>libcamera-hello --post-process-file negate.json</code></p>
</div>
<div class="paragraph">
<p>This might apply a "negate" effect to an image, if the file <code>negate.json</code> is appropriately configured.</p>
</div>
</div>
</div>
<div class="sect2">
<div name="still-command-line-options" data-unique="still-command-line-options"></div><h3 id="still-command-line-options">
<a class="anchor" href="https://www.raspberrypi.com/documentation/accessories/camera.html#still-command-line-options"></a>Still Command Line Options</h3>
<div class="listingblock">
<button class="copy-button hidden" aria-label="copy code to clipboard" type="button" aria-hidden="true"><div class="copy-button-inner">
<svg xmlns="http://www.w3.org/2000/svg" id="Layer_1" data-name="Layer 1" viewBox="0 0 12 12"><rect x="1" y="6" width="5" height="1"></rect><path d="M10,1H8A1,1,0,0,0,7,0H6A1,1,0,0,0,5,1H3A1,1,0,0,0,2,2V5H3V2H4V3H9V2h1v9H3V8H2v3a1,1,0,0,0,1,1h7a1,1,0,0,0,1-1V2A1,1,0,0,0,10,1ZM6.5,2.25a.75.75,0,1,1,.75-.75A.76.76,0,0,1,6.5,2.25Z"></path><path d="M6.32,6.32,4.43,4.43A.25.25,0,0,0,4,4.6V8.4a.25.25,0,0,0,.43.17L6.32,6.68A.25.25,0,0,0,6.32,6.32Z"></path></svg><strong class="copy-button-label"></strong><span class="tooltip hidden"> Copy to Clipboard</span>
</div></button>
<div class="content">
<pre>	--quality,	-q		JPEG quality &lt;number&gt;</pre>
</div>
</div>
<div class="paragraph">
<p>Set the JPEG quality. 100 is maximum quality and 93 is the default. Only applies when saving JPEG files.</p>
</div>
<div class="paragraph">
<p>Example: <code>libcamera-jpeg -o test.jpg -q 80</code></p>
</div>
<div class="listingblock">
<button class="copy-button hidden" aria-label="copy code to clipboard" type="button" aria-hidden="true"><div class="copy-button-inner">
<svg xmlns="http://www.w3.org/2000/svg" id="Layer_1" data-name="Layer 1" viewBox="0 0 12 12"><rect x="1" y="6" width="5" height="1"></rect><path d="M10,1H8A1,1,0,0,0,7,0H6A1,1,0,0,0,5,1H3A1,1,0,0,0,2,2V5H3V2H4V3H9V2h1v9H3V8H2v3a1,1,0,0,0,1,1h7a1,1,0,0,0,1-1V2A1,1,0,0,0,10,1ZM6.5,2.25a.75.75,0,1,1,.75-.75A.76.76,0,0,1,6.5,2.25Z"></path><path d="M6.32,6.32,4.43,4.43A.25.25,0,0,0,4,4.6V8.4a.25.25,0,0,0,.43.17L6.32,6.68A.25.25,0,0,0,6.32,6.32Z"></path></svg><strong class="copy-button-label"></strong><span class="tooltip hidden"> Copy to Clipboard</span>
</div></button>
<div class="content">
<pre>	--exif,		-x		Add extra EXIF tags &lt;string&gt;</pre>
</div>
</div>
<div class="paragraph">
<p>The given extra EXIF tags are saved in the JPEG file. Only applies when saving JPEG files.</p>
</div>
<div class="paragraph">
<p>EXIF is supported using the <code>libexif</code> library and so there are some associated limitations. In particular, <code>libexif</code> seems to recognise a number of tags but without knowing the correct format for them. The software will currently treat these (incorrectly, in many cases) as ASCII, but will print a warning to the terminal. As we come across these they can be added to the table of known exceptions in the software.</p>
</div>
<div class="paragraph">
<p>Clearly the application needs to supply EXIF tags that contain specific camera data (like the exposure time). But for other tags that have nothing to do with the camera, a reasonable workaround would simply be to add them <em>post facto</em>, using something like <code>exiftool</code>.</p>
</div>
<div class="paragraph">
<p>Example: <code>libcamera-still -o test.jpg --exif IDO0.Artist=Someone</code></p>
</div>
<div class="listingblock">
<button class="copy-button hidden" aria-label="copy code to clipboard" type="button" aria-hidden="true"><div class="copy-button-inner">
<svg xmlns="http://www.w3.org/2000/svg" id="Layer_1" data-name="Layer 1" viewBox="0 0 12 12"><rect x="1" y="6" width="5" height="1"></rect><path d="M10,1H8A1,1,0,0,0,7,0H6A1,1,0,0,0,5,1H3A1,1,0,0,0,2,2V5H3V2H4V3H9V2h1v9H3V8H2v3a1,1,0,0,0,1,1h7a1,1,0,0,0,1-1V2A1,1,0,0,0,10,1ZM6.5,2.25a.75.75,0,1,1,.75-.75A.76.76,0,0,1,6.5,2.25Z"></path><path d="M6.32,6.32,4.43,4.43A.25.25,0,0,0,4,4.6V8.4a.25.25,0,0,0,.43.17L6.32,6.68A.25.25,0,0,0,6.32,6.32Z"></path></svg><strong class="copy-button-label"></strong><span class="tooltip hidden"> Copy to Clipboard</span>
</div></button>
<div class="content">
<pre>	--timelapse			Time interval between timelapse captures &lt;milliseconds&gt;</pre>
</div>
</div>
<div class="paragraph">
<p>This puts <code>libcamera-still</code> into timelapse mode where it runs according to the timeout (<code>--timeout</code> or <code>-t</code>) that has been set, and for that period will capture repeated images at the interval specified here. (<code>libcamera-still</code> only.)</p>
</div>
<div class="paragraph">
<p>Example: <code>libcamera-still -t 100000 -o test%d.jpg --timelapse 10000</code> captures an image every 10s for about 100s.</p>
</div>
<div class="listingblock">
<button class="copy-button hidden" aria-label="copy code to clipboard" type="button" aria-hidden="true"><div class="copy-button-inner">
<svg xmlns="http://www.w3.org/2000/svg" id="Layer_1" data-name="Layer 1" viewBox="0 0 12 12"><rect x="1" y="6" width="5" height="1"></rect><path d="M10,1H8A1,1,0,0,0,7,0H6A1,1,0,0,0,5,1H3A1,1,0,0,0,2,2V5H3V2H4V3H9V2h1v9H3V8H2v3a1,1,0,0,0,1,1h7a1,1,0,0,0,1-1V2A1,1,0,0,0,10,1ZM6.5,2.25a.75.75,0,1,1,.75-.75A.76.76,0,0,1,6.5,2.25Z"></path><path d="M6.32,6.32,4.43,4.43A.25.25,0,0,0,4,4.6V8.4a.25.25,0,0,0,.43.17L6.32,6.68A.25.25,0,0,0,6.32,6.32Z"></path></svg><strong class="copy-button-label"></strong><span class="tooltip hidden"> Copy to Clipboard</span>
</div></button>
<div class="content">
<pre>	--framestart			The starting value for the frame counter &lt;number&gt;</pre>
</div>
</div>
<div class="paragraph">
<p>When writing counter values into the output file name, this specifies the starting value for the counter.</p>
</div>
<div class="paragraph">
<p>Example: <code>libcamera-still -t 100000 -o test%d.jpg --timelapse 10000 --framestart 1</code> captures an image every 10s for about 100s, starting at 1 rather than 0. (<code>libcamera-still</code> only.)</p>
</div>
<div class="listingblock">
<button class="copy-button hidden" aria-label="copy code to clipboard" type="button" aria-hidden="true"><div class="copy-button-inner">
<svg xmlns="http://www.w3.org/2000/svg" id="Layer_1" data-name="Layer 1" viewBox="0 0 12 12"><rect x="1" y="6" width="5" height="1"></rect><path d="M10,1H8A1,1,0,0,0,7,0H6A1,1,0,0,0,5,1H3A1,1,0,0,0,2,2V5H3V2H4V3H9V2h1v9H3V8H2v3a1,1,0,0,0,1,1h7a1,1,0,0,0,1-1V2A1,1,0,0,0,10,1ZM6.5,2.25a.75.75,0,1,1,.75-.75A.76.76,0,0,1,6.5,2.25Z"></path><path d="M6.32,6.32,4.43,4.43A.25.25,0,0,0,4,4.6V8.4a.25.25,0,0,0,.43.17L6.32,6.68A.25.25,0,0,0,6.32,6.32Z"></path></svg><strong class="copy-button-label"></strong><span class="tooltip hidden"> Copy to Clipboard</span>
</div></button>
<div class="content">
<pre>	--datetime			Use date format for the output file names</pre>
</div>
</div>
<div class="paragraph">
<p>Use the current date and time to construct the output file name, in the form MMDDhhmmss.jpg, where MM = 2-digit month number, DD = 2-digit day number, hh = 2-digit 24-hour hour number, mm = 2-digit minute number, ss = 2-digit second number. (<code>libcamera-still</code> only.)</p>
</div>
<div class="paragraph">
<p>Example: <code>libcamera-still --datetime</code></p>
</div>
<div class="listingblock">
<button class="copy-button hidden" aria-label="copy code to clipboard" type="button" aria-hidden="true"><div class="copy-button-inner">
<svg xmlns="http://www.w3.org/2000/svg" id="Layer_1" data-name="Layer 1" viewBox="0 0 12 12"><rect x="1" y="6" width="5" height="1"></rect><path d="M10,1H8A1,1,0,0,0,7,0H6A1,1,0,0,0,5,1H3A1,1,0,0,0,2,2V5H3V2H4V3H9V2h1v9H3V8H2v3a1,1,0,0,0,1,1h7a1,1,0,0,0,1-1V2A1,1,0,0,0,10,1ZM6.5,2.25a.75.75,0,1,1,.75-.75A.76.76,0,0,1,6.5,2.25Z"></path><path d="M6.32,6.32,4.43,4.43A.25.25,0,0,0,4,4.6V8.4a.25.25,0,0,0,.43.17L6.32,6.68A.25.25,0,0,0,6.32,6.32Z"></path></svg><strong class="copy-button-label"></strong><span class="tooltip hidden"> Copy to Clipboard</span>
</div></button>
<div class="content">
<pre>	--timestamp			Use system timestamps for the output file names</pre>
</div>
</div>
<div class="paragraph">
<p>Uses the current system timestamp (the number of seconds since the start of 1970) as the output file name. (<code>libcamera-still</code> only.)</p>
</div>
<div class="paragraph">
<p>Example: <code>libcamera-still --timestamp</code></p>
</div>
<div class="listingblock">
<button class="copy-button hidden" aria-label="copy code to clipboard" type="button" aria-hidden="true"><div class="copy-button-inner">
<svg xmlns="http://www.w3.org/2000/svg" id="Layer_1" data-name="Layer 1" viewBox="0 0 12 12"><rect x="1" y="6" width="5" height="1"></rect><path d="M10,1H8A1,1,0,0,0,7,0H6A1,1,0,0,0,5,1H3A1,1,0,0,0,2,2V5H3V2H4V3H9V2h1v9H3V8H2v3a1,1,0,0,0,1,1h7a1,1,0,0,0,1-1V2A1,1,0,0,0,10,1ZM6.5,2.25a.75.75,0,1,1,.75-.75A.76.76,0,0,1,6.5,2.25Z"></path><path d="M6.32,6.32,4.43,4.43A.25.25,0,0,0,4,4.6V8.4a.25.25,0,0,0,.43.17L6.32,6.68A.25.25,0,0,0,6.32,6.32Z"></path></svg><strong class="copy-button-label"></strong><span class="tooltip hidden"> Copy to Clipboard</span>
</div></button>
<div class="content">
<pre>	--restart			Set the JPEG restart interval &lt;number&gt;</pre>
</div>
</div>
<div class="paragraph">
<p>Sets the JPEG restart interval to the given value. Default is zero.</p>
</div>
<div class="paragraph">
<p>Example: <code>libcamera-still -o test.jpg --restart 20</code></p>
</div>
<div class="listingblock">
<button class="copy-button hidden" aria-label="copy code to clipboard" type="button" aria-hidden="true"><div class="copy-button-inner">
<svg xmlns="http://www.w3.org/2000/svg" id="Layer_1" data-name="Layer 1" viewBox="0 0 12 12"><rect x="1" y="6" width="5" height="1"></rect><path d="M10,1H8A1,1,0,0,0,7,0H6A1,1,0,0,0,5,1H3A1,1,0,0,0,2,2V5H3V2H4V3H9V2h1v9H3V8H2v3a1,1,0,0,0,1,1h7a1,1,0,0,0,1-1V2A1,1,0,0,0,10,1ZM6.5,2.25a.75.75,0,1,1,.75-.75A.76.76,0,0,1,6.5,2.25Z"></path><path d="M6.32,6.32,4.43,4.43A.25.25,0,0,0,4,4.6V8.4a.25.25,0,0,0,.43.17L6.32,6.68A.25.25,0,0,0,6.32,6.32Z"></path></svg><strong class="copy-button-label"></strong><span class="tooltip hidden"> Copy to Clipboard</span>
</div></button>
<div class="content">
<pre>	--keypress,	-k		Capture image when Enter pressed</pre>
</div>
</div>
<div class="paragraph">
<p>This switches <code>libcamera-still</code> into keypress mode. It will capture a still image either when the timeout expires or the Enter key is pressed in the terminal window. Typing <code>x</code> and Enter causes <code>libcamera-still</code> to quit without capturing.</p>
</div>
<div class="paragraph">
<p>Example: <code>libcamera-still -t 0 -o test.jpg -k</code></p>
</div>
<div class="listingblock">
<button class="copy-button hidden" aria-label="copy code to clipboard" type="button" aria-hidden="true"><div class="copy-button-inner">
<svg xmlns="http://www.w3.org/2000/svg" id="Layer_1" data-name="Layer 1" viewBox="0 0 12 12"><rect x="1" y="6" width="5" height="1"></rect><path d="M10,1H8A1,1,0,0,0,7,0H6A1,1,0,0,0,5,1H3A1,1,0,0,0,2,2V5H3V2H4V3H9V2h1v9H3V8H2v3a1,1,0,0,0,1,1h7a1,1,0,0,0,1-1V2A1,1,0,0,0,10,1ZM6.5,2.25a.75.75,0,1,1,.75-.75A.76.76,0,0,1,6.5,2.25Z"></path><path d="M6.32,6.32,4.43,4.43A.25.25,0,0,0,4,4.6V8.4a.25.25,0,0,0,.43.17L6.32,6.68A.25.25,0,0,0,6.32,6.32Z"></path></svg><strong class="copy-button-label"></strong><span class="tooltip hidden"> Copy to Clipboard</span>
</div></button>
<div class="content">
<pre>	--signal,	-s		Capture image when SIGUSR1 received</pre>
</div>
</div>
<div class="paragraph">
<p>This switches <code>libcamera-still</code> into signal mode. It will capture a still image either when the timeout expires or a SIGUSR1 is received. SIGUSR2 will cause <code>libcamera-still</code> to quit without capturing.</p>
</div>
<div class="paragraph">
<p>Example:</p>
</div>
<div class="paragraph">
<p><code>libcamera-still -t 0 -o test.jpg -s &amp;</code></p>
</div>
<div class="paragraph">
<p>then</p>
</div>
<div class="paragraph">
<p><code>kill -SIGUSR1 $!</code></p>
</div>
<div class="listingblock">
<button class="copy-button hidden" aria-label="copy code to clipboard" type="button" aria-hidden="true"><div class="copy-button-inner">
<svg xmlns="http://www.w3.org/2000/svg" id="Layer_1" data-name="Layer 1" viewBox="0 0 12 12"><rect x="1" y="6" width="5" height="1"></rect><path d="M10,1H8A1,1,0,0,0,7,0H6A1,1,0,0,0,5,1H3A1,1,0,0,0,2,2V5H3V2H4V3H9V2h1v9H3V8H2v3a1,1,0,0,0,1,1h7a1,1,0,0,0,1-1V2A1,1,0,0,0,10,1ZM6.5,2.25a.75.75,0,1,1,.75-.75A.76.76,0,0,1,6.5,2.25Z"></path><path d="M6.32,6.32,4.43,4.43A.25.25,0,0,0,4,4.6V8.4a.25.25,0,0,0,.43.17L6.32,6.68A.25.25,0,0,0,6.32,6.32Z"></path></svg><strong class="copy-button-label"></strong><span class="tooltip hidden"> Copy to Clipboard</span>
</div></button>
<div class="content">
<pre>	--thumb				Set thumbnail parameters &lt;w:h:q&gt; or none</pre>
</div>
</div>
<div class="paragraph">
<p>Sets the dimensions and quality parameter of the associated thumbnail image. The defaults are size 320x240 and quality 70.</p>
</div>
<div class="paragraph">
<p>Example: <code>libcamera-still -o test.jpg --thumb 640:480:80</code></p>
</div>
<div class="paragraph">
<p>The value <code>none</code> may be given, in which case no thumbnail is saved in the image at all.</p>
</div>
<div class="listingblock">
<button class="copy-button hidden" aria-label="copy code to clipboard" type="button" aria-hidden="true"><div class="copy-button-inner">
<svg xmlns="http://www.w3.org/2000/svg" id="Layer_1" data-name="Layer 1" viewBox="0 0 12 12"><rect x="1" y="6" width="5" height="1"></rect><path d="M10,1H8A1,1,0,0,0,7,0H6A1,1,0,0,0,5,1H3A1,1,0,0,0,2,2V5H3V2H4V3H9V2h1v9H3V8H2v3a1,1,0,0,0,1,1h7a1,1,0,0,0,1-1V2A1,1,0,0,0,10,1ZM6.5,2.25a.75.75,0,1,1,.75-.75A.76.76,0,0,1,6.5,2.25Z"></path><path d="M6.32,6.32,4.43,4.43A.25.25,0,0,0,4,4.6V8.4a.25.25,0,0,0,.43.17L6.32,6.68A.25.25,0,0,0,6.32,6.32Z"></path></svg><strong class="copy-button-label"></strong><span class="tooltip hidden"> Copy to Clipboard</span>
</div></button>
<div class="content">
<pre>	--encoding,	-e		Set the still image codec &lt;string&gt;</pre>
</div>
</div>
<div class="paragraph">
<p>Select the still image encoding to be used. Valid encoders are:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>jpg</code> - JPEG (the default)</p>
</li>
<li>
<p><code>png</code> - PNG format</p>
</li>
<li>
<p><code>bmp</code> - BMP format</p>
</li>
<li>
<p><code>rgb</code> - binary dump of uncompressed RGB pixels</p>
</li>
<li>
<p><code>yuv420</code> - binary dump of uncompressed YUV420 pixels.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Note that this option determines the encoding and that the extension of the output file name is ignored for this purpose. However, for the <code>--datetime</code> and <code>--timestamp</code> options, the file extension is taken from the encoder name listed above. (<code>libcamera-still</code> only.)</p>
</div>
<div class="paragraph">
<p>Example: <code>libcamera-still -e png -o test.png</code></p>
</div>
<div class="listingblock">
<button class="copy-button hidden" aria-label="copy code to clipboard" type="button" aria-hidden="true"><div class="copy-button-inner">
<svg xmlns="http://www.w3.org/2000/svg" id="Layer_1" data-name="Layer 1" viewBox="0 0 12 12"><rect x="1" y="6" width="5" height="1"></rect><path d="M10,1H8A1,1,0,0,0,7,0H6A1,1,0,0,0,5,1H3A1,1,0,0,0,2,2V5H3V2H4V3H9V2h1v9H3V8H2v3a1,1,0,0,0,1,1h7a1,1,0,0,0,1-1V2A1,1,0,0,0,10,1ZM6.5,2.25a.75.75,0,1,1,.75-.75A.76.76,0,0,1,6.5,2.25Z"></path><path d="M6.32,6.32,4.43,4.43A.25.25,0,0,0,4,4.6V8.4a.25.25,0,0,0,.43.17L6.32,6.68A.25.25,0,0,0,6.32,6.32Z"></path></svg><strong class="copy-button-label"></strong><span class="tooltip hidden"> Copy to Clipboard</span>
</div></button>
<div class="content">
<pre>	--raw,		-r		Save raw file</pre>
</div>
</div>
<div class="paragraph">
<p>Save a raw Bayer file in DNG format alongside the usual output image. The file name is given by replacing the output file name extension by <code>.dng</code>. These are standard DNG files, and can be processed with standard tools like <em>dcraw</em> or <em>RawTherapee</em>, among others. (<code>libcamera-still</code> only.)</p>
</div>
<div class="paragraph">
<p>The image data in the raw file is exactly what came out of the sensor, with no processing whatsoever either by the ISP or anything else. The EXIF data saved in the file, among other things, includes:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>exposure time</p>
</li>
<li>
<p>analogue gain (the ISO tag is 100 times the analogue gain used)</p>
</li>
<li>
<p>white balance gains (which are the reciprocals of the "as shot neutral" values)</p>
</li>
<li>
<p>the colour matrix used by the ISP.</p>
</li>
</ul>
</div>
<div class="listingblock">
<button class="copy-button hidden" aria-label="copy code to clipboard" type="button" aria-hidden="true"><div class="copy-button-inner">
<svg xmlns="http://www.w3.org/2000/svg" id="Layer_1" data-name="Layer 1" viewBox="0 0 12 12"><rect x="1" y="6" width="5" height="1"></rect><path d="M10,1H8A1,1,0,0,0,7,0H6A1,1,0,0,0,5,1H3A1,1,0,0,0,2,2V5H3V2H4V3H9V2h1v9H3V8H2v3a1,1,0,0,0,1,1h7a1,1,0,0,0,1-1V2A1,1,0,0,0,10,1ZM6.5,2.25a.75.75,0,1,1,.75-.75A.76.76,0,0,1,6.5,2.25Z"></path><path d="M6.32,6.32,4.43,4.43A.25.25,0,0,0,4,4.6V8.4a.25.25,0,0,0,.43.17L6.32,6.68A.25.25,0,0,0,6.32,6.32Z"></path></svg><strong class="copy-button-label"></strong><span class="tooltip hidden"> Copy to Clipboard</span>
</div></button>
<div class="content">
<pre>	--latest			Make symbolic link to latest file saved &lt;string&gt;</pre>
</div>
</div>
<div class="paragraph">
<p>This causes <code>libcamera-still</code> to make a symbolic link to the most recently saved file, thereby making it easier to identify. (<code>libcamera-still</code> only.)</p>
</div>
<div class="paragraph">
<p>Example: <code>libcamera-still -t 100000 --timelapse 10000 -o test%d.jpg --latest latest.jpg</code></p>
</div>
</div>
<div class="sect2">
<div name="video-command-line-options" data-unique="video-command-line-options"></div><h3 id="video-command-line-options">
<a class="anchor" href="https://www.raspberrypi.com/documentation/accessories/camera.html#video-command-line-options"></a>Video Command Line Options</h3>
<div class="listingblock">
<button class="copy-button hidden" aria-label="copy code to clipboard" type="button" aria-hidden="true"><div class="copy-button-inner">
<svg xmlns="http://www.w3.org/2000/svg" id="Layer_1" data-name="Layer 1" viewBox="0 0 12 12"><rect x="1" y="6" width="5" height="1"></rect><path d="M10,1H8A1,1,0,0,0,7,0H6A1,1,0,0,0,5,1H3A1,1,0,0,0,2,2V5H3V2H4V3H9V2h1v9H3V8H2v3a1,1,0,0,0,1,1h7a1,1,0,0,0,1-1V2A1,1,0,0,0,10,1ZM6.5,2.25a.75.75,0,1,1,.75-.75A.76.76,0,0,1,6.5,2.25Z"></path><path d="M6.32,6.32,4.43,4.43A.25.25,0,0,0,4,4.6V8.4a.25.25,0,0,0,.43.17L6.32,6.68A.25.25,0,0,0,6.32,6.32Z"></path></svg><strong class="copy-button-label"></strong><span class="tooltip hidden"> Copy to Clipboard</span>
</div></button>
<div class="content">
<pre>	--quality,	-q		JPEG quality &lt;number&gt;</pre>
</div>
</div>
<div class="paragraph">
<p>Set the JPEG quality. 100 is maximum quality and 50 is the default. Only applies when saving in MJPEG format.</p>
</div>
<div class="paragraph">
<p>Example: <code>libcamera-vid --codec mjpeg -o test.mjpeg -q 80</code></p>
</div>
<div class="listingblock">
<button class="copy-button hidden" aria-label="copy code to clipboard" type="button" aria-hidden="true"><div class="copy-button-inner">
<svg xmlns="http://www.w3.org/2000/svg" id="Layer_1" data-name="Layer 1" viewBox="0 0 12 12"><rect x="1" y="6" width="5" height="1"></rect><path d="M10,1H8A1,1,0,0,0,7,0H6A1,1,0,0,0,5,1H3A1,1,0,0,0,2,2V5H3V2H4V3H9V2h1v9H3V8H2v3a1,1,0,0,0,1,1h7a1,1,0,0,0,1-1V2A1,1,0,0,0,10,1ZM6.5,2.25a.75.75,0,1,1,.75-.75A.76.76,0,0,1,6.5,2.25Z"></path><path d="M6.32,6.32,4.43,4.43A.25.25,0,0,0,4,4.6V8.4a.25.25,0,0,0,.43.17L6.32,6.68A.25.25,0,0,0,6.32,6.32Z"></path></svg><strong class="copy-button-label"></strong><span class="tooltip hidden"> Copy to Clipboard</span>
</div></button>
<div class="content">
<pre>	--bitrate,	-b		H.264 bitrate &lt;number&gt;</pre>
</div>
</div>
<div class="paragraph">
<p>Set the target bitrate for the H.264 encoder, in <em>bits per second</em>. Only applies when encoding in H.264 format.</p>
</div>
<div class="paragraph">
<p>Example: <code>libcamera-vid -b 10000000 --width 1920 --height 1080 -o test.h264</code></p>
</div>
<div class="listingblock">
<button class="copy-button hidden" aria-label="copy code to clipboard" type="button" aria-hidden="true"><div class="copy-button-inner">
<svg xmlns="http://www.w3.org/2000/svg" id="Layer_1" data-name="Layer 1" viewBox="0 0 12 12"><rect x="1" y="6" width="5" height="1"></rect><path d="M10,1H8A1,1,0,0,0,7,0H6A1,1,0,0,0,5,1H3A1,1,0,0,0,2,2V5H3V2H4V3H9V2h1v9H3V8H2v3a1,1,0,0,0,1,1h7a1,1,0,0,0,1-1V2A1,1,0,0,0,10,1ZM6.5,2.25a.75.75,0,1,1,.75-.75A.76.76,0,0,1,6.5,2.25Z"></path><path d="M6.32,6.32,4.43,4.43A.25.25,0,0,0,4,4.6V8.4a.25.25,0,0,0,.43.17L6.32,6.68A.25.25,0,0,0,6.32,6.32Z"></path></svg><strong class="copy-button-label"></strong><span class="tooltip hidden"> Copy to Clipboard</span>
</div></button>
<div class="content">
<pre>	--intra,	-g		Intra-frame period (H.264 only) &lt;number&gt;</pre>
</div>
</div>
<div class="paragraph">
<p>Sets the frequency of I (Intra) frames in the H.264 bitstream, as a number of frames. The default value is 60.</p>
</div>
<div class="paragraph">
<p>Example: <code>libcamera-vid --intra 30 --width 1920 --height 1080 -o test.h264</code></p>
</div>
<div class="listingblock">
<button class="copy-button hidden" aria-label="copy code to clipboard" type="button" aria-hidden="true"><div class="copy-button-inner">
<svg xmlns="http://www.w3.org/2000/svg" id="Layer_1" data-name="Layer 1" viewBox="0 0 12 12"><rect x="1" y="6" width="5" height="1"></rect><path d="M10,1H8A1,1,0,0,0,7,0H6A1,1,0,0,0,5,1H3A1,1,0,0,0,2,2V5H3V2H4V3H9V2h1v9H3V8H2v3a1,1,0,0,0,1,1h7a1,1,0,0,0,1-1V2A1,1,0,0,0,10,1ZM6.5,2.25a.75.75,0,1,1,.75-.75A.76.76,0,0,1,6.5,2.25Z"></path><path d="M6.32,6.32,4.43,4.43A.25.25,0,0,0,4,4.6V8.4a.25.25,0,0,0,.43.17L6.32,6.68A.25.25,0,0,0,6.32,6.32Z"></path></svg><strong class="copy-button-label"></strong><span class="tooltip hidden"> Copy to Clipboard</span>
</div></button>
<div class="content">
<pre>	--profile			H.264 profile &lt;string&gt;</pre>
</div>
</div>
<div class="paragraph">
<p>Set the H.264 profile. The value may be <code>baseline</code>, <code>main</code> or <code>high</code>.</p>
</div>
<div class="paragraph">
<p>Example: <code>libcamera-vid --width 1920 --height 1080 --profile main -o test.h264</code></p>
</div>
<div class="listingblock">
<button class="copy-button hidden" aria-label="copy code to clipboard" type="button" aria-hidden="true"><div class="copy-button-inner">
<svg xmlns="http://www.w3.org/2000/svg" id="Layer_1" data-name="Layer 1" viewBox="0 0 12 12"><rect x="1" y="6" width="5" height="1"></rect><path d="M10,1H8A1,1,0,0,0,7,0H6A1,1,0,0,0,5,1H3A1,1,0,0,0,2,2V5H3V2H4V3H9V2h1v9H3V8H2v3a1,1,0,0,0,1,1h7a1,1,0,0,0,1-1V2A1,1,0,0,0,10,1ZM6.5,2.25a.75.75,0,1,1,.75-.75A.76.76,0,0,1,6.5,2.25Z"></path><path d="M6.32,6.32,4.43,4.43A.25.25,0,0,0,4,4.6V8.4a.25.25,0,0,0,.43.17L6.32,6.68A.25.25,0,0,0,6.32,6.32Z"></path></svg><strong class="copy-button-label"></strong><span class="tooltip hidden"> Copy to Clipboard</span>
</div></button>
<div class="content">
<pre>	--level				H.264 level &lt;string&gt;</pre>
</div>
</div>
<div class="paragraph">
<p>Set the H.264 level. The value may be <code>4</code>, <code>4.1</code> or <code>4.2</code>.</p>
</div>
<div class="paragraph">
<p>Example: <code>libcamera-vid --width 1920 --height 1080 --level 4.1 -o test.h264</code></p>
</div>
<div class="listingblock">
<button class="copy-button hidden" aria-label="copy code to clipboard" type="button" aria-hidden="true"><div class="copy-button-inner">
<svg xmlns="http://www.w3.org/2000/svg" id="Layer_1" data-name="Layer 1" viewBox="0 0 12 12"><rect x="1" y="6" width="5" height="1"></rect><path d="M10,1H8A1,1,0,0,0,7,0H6A1,1,0,0,0,5,1H3A1,1,0,0,0,2,2V5H3V2H4V3H9V2h1v9H3V8H2v3a1,1,0,0,0,1,1h7a1,1,0,0,0,1-1V2A1,1,0,0,0,10,1ZM6.5,2.25a.75.75,0,1,1,.75-.75A.76.76,0,0,1,6.5,2.25Z"></path><path d="M6.32,6.32,4.43,4.43A.25.25,0,0,0,4,4.6V8.4a.25.25,0,0,0,.43.17L6.32,6.68A.25.25,0,0,0,6.32,6.32Z"></path></svg><strong class="copy-button-label"></strong><span class="tooltip hidden"> Copy to Clipboard</span>
</div></button>
<div class="content">
<pre>	--codec				Encoder to be used &lt;string&gt;</pre>
</div>
</div>
<div class="paragraph">
<p>This can select how the video frames are encoded. Valid options are:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>h264 - use H.264 encoder (the default)</p>
</li>
<li>
<p>mjpeg - use MJPEG encoder</p>
</li>
<li>
<p>yuv420 - output uncompressed YUV420 frames.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Examples:</p>
</div>
<div class="paragraph">
<p><code>libcamera-vid -t 10000 --codec mjpeg -o test.mjpeg</code></p>
</div>
<div class="paragraph">
<p><code>libcamera-vid -t 10000 --codec yuv420 -o test.data</code></p>
</div>
<div class="listingblock">
<button class="copy-button hidden" aria-label="copy code to clipboard" type="button" aria-hidden="true"><div class="copy-button-inner">
<svg xmlns="http://www.w3.org/2000/svg" id="Layer_1" data-name="Layer 1" viewBox="0 0 12 12"><rect x="1" y="6" width="5" height="1"></rect><path d="M10,1H8A1,1,0,0,0,7,0H6A1,1,0,0,0,5,1H3A1,1,0,0,0,2,2V5H3V2H4V3H9V2h1v9H3V8H2v3a1,1,0,0,0,1,1h7a1,1,0,0,0,1-1V2A1,1,0,0,0,10,1ZM6.5,2.25a.75.75,0,1,1,.75-.75A.76.76,0,0,1,6.5,2.25Z"></path><path d="M6.32,6.32,4.43,4.43A.25.25,0,0,0,4,4.6V8.4a.25.25,0,0,0,.43.17L6.32,6.68A.25.25,0,0,0,6.32,6.32Z"></path></svg><strong class="copy-button-label"></strong><span class="tooltip hidden"> Copy to Clipboard</span>
</div></button>
<div class="content">
<pre>	--keypress,	-k		Toggle between recording and pausing</pre>
</div>
</div>
<div class="paragraph">
<p>Pressing Enter will toggle <code>libcamera-vid</code> between recording the video stream and not recording it (i.e. discarding it). The application starts off in the recording state, unless the <code>--initial</code> option specifies otherwise. Typing <code>x</code> and Enter causes <code>libcamera-vid</code> to quit.</p>
</div>
<div class="paragraph">
<p>Example: <code>libcamera-vid -t 0 -o test.h264 -k</code></p>
</div>
<div class="listingblock">
<button class="copy-button hidden" aria-label="copy code to clipboard" type="button" aria-hidden="true"><div class="copy-button-inner">
<svg xmlns="http://www.w3.org/2000/svg" id="Layer_1" data-name="Layer 1" viewBox="0 0 12 12"><rect x="1" y="6" width="5" height="1"></rect><path d="M10,1H8A1,1,0,0,0,7,0H6A1,1,0,0,0,5,1H3A1,1,0,0,0,2,2V5H3V2H4V3H9V2h1v9H3V8H2v3a1,1,0,0,0,1,1h7a1,1,0,0,0,1-1V2A1,1,0,0,0,10,1ZM6.5,2.25a.75.75,0,1,1,.75-.75A.76.76,0,0,1,6.5,2.25Z"></path><path d="M6.32,6.32,4.43,4.43A.25.25,0,0,0,4,4.6V8.4a.25.25,0,0,0,.43.17L6.32,6.68A.25.25,0,0,0,6.32,6.32Z"></path></svg><strong class="copy-button-label"></strong><span class="tooltip hidden"> Copy to Clipboard</span>
</div></button>
<div class="content">
<pre>	--signal,	-s		Toggle between recording and pausing when SIGUSR1 received</pre>
</div>
</div>
<div class="paragraph">
<p>The SIGUSR1 signal will toggle <code>libcamera-vid</code> between recording the video stream and not recording it (i.e. discarding it). The application starts off in the recording state, unless the <code>--initial</code> option specifies otherwise. SIGUSR2 causes <code>libcamera-vid</code> to quit.</p>
</div>
<div class="paragraph">
<p>Example:</p>
</div>
<div class="paragraph">
<p><code>libcamera-vid -t 0 -o test.h264 -s</code></p>
</div>
<div class="paragraph">
<p>then</p>
</div>
<div class="paragraph">
<p><code>kill -SIGUSR1 $!</code></p>
</div>
<div class="listingblock">
<button class="copy-button hidden" aria-label="copy code to clipboard" type="button" aria-hidden="true"><div class="copy-button-inner">
<svg xmlns="http://www.w3.org/2000/svg" id="Layer_1" data-name="Layer 1" viewBox="0 0 12 12"><rect x="1" y="6" width="5" height="1"></rect><path d="M10,1H8A1,1,0,0,0,7,0H6A1,1,0,0,0,5,1H3A1,1,0,0,0,2,2V5H3V2H4V3H9V2h1v9H3V8H2v3a1,1,0,0,0,1,1h7a1,1,0,0,0,1-1V2A1,1,0,0,0,10,1ZM6.5,2.25a.75.75,0,1,1,.75-.75A.76.76,0,0,1,6.5,2.25Z"></path><path d="M6.32,6.32,4.43,4.43A.25.25,0,0,0,4,4.6V8.4a.25.25,0,0,0,.43.17L6.32,6.68A.25.25,0,0,0,6.32,6.32Z"></path></svg><strong class="copy-button-label"></strong><span class="tooltip hidden"> Copy to Clipboard</span>
</div></button>
<div class="content">
<pre>	--initial			Start the application in the recording or paused state &lt;string&gt;</pre>
</div>
</div>
<div class="paragraph">
<p>The value passed may be <code>record</code> or <code>pause</code> to start the application in, respectively, the recording or the paused state. This option should be used in conjunction with either <code>--keypress</code> or <code>--signal</code> to toggle between the two states.</p>
</div>
<div class="paragraph">
<p>Example: <code>libcamera-vid -t 0 -o test.h264 -k --initial pause</code></p>
</div>
<div class="listingblock">
<button class="copy-button hidden" aria-label="copy code to clipboard" type="button" aria-hidden="true"><div class="copy-button-inner">
<svg xmlns="http://www.w3.org/2000/svg" id="Layer_1" data-name="Layer 1" viewBox="0 0 12 12"><rect x="1" y="6" width="5" height="1"></rect><path d="M10,1H8A1,1,0,0,0,7,0H6A1,1,0,0,0,5,1H3A1,1,0,0,0,2,2V5H3V2H4V3H9V2h1v9H3V8H2v3a1,1,0,0,0,1,1h7a1,1,0,0,0,1-1V2A1,1,0,0,0,10,1ZM6.5,2.25a.75.75,0,1,1,.75-.75A.76.76,0,0,1,6.5,2.25Z"></path><path d="M6.32,6.32,4.43,4.43A.25.25,0,0,0,4,4.6V8.4a.25.25,0,0,0,.43.17L6.32,6.68A.25.25,0,0,0,6.32,6.32Z"></path></svg><strong class="copy-button-label"></strong><span class="tooltip hidden"> Copy to Clipboard</span>
</div></button>
<div class="content">
<pre>	--split				Split multiple recordings into separate files</pre>
</div>
</div>
<div class="paragraph">
<p>This option should be used in conjunction with <code>--keypress</code> or <code>--signal</code> and causes each recording session (in between the pauses) to be written to a separate file.</p>
</div>
<div class="paragraph">
<p>Example: <code>libcamera-vid -t 0 --keypress --split --initial pause -o test%04d.h264</code></p>
</div>
<div class="listingblock">
<button class="copy-button hidden" aria-label="copy code to clipboard" type="button" aria-hidden="true"><div class="copy-button-inner">
<svg xmlns="http://www.w3.org/2000/svg" id="Layer_1" data-name="Layer 1" viewBox="0 0 12 12"><rect x="1" y="6" width="5" height="1"></rect><path d="M10,1H8A1,1,0,0,0,7,0H6A1,1,0,0,0,5,1H3A1,1,0,0,0,2,2V5H3V2H4V3H9V2h1v9H3V8H2v3a1,1,0,0,0,1,1h7a1,1,0,0,0,1-1V2A1,1,0,0,0,10,1ZM6.5,2.25a.75.75,0,1,1,.75-.75A.76.76,0,0,1,6.5,2.25Z"></path><path d="M6.32,6.32,4.43,4.43A.25.25,0,0,0,4,4.6V8.4a.25.25,0,0,0,.43.17L6.32,6.68A.25.25,0,0,0,6.32,6.32Z"></path></svg><strong class="copy-button-label"></strong><span class="tooltip hidden"> Copy to Clipboard</span>
</div></button>
<div class="content">
<pre>	--segment			Write the video recording into multiple segments &lt;number&gt;</pre>
</div>
</div>
<div class="paragraph">
<p>This option causes the video recording to be split across multiple files where the parameter gives the approximate duration of each file in milliseconds.</p>
</div>
<div class="paragraph">
<p>One convenient little trick is to pass a very small duration parameter (namely, <code>--segment 1</code>) which will result in each frame being written to a separate output file. This makes it easy to do "burst" JPEG capture (using the MJPEG codec), or "burst" raw frame capture (using <code>libcamera-raw</code>).</p>
</div>
<div class="paragraph">
<p>Example: <code>libcamera-vid -t 100000 --segment 10000 -o test%04d.h264</code></p>
</div>
<div class="listingblock">
<button class="copy-button hidden" aria-label="copy code to clipboard" type="button" aria-hidden="true"><div class="copy-button-inner">
<svg xmlns="http://www.w3.org/2000/svg" id="Layer_1" data-name="Layer 1" viewBox="0 0 12 12"><rect x="1" y="6" width="5" height="1"></rect><path d="M10,1H8A1,1,0,0,0,7,0H6A1,1,0,0,0,5,1H3A1,1,0,0,0,2,2V5H3V2H4V3H9V2h1v9H3V8H2v3a1,1,0,0,0,1,1h7a1,1,0,0,0,1-1V2A1,1,0,0,0,10,1ZM6.5,2.25a.75.75,0,1,1,.75-.75A.76.76,0,0,1,6.5,2.25Z"></path><path d="M6.32,6.32,4.43,4.43A.25.25,0,0,0,4,4.6V8.4a.25.25,0,0,0,.43.17L6.32,6.68A.25.25,0,0,0,6.32,6.32Z"></path></svg><strong class="copy-button-label"></strong><span class="tooltip hidden"> Copy to Clipboard</span>
</div></button>
<div class="content">
<pre>	--circular			Write the video recording into a circular buffer of the given &lt;size&gt;</pre>
</div>
</div>
<div class="paragraph">
<p>The video recording is written to a circular buffer which is written to disk when the application quits. The size of the circular buffer may be given in units of megabytes, defaulting to 4MB.</p>
</div>
<div class="paragraph">
<p>Example: <code>libcamera-vid -t 0 --keypress --inline --circular -o test.h264</code></p>
</div>
<div class="listingblock">
<button class="copy-button hidden" aria-label="copy code to clipboard" type="button" aria-hidden="true"><div class="copy-button-inner">
<svg xmlns="http://www.w3.org/2000/svg" id="Layer_1" data-name="Layer 1" viewBox="0 0 12 12"><rect x="1" y="6" width="5" height="1"></rect><path d="M10,1H8A1,1,0,0,0,7,0H6A1,1,0,0,0,5,1H3A1,1,0,0,0,2,2V5H3V2H4V3H9V2h1v9H3V8H2v3a1,1,0,0,0,1,1h7a1,1,0,0,0,1-1V2A1,1,0,0,0,10,1ZM6.5,2.25a.75.75,0,1,1,.75-.75A.76.76,0,0,1,6.5,2.25Z"></path><path d="M6.32,6.32,4.43,4.43A.25.25,0,0,0,4,4.6V8.4a.25.25,0,0,0,.43.17L6.32,6.68A.25.25,0,0,0,6.32,6.32Z"></path></svg><strong class="copy-button-label"></strong><span class="tooltip hidden"> Copy to Clipboard</span>
</div></button>
<div class="content">
<pre>	--inline			Write sequence header in every I frame (H.264 only)</pre>
</div>
</div>
<div class="paragraph">
<p>This option causes the H.264 sequence headers to be written into every I (Intra) frame. This is helpful because it means a client can understand and decode the video sequence from any I frame, not just from the very beginning of the stream. It is recommended to use this option with any output type that breaks the output into pieces (<code>--segment</code>, <code>--split</code>, <code>--circular</code>), or transmits the output over a network.</p>
</div>
<div class="paragraph">
<p>Example: <code>libcamera-vid -t 0 --keypress --inline --split -o test%04d.h264</code></p>
</div>
<div class="listingblock">
<button class="copy-button hidden" aria-label="copy code to clipboard" type="button" aria-hidden="true"><div class="copy-button-inner">
<svg xmlns="http://www.w3.org/2000/svg" id="Layer_1" data-name="Layer 1" viewBox="0 0 12 12"><rect x="1" y="6" width="5" height="1"></rect><path d="M10,1H8A1,1,0,0,0,7,0H6A1,1,0,0,0,5,1H3A1,1,0,0,0,2,2V5H3V2H4V3H9V2h1v9H3V8H2v3a1,1,0,0,0,1,1h7a1,1,0,0,0,1-1V2A1,1,0,0,0,10,1ZM6.5,2.25a.75.75,0,1,1,.75-.75A.76.76,0,0,1,6.5,2.25Z"></path><path d="M6.32,6.32,4.43,4.43A.25.25,0,0,0,4,4.6V8.4a.25.25,0,0,0,.43.17L6.32,6.68A.25.25,0,0,0,6.32,6.32Z"></path></svg><strong class="copy-button-label"></strong><span class="tooltip hidden"> Copy to Clipboard</span>
</div></button>
<div class="content">
<pre>	--listen			Wait for an incoming TCP connection</pre>
</div>
</div>
<div class="paragraph">
<p>This option is provided for streaming over a network using TCP/IP. Using <code>--listen</code> will cause <code>libcamera-vid</code> to wait for an incoming client connection before starting the video encode process, which will then be forwarded to that client.</p>
</div>
<div class="paragraph">
<p>Example: <code>libcamera-vid -t 0 --inline --listen -o tcp://0.0.0.0:8123</code></p>
</div>
<div class="listingblock">
<button class="copy-button hidden" aria-label="copy code to clipboard" type="button" aria-hidden="true"><div class="copy-button-inner">
<svg xmlns="http://www.w3.org/2000/svg" id="Layer_1" data-name="Layer 1" viewBox="0 0 12 12"><rect x="1" y="6" width="5" height="1"></rect><path d="M10,1H8A1,1,0,0,0,7,0H6A1,1,0,0,0,5,1H3A1,1,0,0,0,2,2V5H3V2H4V3H9V2h1v9H3V8H2v3a1,1,0,0,0,1,1h7a1,1,0,0,0,1-1V2A1,1,0,0,0,10,1ZM6.5,2.25a.75.75,0,1,1,.75-.75A.76.76,0,0,1,6.5,2.25Z"></path><path d="M6.32,6.32,4.43,4.43A.25.25,0,0,0,4,4.6V8.4a.25.25,0,0,0,.43.17L6.32,6.68A.25.25,0,0,0,6.32,6.32Z"></path></svg><strong class="copy-button-label"></strong><span class="tooltip hidden"> Copy to Clipboard</span>
</div></button>
<div class="content">
<pre>	--frames			Record exactly this many frames &lt;number&gt;</pre>
</div>
</div>
<div class="paragraph">
<p>Exactly <code>&lt;number&gt;</code> frames are recorded. Specifying a non-zero value will override any timeout.</p>
</div>
<div class="paragraph">
<p>Example: <code>libcamera-vid -o test.h264 --frames 1000</code></p>
</div>
</div>
<div class="sect2">
<div name="differences-compared-to-raspicam-apps" data-unique="differences-compared-to-raspicam-apps"></div><h3 id="differences-compared-to-raspicam-apps">
<a class="anchor" href="https://www.raspberrypi.com/documentation/accessories/camera.html#differences-compared-to-raspicam-apps"></a>Differences compared to <em>Raspicam</em> Apps</h3>
<div class="paragraph">
<p>Whilst the <code>libcamera-apps</code> attempt to emulate most features of the legacy <em>Raspicam</em> applications, there are some differences. Here we list the principal ones that users are likely to notice.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>The use of Boost <code>program_options</code> doesnt allow multi-character short versions of options, so where these were present they have had to be dropped. The long form options are named the same, and any single character short forms are preserved.</p>
</li>
<li>
<p><code>libcamera-still</code> and <code>libcamera-jpeg</code> do not show the capture image in the preview window.</p>
</li>
<li>
<p><code>libcamera</code> performs its own camera mode selection, so the <code>--mode</code> option is not supported. It deduces camera modes from the resolutions requested. There is still work ongoing in this area.</p>
</li>
<li>
<p>The following features of the legacy apps are not supported as the code has to run on the ARM now. But note that a number of these effects are now provided by the <a href="https://www.raspberrypi.com/documentation/accessories/camera.html#post-processing">post-processing</a> mechanism.</p>
<div class="ulist">
<ul>
<li>
<p>opacity (<code>--opacity</code>)</p>
</li>
<li>
<p>image effects (<code>--imxfx</code>)</p>
</li>
<li>
<p>colour effects (<code>--colfx</code>)</p>
</li>
<li>
<p>annotation (<code>--annotate</code>, <code>--annotateex</code>)</p>
</li>
<li>
<p>dynamic range compression, or DRC (<code>--drc</code>)</p>
</li>
</ul>
</div>
</li>
<li>
<p>stereo (<code>--stereo</code>, <code>--decimate</code> and <code>--3dswap</code>). There is no support in <code>libcamera</code> for stereo currently.</p>
</li>
<li>
<p>There is no image stabilisation (<code>--vstab</code>) (though the legacy implementation does not appear to do very much).</p>
</li>
<li>
<p>There are no demo modes (<code>--demo</code>).</p>
</li>
<li>
<p>The transformations supported are those that do not involve a transposition. 180 degree rotations, therefore, are among those permitted but 90 and 270 degree rotations are not.</p>
</li>
<li>
<p>There are some differences in the metering, exposure and AWB options. In particular the legacy apps conflate metering (by which we mean the "metering mode") and the exposure (by which we now mean the "exposure profile"). With regards to AWB, to turn it off you have to set a pair of colour gains (e.g. <code>--awbgains 1.0,1.0</code>).</p>
</li>
<li>
<p><code>libcamera</code> has no mechanism to set the AWB into "grey world" mode, which is useful for "NOIR" camera modules. However, tuning files are supplied which switch the AWB into the correct mode, so for example, you could use <code>libcamera-hello --tuning-file /usr/share/libcamera/ipa/raspberrypi/imx219_noir.json</code>.</p>
</li>
<li>
<p>There is support for setting the exposure time (<code>--shutter</code>) and analogue gain (<code>--analoggain</code> or just <code>--gain</code>). There is no explicit control of the digital gain; you get this if the gain requested is larger than the analogue gain can deliver by itself.</p>
</li>
<li>
<p>libcamera has no understanding of ISO, so there is no <code>--ISO</code> option. Users should calculate the gain corresponding to the ISO value required (usually a manufacturer will tell you that, for example, a gain of 1 corresponds to an ISO of 40), and use the <code>--gain</code> parameter instead.</p>
</li>
<li>
<p>There is no support for setting the flicker period yet.</p>
</li>
<li>
<p><code>libcamera-still</code> does not support burst capture. In fact, because the JPEG encoding is not multi-threaded and pipelined it would produce quite poor framerates. Instead, users are advised to consider using <code>libcamera-vid</code> in MJPEG mode instead (and <code>--segment 1</code> can be used to force each frame into a separate JPEG file).</p>
</li>
<li>
<p><code>libcamera</code> uses open source drivers for all the image sensors, so the mechanism for enabling or disabling on-sensor DPC (Defective Pixel Correction) is different. The imx477 (HQ cam) driver enables on-sensor DPC by default; to disable it the user should, as root, enter</p>
</li>
</ul>
</div>
<div class="listingblock">
<button class="copy-button hidden" aria-label="copy code to clipboard" type="button" aria-hidden="true"><div class="copy-button-inner">
<svg xmlns="http://www.w3.org/2000/svg" id="Layer_1" data-name="Layer 1" viewBox="0 0 12 12"><rect x="1" y="6" width="5" height="1"></rect><path d="M10,1H8A1,1,0,0,0,7,0H6A1,1,0,0,0,5,1H3A1,1,0,0,0,2,2V5H3V2H4V3H9V2h1v9H3V8H2v3a1,1,0,0,0,1,1h7a1,1,0,0,0,1-1V2A1,1,0,0,0,10,1ZM6.5,2.25a.75.75,0,1,1,.75-.75A.76.76,0,0,1,6.5,2.25Z"></path><path d="M6.32,6.32,4.43,4.43A.25.25,0,0,0,4,4.6V8.4a.25.25,0,0,0,.43.17L6.32,6.68A.25.25,0,0,0,6.32,6.32Z"></path></svg><strong class="copy-button-label"></strong><span class="tooltip hidden"> Copy to Clipboard</span>
</div></button>
<div class="content">
<pre>echo 0 &gt; /sys/module/imx477/parameters/dpc_enable</pre>
</div>
</div>
</div>
<div class="sect2">
<div name="post-processing" data-unique="post-processing"></div><h3 id="post-processing">
<a class="anchor" href="https://www.raspberrypi.com/documentation/accessories/camera.html#post-processing"></a>Post-Processing</h3>
<div class="paragraph">
<p><code>libcamera-apps</code> share a common post-processing framework. This allows them to pass the images received from the camera system through a number of custom image processing and image analysis routines. Each such routine is known as a <em>post-processing stage</em> and the description of exactly which stages should be run, and what configuration they may have, is supplied in a JSON file. Every stage, along with its source code, is supplied with a short example JSON file showing how to enable it.</p>
</div>
<div class="paragraph">
<p>For example, the simple <em>negate</em> stage (which "negates" all the pixels in an image, turning light pixels dark and vice versa) is supplied with a <code>negate.json</code> file that configures the post-processing pipeline to run it:</p>
</div>
<div class="paragraph">
<p><code>libcamera-hello --post-process-file /path/to/negate.json</code></p>
</div>
<div class="admonitionblock tip">
<table>
<tbody><tr>
<td class="icon">
<div class="title">Tip</div>
</td>
<td class="content">
Example JSON files can be found in the <code>assets</code> folder of the <code>libcamera-apps</code> repository at <a href="https://github.com/raspberrypi/libcamera-apps/tree/main/assets" class="bare">https://github.com/raspberrypi/libcamera-apps/tree/main/assets</a>.
</td>
</tr>
</tbody></table>
</div>
<div class="paragraph">
<p>The negate stage is particularly trivial and has no configuration parameters of its own, therefore the JSON file merely has to name the stage, with no further information, and it will be run. Thus <code>negate.json</code> contains</p>
</div>
<div class="listingblock">
<button class="copy-button hidden" aria-label="copy code to clipboard" type="button" aria-hidden="true"><div class="copy-button-inner">
<svg xmlns="http://www.w3.org/2000/svg" id="Layer_1" data-name="Layer 1" viewBox="0 0 12 12"><rect x="1" y="6" width="5" height="1"></rect><path d="M10,1H8A1,1,0,0,0,7,0H6A1,1,0,0,0,5,1H3A1,1,0,0,0,2,2V5H3V2H4V3H9V2h1v9H3V8H2v3a1,1,0,0,0,1,1h7a1,1,0,0,0,1-1V2A1,1,0,0,0,10,1ZM6.5,2.25a.75.75,0,1,1,.75-.75A.76.76,0,0,1,6.5,2.25Z"></path><path d="M6.32,6.32,4.43,4.43A.25.25,0,0,0,4,4.6V8.4a.25.25,0,0,0,.43.17L6.32,6.68A.25.25,0,0,0,6.32,6.32Z"></path></svg><strong class="copy-button-label"></strong><span class="tooltip hidden"> Copy to Clipboard</span>
</div></button>
<div class="content">
<pre>{
    "negate":
    {
    }
}</pre>
</div>
</div>
<div class="paragraph">
<p>To run multiple post-processing stages, the contents of the example JSON files merely need to be listed together, and the stages will be run in the order given. For example, to run the Sobel stage (which applies a Sobel filter to an image) followed by the negate stage we could create a custom JSON file containing</p>
</div>
<div class="listingblock">
<button class="copy-button hidden" aria-label="copy code to clipboard" type="button" aria-hidden="true"><div class="copy-button-inner">
<svg xmlns="http://www.w3.org/2000/svg" id="Layer_1" data-name="Layer 1" viewBox="0 0 12 12"><rect x="1" y="6" width="5" height="1"></rect><path d="M10,1H8A1,1,0,0,0,7,0H6A1,1,0,0,0,5,1H3A1,1,0,0,0,2,2V5H3V2H4V3H9V2h1v9H3V8H2v3a1,1,0,0,0,1,1h7a1,1,0,0,0,1-1V2A1,1,0,0,0,10,1ZM6.5,2.25a.75.75,0,1,1,.75-.75A.76.76,0,0,1,6.5,2.25Z"></path><path d="M6.32,6.32,4.43,4.43A.25.25,0,0,0,4,4.6V8.4a.25.25,0,0,0,.43.17L6.32,6.68A.25.25,0,0,0,6.32,6.32Z"></path></svg><strong class="copy-button-label"></strong><span class="tooltip hidden"> Copy to Clipboard</span>
</div></button>
<div class="content">
<pre>{
    "sobel_cv":
    {
        "ksize": 5
    },
    "negate":
    {
    }
}</pre>
</div>
</div>
<div class="paragraph">
<p>The Sobel stage is implemented using OpenCV, hence <code>cv</code> in its name. Observe how it has a user-configurable parameter, <code>ksize</code> that specifies the kernel size of the filter to be used. In this case, the Sobel filter will produce bright edges on a black background, and the negate stage will turn this into dark edges on a white background, as shown.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="./Raspberry Pi Documentation - Camera_files/sobel_negate.jpg" alt="Image with Sobel and negate">
</div>
</div>
<div class="paragraph">
<p>Some stages actually alter the image in some way, and this is their primary function (such as <em>negate</em>). Others are primarily for image analysis, and while they may indicate something on the image, all they really do is generate useful information. For this reason we also have a very flexible form of <em>metadata</em> that can be populated by the post-processing stages, and this will get passed all the way through to the application itself.</p>
</div>
<div class="paragraph">
<p>Image analysis stages often prefer to work on reduced resolution images. <code>libcamera-apps</code> are able to supply applications with a ready-made low resolution image provided directly by the ISP hardware, and this can be helpful in improving performance.</p>
</div>
<div class="paragraph">
<p>Furthermore, with the post-processing framework being completely open, Raspberry Pi welcomes the contribution of new and interesting stages from the community and would be happy to host them in our <code>libcamera-apps</code> repository. The stages that are currently available are documented below.</p>
</div>
<div class="admonitionblock note">
<table>
<tbody><tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
The <code>libcamera-apps</code> supplied with the operating system will be built without any optional 3rd party libraries (such as OpenCV or TensorFlow Lite), meaning that certain post-processing stages that rely on them will not be enabled. To use these stages, please follow the instructions for <a href="https://www.raspberrypi.com/documentation/accessories/camera.html#building-libcamera-and-libcamera-apps">building <code>libcamera-apps</code> for yourself</a>.
</td>
</tr>
</tbody></table>
</div>
<div class="sect3">
<h4 id="negate-stage">
<a class="anchor" href="https://www.raspberrypi.com/documentation/accessories/camera.html#negate-stage"></a><code>negate</code> stage</h4>
<div class="paragraph">
<p>The <code>negate</code> stage requires no 3rd party libraries.</p>
</div>
<div class="paragraph">
<p>On a Raspberry Pi 3 device or a Raspberry Pi 4 running a 32-bit OS, it may execute more quickly if recompiled using <code>-DENABLE_COMPILE_FLAGS_FOR_TARGET=armv8-neon</code>. (Please see the <a href="https://www.raspberrypi.com/documentation/accessories/camera.html#building-libcamera-and-libcamera-apps">build instructions</a>.)</p>
</div>
<div class="paragraph">
<p>The <code>negate</code> stage has no user-configurable parameters.</p>
</div>
<div class="paragraph">
<p>Default <code>negate.json</code> file:</p>
</div>
<div class="listingblock">
<button class="copy-button hidden" aria-label="copy code to clipboard" type="button" aria-hidden="true"><div class="copy-button-inner">
<svg xmlns="http://www.w3.org/2000/svg" id="Layer_1" data-name="Layer 1" viewBox="0 0 12 12"><rect x="1" y="6" width="5" height="1"></rect><path d="M10,1H8A1,1,0,0,0,7,0H6A1,1,0,0,0,5,1H3A1,1,0,0,0,2,2V5H3V2H4V3H9V2h1v9H3V8H2v3a1,1,0,0,0,1,1h7a1,1,0,0,0,1-1V2A1,1,0,0,0,10,1ZM6.5,2.25a.75.75,0,1,1,.75-.75A.76.76,0,0,1,6.5,2.25Z"></path><path d="M6.32,6.32,4.43,4.43A.25.25,0,0,0,4,4.6V8.4a.25.25,0,0,0,.43.17L6.32,6.68A.25.25,0,0,0,6.32,6.32Z"></path></svg><strong class="copy-button-label"></strong><span class="tooltip hidden"> Copy to Clipboard</span>
</div></button>
<div class="content">
<pre>{
    "negate":
    {
    }
}</pre>
</div>
</div>
<div class="paragraph">
<p>Example:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="./Raspberry Pi Documentation - Camera_files/negate.jpg" alt="Image with negate">
</div>
</div>
</div>
<div class="sect3">
<h4 id="hdr-stage">
<a class="anchor" href="https://www.raspberrypi.com/documentation/accessories/camera.html#hdr-stage"></a><code>hdr</code> stage</h4>
<div class="paragraph">
<p>The <code>hdr</code> stage implements both HDR (high dynamic range) imaging and DRC (dynamic range compression). The terminology that we use here regards DRC as operating on single images, and HDR works by accumulating multiple under-exposed images and then performing the same algorithm as DRC.</p>
</div>
<div class="paragraph">
<p>The <code>hdr</code> stage has no dependencies on 3rd party libraries, but (like some other stages) may execute more quickly on Raspberry Pi 3 or Raspberry Pi 4 devices running a 32-bit OS if recompiled using <code>-DENABLE_COMPILE_FLAGS_FOR_TARGET=armv8-neon</code> (please see the <a href="https://www.raspberrypi.com/documentation/accessories/camera.html#building-libcamera-and-libcamera-apps">build instructions</a>). Specifically, the image accumulation stage will run quicker and result in fewer frame drops, though the tonemapping part of the process is unchanged.</p>
</div>
<div class="paragraph">
<p>The basic procedure is that we take the image (which in the case of HDR may be multiple images accumulated together) and apply an edge-preserving smoothing filter to generate a low pass (LP) image. We define the high pass (HP) image to be the difference between the LP image and the original. Next we apply a global tonemap to the LP image and add back the HP image. This procedure, in contrast to applying the tonemap directly to the original image, prevents us from squashing and losing all the local contrast in the resulting image.</p>
</div>
<div class="paragraph">
<p>It is worth noting that this all happens using fully-processed images, once the ISP has finished with them. HDR normally works better when carried out in the raw (Bayer) domain, as signals are still linear and have greater bit-depth. We expect to implement such functionality once <code>libcamera</code> exports an API for "re-processing" Bayer images that do not come from the sensor, but which application code can pass in.</p>
</div>
<div class="paragraph">
<p>In summary, the user-configurable parameters fall broadly into three groups: those that define the LP filter, those responsible for the global tonemapping, and those responsible for re-applying the local contrast.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">num_frames</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">The number of frames to accumulate. For DRC (in our terminology) this would take the value 1, but for multi-frame HDR we would suggest a value such as 8.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">lp_filter_strength</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">The coefficient of the low pass IIR filter.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">lp_fiter_threshold</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">A piecewise linear function that relates the pixel level to the threshold that is regarded as being "meaningful detail".</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">global_tonemap_points</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">A list of points in the input image histogram and targets in the output range where we wish to move them. We define an inter-quantile mean (<code>q</code> and <code>width</code>), a target as a proportion of the full output range (<code>target</code>) and maximum and minimum gains by which we are prepared to move the measured inter-quantile mean (as this prevents us from changing an image too drastically).</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">global_tonemap_strength</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Strength of application of the global tonemap.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">local_pos_strength</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">A piecewise linear function that defines the gain applied to local contrast when added back to the tonemapped LP image, for positive (bright) detail.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">local_neg_strength</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">A piecewise linear function that defines the gain applied to local contrast when added back to the tonemapped LP image, for negative (dark) detail.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">local_tonemap_strength</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">An overall gain applied to all local contrast that is added back.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">local_colour_scale</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">A factor that allows the output colours to be affected more or less strongly.</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>We note that the overall strength of the processing is best controlled by changing the <code>global_tonemap_strength</code> and <code>local_tonemap_strength</code> parameters.</p>
</div>
<div class="paragraph">
<p>The full processing takes between 2 and 3 seconds for a 12MP image on a Raspberry Pi 4. The stage runs only on the still image capture, it ignores preview and video images. In particular, when accumulating multiple frames, the stage "swallows" the output images so that the application does not receive them, and finally sends through only the combined and processed image.</p>
</div>
<div class="paragraph">
<p>Default <code>drc.json</code> file for DRC:</p>
</div>
<div class="listingblock">
<button class="copy-button hidden" aria-label="copy code to clipboard" type="button" aria-hidden="true"><div class="copy-button-inner">
<svg xmlns="http://www.w3.org/2000/svg" id="Layer_1" data-name="Layer 1" viewBox="0 0 12 12"><rect x="1" y="6" width="5" height="1"></rect><path d="M10,1H8A1,1,0,0,0,7,0H6A1,1,0,0,0,5,1H3A1,1,0,0,0,2,2V5H3V2H4V3H9V2h1v9H3V8H2v3a1,1,0,0,0,1,1h7a1,1,0,0,0,1-1V2A1,1,0,0,0,10,1ZM6.5,2.25a.75.75,0,1,1,.75-.75A.76.76,0,0,1,6.5,2.25Z"></path><path d="M6.32,6.32,4.43,4.43A.25.25,0,0,0,4,4.6V8.4a.25.25,0,0,0,.43.17L6.32,6.68A.25.25,0,0,0,6.32,6.32Z"></path></svg><strong class="copy-button-label"></strong><span class="tooltip hidden"> Copy to Clipboard</span>
</div></button>
<div class="content">
<pre>{
    "hdr" :
    {
	"num_frames" : 1,
	"lp_filter_strength" : 0.2,
	"lp_filter_threshold" : [ 0, 10.0 , 2048, 205.0, 4095, 205.0 ],
	"global_tonemap_points" :
	[
	    { "q": 0.1, "width": 0.05, "target": 0.15, "max_up": 1.5, "max_down": 0.7 },
	    { "q": 0.5, "width": 0.05, "target": 0.5, "max_up": 1.5, "max_down": 0.7 },
	    { "q": 0.8, "width": 0.05, "target": 0.8, "max_up": 1.5, "max_down": 0.7 }
	],
	"global_tonemap_strength" : 1.0,
	"local_pos_strength" : [ 0, 6.0, 1024, 2.0, 4095, 2.0 ],
	"local_neg_strength" : [ 0, 4.0, 1024, 1.5, 4095, 1.5 ],
	"local_tonemap_strength" : 1.0,
	"local_colour_scale" : 0.9
    }
}</pre>
</div>
</div>
<div class="paragraph">
<p>Example:</p>
</div>
<div class="paragraph">
<p>Without DRC:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="./Raspberry Pi Documentation - Camera_files/nodrc.jpg" alt="Image without DRC processing">
</div>
</div>
<div class="paragraph">
<p>With full-strength DRC: (use <code>libcamera-still -o test.jpg --post-process-file drc.json</code>)</p>
</div>
<div class="imageblock">
<div class="content">
<img src="./Raspberry Pi Documentation - Camera_files/drc.jpg" alt="Image with DRC processing">
</div>
</div>
<div class="paragraph">
<p>Default <code>hdr.json</code> file for HDR:</p>
</div>
<div class="listingblock">
<button class="copy-button hidden" aria-label="copy code to clipboard" type="button" aria-hidden="true"><div class="copy-button-inner">
<svg xmlns="http://www.w3.org/2000/svg" id="Layer_1" data-name="Layer 1" viewBox="0 0 12 12"><rect x="1" y="6" width="5" height="1"></rect><path d="M10,1H8A1,1,0,0,0,7,0H6A1,1,0,0,0,5,1H3A1,1,0,0,0,2,2V5H3V2H4V3H9V2h1v9H3V8H2v3a1,1,0,0,0,1,1h7a1,1,0,0,0,1-1V2A1,1,0,0,0,10,1ZM6.5,2.25a.75.75,0,1,1,.75-.75A.76.76,0,0,1,6.5,2.25Z"></path><path d="M6.32,6.32,4.43,4.43A.25.25,0,0,0,4,4.6V8.4a.25.25,0,0,0,.43.17L6.32,6.68A.25.25,0,0,0,6.32,6.32Z"></path></svg><strong class="copy-button-label"></strong><span class="tooltip hidden"> Copy to Clipboard</span>
</div></button>
<div class="content">
<pre>{
    "hdr" :
    {
	"num_frames" : 8,
	"lp_filter_strength" : 0.2,
	"lp_filter_threshold" : [ 0, 10.0 , 2048, 205.0, 4095, 205.0 ],
	"global_tonemap_points" :
	[
	    { "q": 0.1, "width": 0.05, "target": 0.15, "max_up": 5.0, "max_down": 0.5 },
	    { "q": 0.5, "width": 0.05, "target": 0.45, "max_up": 5.0, "max_down": 0.5 },
	    { "q": 0.8, "width": 0.05, "target": 0.7, "max_up": 5.0, "max_down": 0.5 }
	],
	"global_tonemap_strength" : 1.0,
	"local_pos_strength" : [ 0, 6.0, 1024, 2.0, 4095, 2.0 ],
	"local_neg_strength" : [ 0, 4.0, 1024, 1.5, 4095, 1.5 ],
	"local_tonemap_strength" : 1.0,
	"local_colour_scale" : 0.8
    }
}</pre>
</div>
</div>
<div class="paragraph">
<p>Example:</p>
</div>
<div class="paragraph">
<p>Without HDR:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="./Raspberry Pi Documentation - Camera_files/nohdr.jpg" alt="Image without HDR processing">
</div>
</div>
<div class="paragraph">
<p>With HDR: (use <code>libcamera-still -o test.jpg --ev -2 --denoise cdn_off --post-process-file hdr.json</code>)</p>
</div>
<div class="imageblock">
<div class="content">
<img src="./Raspberry Pi Documentation - Camera_files/hdr.jpg" alt="Image with DRC processing">
</div>
</div>
</div>
<div class="sect3">
<h4 id="motion_detect-stage">
<a class="anchor" href="https://www.raspberrypi.com/documentation/accessories/camera.html#motion_detect-stage"></a><code>motion_detect</code> stage</h4>
<div class="paragraph">
<p>The <code>motion_detect</code> stage works by analysing frames from the low resolution image stream, which must be configured for it to work. It compares a region of interest ("roi") in the frame to the corresponding part of a previous one and if enough pixels are sufficiently different, that will be taken to indicate motion. The result is added to the metadata under "motion_detect.result".</p>
</div>
<div class="paragraph">
<p>This stage has no dependencies on any 3rd party libraries.</p>
</div>
<div class="paragraph">
<p>It has the following tunable parameters. The dimensions are always given as a proportion of the low resolution image size.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">roi_x</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">x-offset of the region of interest for the comparison</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">roi_y</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">y-offset of the region of interest for the comparison</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">roi_width</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">width of the region of interest for the comparison</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">roi_height</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">height of the region of interest for the comparison</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">difference_m</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Linear coefficient used to construct the threshold for pixels being different</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">difference_c</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Constant coefficient used to construct the threshold for pixels being different according to threshold = difference_m * pixel_value + difference_c</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">frame_period</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">The motion detector will run only this many frames</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">hskip</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">The pixel tests are subsampled by this amount horizontally</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">vksip</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">The pixel tests are subsampled by this amount vertically</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">region_threshold</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">The proportion of pixels (or "regions") which must be categorised as different for them to count as motion</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">verbose</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Print messages to the console, including when the "motion"/"no motion" status changes</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Default <code>motion_detect.json</code> configuration file:</p>
</div>
<div class="listingblock">
<button class="copy-button hidden" aria-label="copy code to clipboard" type="button" aria-hidden="true"><div class="copy-button-inner">
<svg xmlns="http://www.w3.org/2000/svg" id="Layer_1" data-name="Layer 1" viewBox="0 0 12 12"><rect x="1" y="6" width="5" height="1"></rect><path d="M10,1H8A1,1,0,0,0,7,0H6A1,1,0,0,0,5,1H3A1,1,0,0,0,2,2V5H3V2H4V3H9V2h1v9H3V8H2v3a1,1,0,0,0,1,1h7a1,1,0,0,0,1-1V2A1,1,0,0,0,10,1ZM6.5,2.25a.75.75,0,1,1,.75-.75A.76.76,0,0,1,6.5,2.25Z"></path><path d="M6.32,6.32,4.43,4.43A.25.25,0,0,0,4,4.6V8.4a.25.25,0,0,0,.43.17L6.32,6.68A.25.25,0,0,0,6.32,6.32Z"></path></svg><strong class="copy-button-label"></strong><span class="tooltip hidden"> Copy to Clipboard</span>
</div></button>
<div class="content">
<pre>{
    "motion_detect" :
    {
	"roi_x" : 0.1,
	"roi_y" : 0.1,
	"roi_width" : 0.8,
	"roi_height" : 0.8,
	"difference_m" : 0.1,
	"difference_c" : 10,
	"region_threshold" : 0.005,
	"frame_period" : 5,
	"hskip" : 2,
	"vskip" : 2,
	"verbose" : 0
    }
}</pre>
</div>
</div>
<div class="paragraph">
<p>Note that the field <code>difference_m</code> and <code>difference_c</code>, and the value of <code>region_threshold</code>, can be adjusted to make the algorithm more or less sensitive to motion.</p>
</div>
<div class="paragraph">
<p>If the amount of computation needs to be reduced (perhaps you have other stages that need a larger low resolution image), the amount of computation can be reduced using the <code>hskip</code> and <code>vskip</code> parameters.</p>
</div>
<div class="paragraph">
<p>To use the <code>motion_detect</code> stage you might enter the following example command:</p>
</div>
<div class="paragraph">
<p><code>libcamera-hello --lores-width 128 --lores-height 96 --post-process-file motion_detect.json</code></p>
</div>
</div>
</div>
<div class="sect2">
<div name="post-processing-with-opencv" data-unique="post-processing-with-opencv"></div><h3 id="post-processing-with-opencv">
<a class="anchor" href="https://www.raspberrypi.com/documentation/accessories/camera.html#post-processing-with-opencv"></a>Post-Processing with OpenCV</h3>
<div class="admonitionblock note">
<table>
<tbody><tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
These stages all require OpenCV to be installed on your system. You may also need to rebuild <code>libcamera-apps</code> with OpenCV support - please see the instructions for <a href="https://www.raspberrypi.com/documentation/accessories/camera.html#building-libcamera-and-libcamera-apps">building <code>libcamera-apps</code> for yourself</a>.
</td>
</tr>
</tbody></table>
</div>
<div class="sect3">
<h4 id="sobel_cv-stage">
<a class="anchor" href="https://www.raspberrypi.com/documentation/accessories/camera.html#sobel_cv-stage"></a><code>sobel_cv</code> stage</h4>
<div class="paragraph">
<p>The <code>sobel_cv</code> stage has the following user-configurable parameters:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">ksize</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Kernel size of the Sobel filter</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Default <code>sobel_cv.json</code> file:</p>
</div>
<div class="listingblock">
<button class="copy-button hidden" aria-label="copy code to clipboard" type="button" aria-hidden="true"><div class="copy-button-inner">
<svg xmlns="http://www.w3.org/2000/svg" id="Layer_1" data-name="Layer 1" viewBox="0 0 12 12"><rect x="1" y="6" width="5" height="1"></rect><path d="M10,1H8A1,1,0,0,0,7,0H6A1,1,0,0,0,5,1H3A1,1,0,0,0,2,2V5H3V2H4V3H9V2h1v9H3V8H2v3a1,1,0,0,0,1,1h7a1,1,0,0,0,1-1V2A1,1,0,0,0,10,1ZM6.5,2.25a.75.75,0,1,1,.75-.75A.76.76,0,0,1,6.5,2.25Z"></path><path d="M6.32,6.32,4.43,4.43A.25.25,0,0,0,4,4.6V8.4a.25.25,0,0,0,.43.17L6.32,6.68A.25.25,0,0,0,6.32,6.32Z"></path></svg><strong class="copy-button-label"></strong><span class="tooltip hidden"> Copy to Clipboard</span>
</div></button>
<div class="content">
<pre>{
    "sobel_cv":
    {
        "ksize": 5
    }
}</pre>
</div>
</div>
<div class="paragraph">
<p>Example:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="./Raspberry Pi Documentation - Camera_files/sobel.jpg" alt="Image with Sobel filter">
</div>
</div>
</div>
<div class="sect3">
<h4 id="face_detect_cv-stage">
<a class="anchor" href="https://www.raspberrypi.com/documentation/accessories/camera.html#face_detect_cv-stage"></a><code>face_detect_cv</code> stage</h4>
<div class="paragraph">
<p>This stage uses the OpenCV Haar classifier to detect faces in an image. It returns the face locations in the metadata (under the key "face_detect.results"), and optionally draws them on the image.</p>
</div>
<div class="paragraph">
<p>The <code>face_detect_cv</code> stage has the following user-configurable parameters:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">cascade_name</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Name of the file where the Haar cascade can be found.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">scaling_factor</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Determines range of scales at which the image is searched for faces.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">min_neighbors</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Minimum number of overlapping neighbours required to count as a face.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">min_size</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Minimum face size.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">max_size</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Maximum face size.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">refresh_rate</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">How many frames to wait before trying to re-run the face detector.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">draw_features</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Whether to draw face locations on the returned image.</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>The `face_detect_cv" stage runs only during preview and video capture; it ignores still image capture. It runs on the low resolution stream which would normally be configured to a resolution from about 320x240 to 640x480 pixels.</p>
</div>
<div class="paragraph">
<p>Default <code>face_detect_cv.json</code> file:</p>
</div>
<div class="listingblock">
<button class="copy-button hidden" aria-label="copy code to clipboard" type="button" aria-hidden="true"><div class="copy-button-inner">
<svg xmlns="http://www.w3.org/2000/svg" id="Layer_1" data-name="Layer 1" viewBox="0 0 12 12"><rect x="1" y="6" width="5" height="1"></rect><path d="M10,1H8A1,1,0,0,0,7,0H6A1,1,0,0,0,5,1H3A1,1,0,0,0,2,2V5H3V2H4V3H9V2h1v9H3V8H2v3a1,1,0,0,0,1,1h7a1,1,0,0,0,1-1V2A1,1,0,0,0,10,1ZM6.5,2.25a.75.75,0,1,1,.75-.75A.76.76,0,0,1,6.5,2.25Z"></path><path d="M6.32,6.32,4.43,4.43A.25.25,0,0,0,4,4.6V8.4a.25.25,0,0,0,.43.17L6.32,6.68A.25.25,0,0,0,6.32,6.32Z"></path></svg><strong class="copy-button-label"></strong><span class="tooltip hidden"> Copy to Clipboard</span>
</div></button>
<div class="content">
<pre>{
    "face_detect_cv":
    {
        "cascade_name" : "/usr/local/share/OpenCV/haarcascades/haarcascade_frontalface_alt.xml",
        "scaling_factor" : 1.1,
        "min_neighbors" : 2,
        "min_size" : 32,
        "max_size" : 256,
        "refresh_rate" : 1,
        "draw_features" : 1
    }
}</pre>
</div>
</div>
<div class="paragraph">
<p>Example:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="./Raspberry Pi Documentation - Camera_files/face_detect.jpg" alt="Image showing faces">
</div>
</div>
</div>
<div class="sect3">
<h4 id="annotate_cv-stage">
<a class="anchor" href="https://www.raspberrypi.com/documentation/accessories/camera.html#annotate_cv-stage"></a><code>annotate_cv</code> stage</h4>
<div class="paragraph">
<p>This stage allows text to be written into the top corner of images. It allows the same <code>%</code> substitutions as the <code>--info-text</code> parameter.</p>
</div>
<div class="paragraph">
<p>The stage does not output any metadata, but if it finds metadata under the key "annotate.text" it will write this text in place of anything in the JSON configuration file. This allows other post-processing stages to pass it text strings to be written onto the top of the images.</p>
</div>
<div class="paragraph">
<p>The <code>annotate_cv</code> stage has the following user-configurable parameters:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">text</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">The text string to be written.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">fg</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Foreground colour.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">bg</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Background colour.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">scale</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">A number proportional to the size of the text.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">thickness</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">A number that determines the thickness of the text.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">alpha</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">The amount of "alpha" to apply when overwriting the background pixels.</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Default <code>annotate_cv.json</code> file:</p>
</div>
<div class="listingblock">
<button class="copy-button hidden" aria-label="copy code to clipboard" type="button" aria-hidden="true"><div class="copy-button-inner">
<svg xmlns="http://www.w3.org/2000/svg" id="Layer_1" data-name="Layer 1" viewBox="0 0 12 12"><rect x="1" y="6" width="5" height="1"></rect><path d="M10,1H8A1,1,0,0,0,7,0H6A1,1,0,0,0,5,1H3A1,1,0,0,0,2,2V5H3V2H4V3H9V2h1v9H3V8H2v3a1,1,0,0,0,1,1h7a1,1,0,0,0,1-1V2A1,1,0,0,0,10,1ZM6.5,2.25a.75.75,0,1,1,.75-.75A.76.76,0,0,1,6.5,2.25Z"></path><path d="M6.32,6.32,4.43,4.43A.25.25,0,0,0,4,4.6V8.4a.25.25,0,0,0,.43.17L6.32,6.68A.25.25,0,0,0,6.32,6.32Z"></path></svg><strong class="copy-button-label"></strong><span class="tooltip hidden"> Copy to Clipboard</span>
</div></button>
<div class="content">
<pre>{
    "annotate_cv" :
    {
	"text" : "Frame %frame exp %exp ag %ag dg %dg",
	"fg" : 255,
	"bg" : 0,
	"scale" : 1.0,
	"thickness" : 2,
	"alpha" : 0.3
    }
}</pre>
</div>
</div>
<div class="paragraph">
<p>Example:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="./Raspberry Pi Documentation - Camera_files/annotate.jpg" alt="Image with text overlay">
</div>
</div>
</div>
</div>
<div class="sect2">
<div name="post-processing-with-tensorflow-lite" data-unique="post-processing-with-tensorflow-lite"></div><h3 id="post-processing-with-tensorflow-lite">
<a class="anchor" href="https://www.raspberrypi.com/documentation/accessories/camera.html#post-processing-with-tensorflow-lite"></a>Post-Processing with TensorFlow Lite</h3>
<div class="admonitionblock note">
<table>
<tbody><tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
These stages require TensorFlow Lite (TFLite) libraries to be installed that export the C++ API. Unfortunately the TFLite libraries are not normally distributed conveniently in this form, however, one place where they can be downloaded is <a href="https://lindevs.com/install-precompiled-tensorflow-lite-on-raspberry-pi/">lindevs.com</a>. Please follow the installation instructions given on that page. Subsequently you may need to recompile <code>libcamera-apps</code> with TensorFlow Lite support - please follow the instructions for <a href="https://www.raspberrypi.com/documentation/accessories/camera.html#building-libcamera-and-libcamera-apps">building <code>libcamera-apps</code> for yourself</a>.
</td>
</tr>
</tbody></table>
</div>
<div class="sect3">
<h4 id="object_classify_tf-stage">
<a class="anchor" href="https://www.raspberrypi.com/documentation/accessories/camera.html#object_classify_tf-stage"></a><code>object_classify_tf</code> stage</h4>
<div class="paragraph">
<p><code>object_classify_tf</code> uses a Google MobileNet v1 model to classify objects in the camera image. It can be obtained from <a href="https://storage.googleapis.com/download.tensorflow.org/models/mobilenet_v1_2018_08_02/mobilenet_v1_1.0_224_quant.tgz" class="bare">https://storage.googleapis.com/download.tensorflow.org/models/mobilenet_v1_2018_08_02/mobilenet_v1_1.0_224_quant.tgz</a>, which will need to be uncompressed. You will also need the <code>labels.txt</code> file which can be found in <a href="https://storage.googleapis.com/download.tensorflow.org/models/mobilenet_v1_1.0_224_frozen.tgz" class="bare">https://storage.googleapis.com/download.tensorflow.org/models/mobilenet_v1_1.0_224_frozen.tgz</a>.</p>
</div>
<div class="paragraph">
<p>This stage has the following configuratble parameters.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">top_n_results</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">How many results to show</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">refresh_rate</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">The number of frames that must elapse before the model is re-run</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">threshold_high</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Confidence threshold (between 0 and 1) where objects are considered as being present</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">threshold_low</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Confidence threshold which objects must drop below before being discarded as matches</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">model_file</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Pathname to the tflite model file</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">labels_file</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Pathname to the file containing the object labels</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">display_labels</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Whether to display the object labels on the image. Note that this causes <code>annotate.text</code> metadata to be inserted so that the text can be rendered subsequently by the <code>annotate_cv</code> stage</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">verbose</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Output more information to the console</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Example <code>object_classify_tf.json</code> file:</p>
</div>
<div class="listingblock">
<button class="copy-button hidden" aria-label="copy code to clipboard" type="button" aria-hidden="true"><div class="copy-button-inner">
<svg xmlns="http://www.w3.org/2000/svg" id="Layer_1" data-name="Layer 1" viewBox="0 0 12 12"><rect x="1" y="6" width="5" height="1"></rect><path d="M10,1H8A1,1,0,0,0,7,0H6A1,1,0,0,0,5,1H3A1,1,0,0,0,2,2V5H3V2H4V3H9V2h1v9H3V8H2v3a1,1,0,0,0,1,1h7a1,1,0,0,0,1-1V2A1,1,0,0,0,10,1ZM6.5,2.25a.75.75,0,1,1,.75-.75A.76.76,0,0,1,6.5,2.25Z"></path><path d="M6.32,6.32,4.43,4.43A.25.25,0,0,0,4,4.6V8.4a.25.25,0,0,0,.43.17L6.32,6.68A.25.25,0,0,0,6.32,6.32Z"></path></svg><strong class="copy-button-label"></strong><span class="tooltip hidden"> Copy to Clipboard</span>
</div></button>
<div class="content">
<pre>{
    "object_classify_tf":
    {
        "top_n_results" : 2,
        "refresh_rate" : 30,
        "threshold_high" : 0.6,
        "threshold_low" : 0.4,
        "model_file" : "/home/pi/models/mobilenet_v1_1.0_224_quant.tflite",
        "labels_file" : "/home/pi/models/labels.txt",
        "display_labels" : 1
    },
    "annotate_cv" :
    {
	"text" : "",
	"fg" : 255,
	"bg" : 0,
	"scale" : 1.0,
	"thickness" : 2,
	"alpha" : 0.3
    }
}</pre>
</div>
</div>
<div class="paragraph">
<p>The stage operates on a low resolution stream image of size 224x224, so it could be used as follows:</p>
</div>
<div class="paragraph">
<p><code>libcamera-hello --post-process-file object_classify_tf.json --lores-width 224 --lores-height 224</code></p>
</div>
<div class="imageblock">
<div class="content">
<img src="./Raspberry Pi Documentation - Camera_files/classify.jpg" alt="Image showing object classifier results">
</div>
</div>
</div>
<div class="sect3">
<h4 id="pose_estimation_tf-stage">
<a class="anchor" href="https://www.raspberrypi.com/documentation/accessories/camera.html#pose_estimation_tf-stage"></a><code>pose_estimation_tf</code> stage</h4>
<div class="paragraph">
<p><code>pose_estimation_tf</code> uses a Google MobileNet v1 model <code>posenet_mobilenet_v1_100_257x257_multi_kpt_stripped.tflite</code> that can be found at <a href="https://github.com/Qengineering/TensorFlow_Lite_Pose_RPi_32-bits" class="bare">https://github.com/Qengineering/TensorFlow_Lite_Pose_RPi_32-bits</a>.</p>
</div>
<div class="paragraph">
<p>This stage has the following configurable parameters.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">refresh_rate</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">The number of frames that must elapse before the model is re-run</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">model_file</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Pathname to the tflite model file</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">verbose</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Output more information to the console</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Also provided is a separate <code>plot_pose_cv</code> stage which can be included in the JSON configuration file and which will draw the detected pose onto the main image. This stage has the following configuration parameters.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">confidence_threshold</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">A confidence level determining how much is drawn. This number can be less than zero; please refer to the GitHub repository for more information.</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Example <code>pose_estimation_tf.json</code> file:</p>
</div>
<div class="listingblock">
<button class="copy-button hidden" aria-label="copy code to clipboard" type="button" aria-hidden="true"><div class="copy-button-inner">
<svg xmlns="http://www.w3.org/2000/svg" id="Layer_1" data-name="Layer 1" viewBox="0 0 12 12"><rect x="1" y="6" width="5" height="1"></rect><path d="M10,1H8A1,1,0,0,0,7,0H6A1,1,0,0,0,5,1H3A1,1,0,0,0,2,2V5H3V2H4V3H9V2h1v9H3V8H2v3a1,1,0,0,0,1,1h7a1,1,0,0,0,1-1V2A1,1,0,0,0,10,1ZM6.5,2.25a.75.75,0,1,1,.75-.75A.76.76,0,0,1,6.5,2.25Z"></path><path d="M6.32,6.32,4.43,4.43A.25.25,0,0,0,4,4.6V8.4a.25.25,0,0,0,.43.17L6.32,6.68A.25.25,0,0,0,6.32,6.32Z"></path></svg><strong class="copy-button-label"></strong><span class="tooltip hidden"> Copy to Clipboard</span>
</div></button>
<div class="content">
<pre>{
    "pose_estimation_tf":
    {
        "refresh_rate" : 5,
        "model_file" : "posenet_mobilenet_v1_100_257x257_multi_kpt_stripped.tflite"
    },
    "plot_pose_cv" :
    {
	"confidence_threshold" : -0.5
    }
}</pre>
</div>
</div>
<div class="paragraph">
<p>The stage operates on a low resolution stream image of size 257x257 (but which must be rounded up to 258x258 for YUV420 images), so it could be used as follows:</p>
</div>
<div class="paragraph">
<p><code>libcamera-hello --post-process-file pose_estimation_tf.json --lores-width 258 --lores-height 258</code></p>
</div>
<div class="imageblock">
<div class="content">
<img src="./Raspberry Pi Documentation - Camera_files/pose.jpg" alt="Image showing pose estimation results">
</div>
</div>
</div>
<div class="sect3">
<h4 id="object_detect_tf-stage">
<a class="anchor" href="https://www.raspberrypi.com/documentation/accessories/camera.html#object_detect_tf-stage"></a><code>object_detect_tf</code> stage</h4>
<div class="paragraph">
<p><code>object_detect_tf</code> uses a Google MobileNet v1 SSD (Single Shot Detector) model. The model and labels files can be downloaded from <a href="https://storage.googleapis.com/download.tensorflow.org/models/tflite/coco_ssd_mobilenet_v1_1.0_quant_2018_06_29.zip" class="bare">https://storage.googleapis.com/download.tensorflow.org/models/tflite/coco_ssd_mobilenet_v1_1.0_quant_2018_06_29.zip</a>.</p>
</div>
<div class="paragraph">
<p>This stage has the following configurable parameters.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">refresh_rate</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">The number of frames that must elapse before the model is re-run</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">model_file</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Pathname to the tflite model file</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">labels_file</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Pathname to the file containing the list of labels</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">confidence_threshold</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Minimum confidence threshold because a match is accepted.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">overlap_threshold</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Determines the amount of overlap between matches for them to be merged as a single match.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">verbose</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Output more information to the console</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Also provided is a separate <code>object_detect_draw_cv</code> stage which can be included in the JSON configuration file and which will draw the detected objects onto the main image. This stage has the following configuration parameters.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">line_thickness</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Thickness of the bounding box lines</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">font_size</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Size of the font used for the label</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Example <code>object_detect_tf.json</code> file:</p>
</div>
<div class="listingblock">
<button class="copy-button hidden" aria-label="copy code to clipboard" type="button" aria-hidden="true"><div class="copy-button-inner">
<svg xmlns="http://www.w3.org/2000/svg" id="Layer_1" data-name="Layer 1" viewBox="0 0 12 12"><rect x="1" y="6" width="5" height="1"></rect><path d="M10,1H8A1,1,0,0,0,7,0H6A1,1,0,0,0,5,1H3A1,1,0,0,0,2,2V5H3V2H4V3H9V2h1v9H3V8H2v3a1,1,0,0,0,1,1h7a1,1,0,0,0,1-1V2A1,1,0,0,0,10,1ZM6.5,2.25a.75.75,0,1,1,.75-.75A.76.76,0,0,1,6.5,2.25Z"></path><path d="M6.32,6.32,4.43,4.43A.25.25,0,0,0,4,4.6V8.4a.25.25,0,0,0,.43.17L6.32,6.68A.25.25,0,0,0,6.32,6.32Z"></path></svg><strong class="copy-button-label"></strong><span class="tooltip hidden"> Copy to Clipboard</span>
</div></button>
<div class="content">
<pre>{
    "object_detect_tf":
    {
	"number_of_threads" : 2,
	"refresh_rate" : 10,
	"confidence_threshold" : 0.5,
	"overlap_threshold" : 0.5,
	"model_file" : "/home/pi/models/coco_ssd_mobilenet_v1_1.0_quant_2018_06_29/detect.tflite",
	"labels_file" : "/home/pi/models/coco_ssd_mobilenet_v1_1.0_quant_2018_06_29/labelmap.txt",
	"verbose" : 1
    },
    "object_detect_draw_cv":
    {
	"line_thickness" : 2
    }
}</pre>
</div>
</div>
<div class="paragraph">
<p>The stage operates on a low resolution stream image of size 300x300. The following example would pass a 300x300 crop to the detector from the centre of the 400x300 low resolution image.</p>
</div>
<div class="paragraph">
<p><code>libcamera-hello --post-process-file object_detect_tf.json --lores-width 400 --lores-height 300</code></p>
</div>
<div class="imageblock">
<div class="content">
<img src="./Raspberry Pi Documentation - Camera_files/detection.jpg" alt="Image showing detected objects">
</div>
</div>
</div>
<div class="sect3">
<h4 id="segmentation_tf-stage">
<a class="anchor" href="https://www.raspberrypi.com/documentation/accessories/camera.html#segmentation_tf-stage"></a><code>segmentation_tf</code> stage</h4>
<div class="paragraph">
<p><code>segmentation_tf</code> uses a Google MobileNet v1 model. The model file can be downloaded from <a href="https://tfhub.dev/tensorflow/lite-model/deeplabv3/1/metadata/2?lite-format=tflite" class="bare">https://tfhub.dev/tensorflow/lite-model/deeplabv3/1/metadata/2?lite-format=tflite</a>, whilst the labels file can be found in the <code>assets</code> folder, named <code>segmentation_labels.txt</code>.</p>
</div>
<div class="paragraph">
<p>This stage runs on an image of size 257x257. Because YUV420 images must have even dimensions, the low resolution image should be at least 258 pixels in both width and height. The stage adds a vector of 257x257 values to the image metadata where each value indicates which of the categories (listed in the labels file) that the pixel belongs to. Optionally, a representation of the segmentation can be drawn into the bottom right corner of the image.</p>
</div>
<div class="paragraph">
<p>This stage has the following configurable parameters.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">refresh_rate</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">The number of frames that must elapse before the model is re-run</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">model_file</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Pathname to the tflite model file</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">labels_file</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Pathname to the file containing the list of labels</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">threshold</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">When verbose is set, the stage prints to the console any labels where the number of pixels with that label (in the 257x257 image) exceeds this threshold.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">draw</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Set this value to draw the segmentation map into the bottom right hand corner of the image.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">verbose</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Output more information to the console</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Example <code>segmentation_tf.json</code> file:</p>
</div>
<div class="listingblock">
<button class="copy-button hidden" aria-label="copy code to clipboard" type="button" aria-hidden="true"><div class="copy-button-inner">
<svg xmlns="http://www.w3.org/2000/svg" id="Layer_1" data-name="Layer 1" viewBox="0 0 12 12"><rect x="1" y="6" width="5" height="1"></rect><path d="M10,1H8A1,1,0,0,0,7,0H6A1,1,0,0,0,5,1H3A1,1,0,0,0,2,2V5H3V2H4V3H9V2h1v9H3V8H2v3a1,1,0,0,0,1,1h7a1,1,0,0,0,1-1V2A1,1,0,0,0,10,1ZM6.5,2.25a.75.75,0,1,1,.75-.75A.76.76,0,0,1,6.5,2.25Z"></path><path d="M6.32,6.32,4.43,4.43A.25.25,0,0,0,4,4.6V8.4a.25.25,0,0,0,.43.17L6.32,6.68A.25.25,0,0,0,6.32,6.32Z"></path></svg><strong class="copy-button-label"></strong><span class="tooltip hidden"> Copy to Clipboard</span>
</div></button>
<div class="content">
<pre>{
    "segmentation_tf":
    {
	"number_of_threads" : 2,
	"refresh_rate" : 10,
	"model_file" : "/home/pi/models/lite-model_deeplabv3_1_metadata_2.tflite",
	"labels_file" : "/home/pi/models/segmentation_labels.txt",
	"draw" : 1,
	"verbose" : 1
    }
}</pre>
</div>
</div>
<div class="paragraph">
<p>This example takes a square camera image and reduces it to 258x258 pixels in size. In fact the stage also works well when non-square images are squashed unequally down to 258x258 pixels without cropping. The image below shows the segmentation map in the bottom right hand corner.</p>
</div>
<div class="paragraph">
<p><code>libcamera-hello --post-process-file segmentation_tf.json --lores-width 258 --lores-height 258 --viewfinder-width 1024 --viewfinder-height 1024</code></p>
</div>
<div class="imageblock">
<div class="content">
<img src="./Raspberry Pi Documentation - Camera_files/segmentation.jpg" alt="Image showing segmentation in the bottom right corner">
</div>
</div>
</div>
</div>
<div class="sect2">
<div name="writing-your-own-post-processing-stages" data-unique="writing-your-own-post-processing-stages"></div><h3 id="writing-your-own-post-processing-stages">
<a class="anchor" href="https://www.raspberrypi.com/documentation/accessories/camera.html#writing-your-own-post-processing-stages"></a>Writing your own Post-Processing Stages</h3>
<div class="paragraph">
<p>The <code>libcamera-apps</code> <em>post-processing framework</em> is not only very flexible but is meant to make it easy for users to create their own custom post-processing stages. It is easy to include algorithms and routines that are already available both in OpenCV and TensorFlow Lite.</p>
</div>
<div class="paragraph">
<p>We are keen to accept and distribute interesting post-processing stages contributed by our users.</p>
</div>
<div class="sect3">
<h4 id="basic-post-processing-stages">
<a class="anchor" href="https://www.raspberrypi.com/documentation/accessories/camera.html#basic-post-processing-stages"></a>Basic Post-Processing Stages</h4>
<div class="paragraph">
<p>Post-processing stages have a simple API, and users can create their own by deriving from the <code>PostProcessingStage</code> class. The member functions that must be implemented are listed below, though note that some may be unnecessary for simple stages.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>char const *Name() const</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Return the name of the stage. This is used to match against stages listed in the JSON post-processing configuration file.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>void Read(boost::property_tree::ptree const &amp;params)</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">This method will read any of the stages configuration parameters from the JSON file.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>void AdjustConfig(std::string const &amp;use_case, StreamConfiguration *config)</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">This method gives stages a chance to influence the configuration of the camera, though it is not often necessary to implement it.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>void Configure()</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">This is called just after the camera has been configured. It is a good moment to check that the stage has access to the streams it needs, and it can also allocate any resources that it may require.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>void Start()</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Called when the camera starts. This method is often not required.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>bool Process(CompletedRequest &amp;completed_request)</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">This method presents completed camera requests for post-processing and is where the necessary pixel manipulations or image analysis will happen. The function returns <code>true</code> if the post-processing framework is <em>not</em> to deliver this request on to the application.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>void Stop()</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Called when the camera is stopped. Normally a stage would need to shut down any processing that might be running (for example, if it started any asynchronous threads).</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>void Teardown()</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Called when the camera configuration is torn down. This would typically be used to de-allocate any resources that were set up in the <code>Configure</code> method.</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Some helpful hints on writing your own stages:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Generally, the <code>Process</code> method should not take too long as it will block the imaging pipeline and may cause stuttering. When time-consuming algorithms need to be run, it may be helpful to delegate them to another asynchronous thread.</p>
</li>
<li>
<p>When delegating work to another thread, the way image buffers are handled currently means that they will need to be copied. For some applications, such as image analysis, it may be viable to use the "low resolution" image stream rather than full resolution images.</p>
</li>
<li>
<p>The post-processing framework adds multi-threading parallelism on a per-frame basis. This is helpful in improving throughput if you want to run on every single frame. Some functions may supply parallelism within each frame (such as OpenCV and TFLite). In these cases it would probably be better to serialise the calls so as to suppress the per-frame parallelism.</p>
</li>
<li>
<p>Most streams, and in particular the low resolution stream, have YUV420 format. These formats are sometimes not ideal for OpenCV or TFLite so there may sometimes need to be a conversion step.</p>
</li>
<li>
<p>When images need to be altered, doing so in place is much the easiest strategy.</p>
</li>
<li>
<p>Implementations of any stage should always include a <code>RegisterStage</code> call. This registers your new stage with the system so that it will be correctly identified when listed in a JSON file. You will need to add it to the post-processing folders <code>CMakeLists.txt</code> too, of course.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The easiest example to start with is <code>negate_stage.cpp</code>, which "negates" an image (turning black white, and vice versa). Aside from a small amount of derived class boiler-plate, it contains barely half a dozen lines of code.</p>
</div>
<div class="paragraph">
<p>Next up in complexity is <code>sobel_cv_stage.cpp</code>. This implements a Sobel filter using just a few lines of OpenCV functions.</p>
</div>
</div>
<div class="sect3">
<h4 id="tflite-stages">
<a class="anchor" href="https://www.raspberrypi.com/documentation/accessories/camera.html#tflite-stages"></a>TFLite Stages</h4>
<div class="paragraph">
<p>For stages wanting to analyse images using TensorFlowLite we provide the <code>TfStage</code> base class. This provides a certain amount of boilerplate code and makes it much easier to implement new TFLite-based stages by deriving from this class. In particular, it delegates the execution of the model to another thread, so that the full camera framerate is still maintained - it is just the model that will run at a lower framerate.</p>
</div>
<div class="paragraph">
<p>The <code>TfStage</code> class implements all the public <code>PostProcessingStage</code> methods that normally have to be redefined, with the exception of the <code>Name</code> method which must still be supplied. It then presents the following virtual methods which derived classes should implement instead.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>void readExtras()</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">The base class reads the named model and certain other parameters like the <code>refresh_rate</code>. This method can be supplied to read any extra parameters for the derived stage. It is also a good place to check that the loaded model looks as expected (i.e. has right input and output dimensions).</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>void checkConfiguration()</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">The base class fetches the low resolution stream which TFLite will operate on, and the full resolution stream in case the derived stage needs it. This method is provided for the derived class to check that the streams it requires are present. In case any required stream is missing, it may elect simply to avoid processing any images, or it may signal a fatal error.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>void interpretOutputs()</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">The TFLite model runs asynchronously so that it can run "every few frames" without holding up the overall framerate. This method gives the derived stage the chance to read and interpret the models outputs, running right after the model itself and in that same thread.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>void applyResults()</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Here we are running once again in the main thread and so this method should run reasonably quickly so as not to hold up the supply of frames to the application. It is provided so that the last results of the model (which might be a few frames ago) can be applied to the current frame. Typically this would involve attaching metadata to the image, or perhaps drawing something onto the main image.</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>For further information, readers are referred to the supplied example code implementing the <code>ObjectClassifyTfStage</code> and <code>PoseEstimationTfStage</code> classes.</p>
</div>
</div>
</div>
<div class="sect2">
<div name="multiple-cameras-usage" data-unique="multiple-cameras-usage"></div><h3 id="multiple-cameras-usage">
<a class="anchor" href="https://www.raspberrypi.com/documentation/accessories/camera.html#multiple-cameras-usage"></a>Multiple Cameras Usage</h3>
<div class="paragraph">
<p>Basic support for multiple cameras is available within <code>libcamera-apps</code>. Multiple cameras may be attached to a Raspberry Pi in the following ways:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Two cameras connected directly to a Raspberry Pi Compute Module board, see the <a href="https://www.raspberrypi.com/documentation/computers/compute-module.html#attaching-a-raspberry-pi-camera-module">Compute Module documentation</a> for further details.</p>
</li>
<li>
<p>Two or more cameras attached to a non-compute Raspberry Pi board using a Video Mux board, like <a href="https://www.arducam.com/product/multi-camera-v2-1-adapter-raspberry-pi/">this 3rd party product</a>.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>In the latter case, only one camera may be used at a time since both cameras are attached to a single Unicam port. For the former, both cameras can run simultaneously.</p>
</div>
<div class="paragraph">
<p>To list all the cameras available on your platform, use the <code>--list-cameras</code> command line option. To choose which camera to use, use the <code>--camera &lt;index&gt;</code> option, and provide the index value of the requested camera.</p>
</div>
<div class="admonitionblock note">
<table>
<tbody><tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
<code>libcamera</code> does not yet provide stereoscopic camera support. When running two cameras simultaneously, they must be run in separate processes. This means there is no way to synchronise sensor framing or 3A operation between them.  As a workaround, you could synchronise the cameras through an external sync signal for the HQ (IMX477) camera, and switch the 3A to manual mode if necessary.
</td>
</tr>
</tbody></table>
</div>
</div>
<div class="sect2">
<div name="libcamera-and-libcamera-apps-packages" data-unique="libcamera-and-libcamera-apps-packages"></div><h3 id="libcamera-and-libcamera-apps-packages">
<a class="anchor" href="https://www.raspberrypi.com/documentation/accessories/camera.html#libcamera-and-libcamera-apps-packages"></a><code>libcamera</code> and <code>libcamera-apps</code> Packages</h3>
<div class="paragraph">
<p>A number of <code>apt</code> packages are provided for convenience. In order to access them, we recommend keeping your OS up to date <a href="https://www.raspberrypi.com/documentation/computers/os.html#using-apt">in the usual way</a>.</p>
</div>
<div class="sect3">
<h4 id="binary-packages">
<a class="anchor" href="https://www.raspberrypi.com/documentation/accessories/camera.html#binary-packages"></a>Binary Packages</h4>
<div class="paragraph">
<p>There are two <code>libcamera-apps</code> packages available, that contain the necessary executables:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>libcamera-apps</code> contains the full applications with support for previews using X Windows. This package is pre-installed in the <em>Bullseye</em> release of Raspberry Pi OS, and can be installed in <em>Buster</em> using <code>sudo apt install libcamera-apps</code>.</p>
</li>
<li>
<p><code>libcamera-apps-lite</code> omits X Windows support and only the DRM preview is available. This package is pre-installed in the <em>Bullseye</em> release of Raspberry Pi OS Lite, and can be installed in <em>Buster</em> using <code>sudo apt install libcamera-apps-lite</code>.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>For <em>Bullseye</em> users, official Raspberry Pi cameras should be detected automatically. Other users will need to <a href="https://www.raspberrypi.com/documentation/accessories/camera.html#if-you-do-need-to-alter-the-configuration">edit their <code>/boot/config.txt</code></a> file if they have not done so previously.</p>
</div>
</div>
<div class="sect3">
<h4 id="dependencies">
<a class="anchor" href="https://www.raspberrypi.com/documentation/accessories/camera.html#dependencies"></a>Dependencies</h4>
<div class="paragraph">
<p>These applications depend on a number of library packages which are named <em>library-name&lt;n&gt;</em> where <em>&lt;n&gt;</em> is a version number (actually the ABI, or Application Binary Interface, version), and which stands at zero at the time of writing. Thus we have the following:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>The package <code>libcamera0</code> contains the <code>libcamera</code> libraries.</p>
</li>
<li>
<p>The package <code>libepoxy0</code> contains the <code>libepoxy</code> libraries.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>These will be installed automatically when needed.</p>
</div>
</div>
<div class="sect3">
<h4 id="dev-packages">
<a class="anchor" href="https://www.raspberrypi.com/documentation/accessories/camera.html#dev-packages"></a>Dev Packages</h4>
<div class="paragraph">
<p><code>libcamera-apps</code> can be rebuilt on their own without installing and building <code>libcamera</code> and <code>libepoxy</code> from scratch. To enable this, the following packages should be installed:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>libcamera-dev</code> contains the necessary <code>libcamera</code> header files and resources.</p>
</li>
<li>
<p><code>libepoxy-dev</code> contains the necessary <code>libepoxy</code> header files and resources. You will only need this if you want support for the X11/GLES preview window.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Subsequently <code>libcamera-apps</code> can be <a href="https://www.raspberrypi.com/documentation/accessories/camera.html#building-libcamera-apps-without-rebuilding-libcamera">checked out from Github and rebuilt</a>.</p>
</div>
</div>
</div>
<div class="sect2">
<div name="building-libcamera-and-libcamera-apps" data-unique="building-libcamera-and-libcamera-apps"></div><h3 id="building-libcamera-and-libcamera-apps">
<a class="anchor" href="https://www.raspberrypi.com/documentation/accessories/camera.html#building-libcamera-and-libcamera-apps"></a>Building <code>libcamera</code> and <code>libcamera-apps</code>
</h3>
<div class="paragraph">
<p>Building <code>libcamera</code> and <code>libcamera-apps</code> for yourself can bring the following benefits.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>You can pick up the latest enhancements and features.</p>
</li>
<li>
<p><code>libcamera-apps</code> can be compiled with extra optimisation for Raspberry Pi 3 and Raspberry Pi 4 devices running a 32-bit OS.</p>
</li>
<li>
<p>You can include the various optional OpenCV and/or TFLite post-processing stages (or add your own).</p>
</li>
<li>
<p>You can customise or add your own applications derived from <code>libcamera-apps</code>.</p>
</li>
</ul>
</div>
<div class="admonitionblock note">
<table>
<tbody><tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
When building on a Raspberry Pi with 1GB or less of RAM, there is a risk that the device may run out of swap and fail. We recommend either increasing the amount of swap, or building with fewer threads (the <code>-j</code> option to <code>ninja</code> and to <code>make</code>).
</td>
</tr>
</tbody></table>
</div>
<div class="sect3">
<h4 id="building-libcamera-apps-without-rebuilding-libcamera">
<a class="anchor" href="https://www.raspberrypi.com/documentation/accessories/camera.html#building-libcamera-apps-without-rebuilding-libcamera"></a>Building <code>libcamera-apps</code> without rebuilding <code>libcamera</code>
</h4>
<div class="paragraph">
<p>You can rebuild <code>libcamera-apps</code> <em>without</em> first rebuilding the whole of <code>libcamera</code> and <code>libepoxy</code>. If you do not need support for the X11/GLES preview window then <code>libepoxy</code> can be omitted entirely. Mostly this will include Raspberry Pi OS Lite users, and they must be sure to use <code>-DENABLE_X11=0</code> when running <code>cmake</code> later. These users should run:</p>
</div>
<div class="listingblock">
<button class="copy-button hidden" aria-label="copy code to clipboard" type="button" aria-hidden="true"><div class="copy-button-inner">
<svg xmlns="http://www.w3.org/2000/svg" id="Layer_1" data-name="Layer 1" viewBox="0 0 12 12"><rect x="1" y="6" width="5" height="1"></rect><path d="M10,1H8A1,1,0,0,0,7,0H6A1,1,0,0,0,5,1H3A1,1,0,0,0,2,2V5H3V2H4V3H9V2h1v9H3V8H2v3a1,1,0,0,0,1,1h7a1,1,0,0,0,1-1V2A1,1,0,0,0,10,1ZM6.5,2.25a.75.75,0,1,1,.75-.75A.76.76,0,0,1,6.5,2.25Z"></path><path d="M6.32,6.32,4.43,4.43A.25.25,0,0,0,4,4.6V8.4a.25.25,0,0,0,.43.17L6.32,6.68A.25.25,0,0,0,6.32,6.32Z"></path></svg><strong class="copy-button-label"></strong><span class="tooltip hidden"> Copy to Clipboard</span>
</div></button>
<div class="content">
<pre>sudo apt install -y libcamera-dev libjpeg-dev libtiff5-dev</pre>
</div>
</div>
<div class="paragraph">
<p>All other users should execute:</p>
</div>
<div class="listingblock">
<button class="copy-button hidden" aria-label="copy code to clipboard" type="button" aria-hidden="true"><div class="copy-button-inner">
<svg xmlns="http://www.w3.org/2000/svg" id="Layer_1" data-name="Layer 1" viewBox="0 0 12 12"><rect x="1" y="6" width="5" height="1"></rect><path d="M10,1H8A1,1,0,0,0,7,0H6A1,1,0,0,0,5,1H3A1,1,0,0,0,2,2V5H3V2H4V3H9V2h1v9H3V8H2v3a1,1,0,0,0,1,1h7a1,1,0,0,0,1-1V2A1,1,0,0,0,10,1ZM6.5,2.25a.75.75,0,1,1,.75-.75A.76.76,0,0,1,6.5,2.25Z"></path><path d="M6.32,6.32,4.43,4.43A.25.25,0,0,0,4,4.6V8.4a.25.25,0,0,0,.43.17L6.32,6.68A.25.25,0,0,0,6.32,6.32Z"></path></svg><strong class="copy-button-label"></strong><span class="tooltip hidden"> Copy to Clipboard</span>
</div></button>
<div class="content">
<pre>sudo apt install -y libcamera-dev libepoxy-dev libjpeg-dev libtiff5-dev</pre>
</div>
</div>
<div class="paragraph">
<p>If you want to use the Qt preview window, please also execute</p>
</div>
<div class="listingblock">
<button class="copy-button hidden" aria-label="copy code to clipboard" type="button" aria-hidden="true"><div class="copy-button-inner">
<svg xmlns="http://www.w3.org/2000/svg" id="Layer_1" data-name="Layer 1" viewBox="0 0 12 12"><rect x="1" y="6" width="5" height="1"></rect><path d="M10,1H8A1,1,0,0,0,7,0H6A1,1,0,0,0,5,1H3A1,1,0,0,0,2,2V5H3V2H4V3H9V2h1v9H3V8H2v3a1,1,0,0,0,1,1h7a1,1,0,0,0,1-1V2A1,1,0,0,0,10,1ZM6.5,2.25a.75.75,0,1,1,.75-.75A.76.76,0,0,1,6.5,2.25Z"></path><path d="M6.32,6.32,4.43,4.43A.25.25,0,0,0,4,4.6V8.4a.25.25,0,0,0,.43.17L6.32,6.68A.25.25,0,0,0,6.32,6.32Z"></path></svg><strong class="copy-button-label"></strong><span class="tooltip hidden"> Copy to Clipboard</span>
</div></button>
<div class="content">
<pre>sudo apt install -y qtbase5-dev libqt5core5a libqt5gui5 libqt5widgets5</pre>
</div>
</div>
<div class="paragraph">
<p>Now proceed directly to the instructions for <a href="https://www.raspberrypi.com/documentation/accessories/camera.html#building-libcamera-apps">building <code>libcamera-apps</code></a>. Raspberry Pi OS Lite users should check that <em>git</em> is installed first (<code>sudo apt install -y git</code>).</p>
</div>
</div>
<div class="sect3">
<h4 id="building-libcamera">
<a class="anchor" href="https://www.raspberrypi.com/documentation/accessories/camera.html#building-libcamera"></a>Building <code>libcamera</code>
</h4>
<div class="paragraph">
<p>Rebuilding <code>libcamera</code> from scratch should be necessary only if you need the latest features that may not yet have reached the <code>apt</code> repositories, or if you need to customise its behaviour in some way.</p>
</div>
<div class="paragraph">
<p>First install all the necessary dependencies for <code>libcamera</code>.</p>
</div>
<div class="admonitionblock note">
<table>
<tbody><tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
Raspberry Pi OS Lite users will first need to install the following additional packages if they have not done so previously:
</td>
</tr>
</tbody></table>
</div>
<div class="listingblock">
<button class="copy-button hidden" aria-label="copy code to clipboard" type="button" aria-hidden="true"><div class="copy-button-inner">
<svg xmlns="http://www.w3.org/2000/svg" id="Layer_1" data-name="Layer 1" viewBox="0 0 12 12"><rect x="1" y="6" width="5" height="1"></rect><path d="M10,1H8A1,1,0,0,0,7,0H6A1,1,0,0,0,5,1H3A1,1,0,0,0,2,2V5H3V2H4V3H9V2h1v9H3V8H2v3a1,1,0,0,0,1,1h7a1,1,0,0,0,1-1V2A1,1,0,0,0,10,1ZM6.5,2.25a.75.75,0,1,1,.75-.75A.76.76,0,0,1,6.5,2.25Z"></path><path d="M6.32,6.32,4.43,4.43A.25.25,0,0,0,4,4.6V8.4a.25.25,0,0,0,.43.17L6.32,6.68A.25.25,0,0,0,6.32,6.32Z"></path></svg><strong class="copy-button-label"></strong><span class="tooltip hidden"> Copy to Clipboard</span>
</div></button>
<div class="content">
<pre>sudo apt install -y python3-pip git
sudo pip3 install jinja2</pre>
</div>
</div>
<div class="paragraph">
<p>All users should then install the following:</p>
</div>
<div class="listingblock">
<button class="copy-button hidden" aria-label="copy code to clipboard" type="button" aria-hidden="true"><div class="copy-button-inner">
<svg xmlns="http://www.w3.org/2000/svg" id="Layer_1" data-name="Layer 1" viewBox="0 0 12 12"><rect x="1" y="6" width="5" height="1"></rect><path d="M10,1H8A1,1,0,0,0,7,0H6A1,1,0,0,0,5,1H3A1,1,0,0,0,2,2V5H3V2H4V3H9V2h1v9H3V8H2v3a1,1,0,0,0,1,1h7a1,1,0,0,0,1-1V2A1,1,0,0,0,10,1ZM6.5,2.25a.75.75,0,1,1,.75-.75A.76.76,0,0,1,6.5,2.25Z"></path><path d="M6.32,6.32,4.43,4.43A.25.25,0,0,0,4,4.6V8.4a.25.25,0,0,0,.43.17L6.32,6.68A.25.25,0,0,0,6.32,6.32Z"></path></svg><strong class="copy-button-label"></strong><span class="tooltip hidden"> Copy to Clipboard</span>
</div></button>
<div class="content">
<pre>sudo apt install -y libboost-dev
sudo apt install -y libgnutls28-dev openssl libtiff5-dev
sudo apt install -y qtbase5-dev libqt5core5a libqt5gui5 libqt5widgets5
sudo apt install -y meson
sudo pip3 install pyyaml ply
sudo pip3 install --upgrade meson</pre>
</div>
</div>
<div class="paragraph">
<p>In the <code>meson</code> commands below we have enabled the <em>gstreamer</em> plugin. If you <em>do not</em> need this you can set <code>-Dgstreamer=disabled</code> instead and the next pair of dependencies will not be required. But if you do leave <em>gstreamer</em> enabled, then you will need the following:</p>
</div>
<div class="listingblock">
<button class="copy-button hidden" aria-label="copy code to clipboard" type="button" aria-hidden="true"><div class="copy-button-inner">
<svg xmlns="http://www.w3.org/2000/svg" id="Layer_1" data-name="Layer 1" viewBox="0 0 12 12"><rect x="1" y="6" width="5" height="1"></rect><path d="M10,1H8A1,1,0,0,0,7,0H6A1,1,0,0,0,5,1H3A1,1,0,0,0,2,2V5H3V2H4V3H9V2h1v9H3V8H2v3a1,1,0,0,0,1,1h7a1,1,0,0,0,1-1V2A1,1,0,0,0,10,1ZM6.5,2.25a.75.75,0,1,1,.75-.75A.76.76,0,0,1,6.5,2.25Z"></path><path d="M6.32,6.32,4.43,4.43A.25.25,0,0,0,4,4.6V8.4a.25.25,0,0,0,.43.17L6.32,6.68A.25.25,0,0,0,6.32,6.32Z"></path></svg><strong class="copy-button-label"></strong><span class="tooltip hidden"> Copy to Clipboard</span>
</div></button>
<div class="content">
<pre>sudo apt install -y libglib2.0-dev libgstreamer-plugins-base1.0-dev</pre>
</div>
</div>
<div class="paragraph">
<p>Now we can check out and build <code>libcamera</code> itself.</p>
</div>
<div class="listingblock">
<button class="copy-button hidden" aria-label="copy code to clipboard" type="button" aria-hidden="true"><div class="copy-button-inner">
<svg xmlns="http://www.w3.org/2000/svg" id="Layer_1" data-name="Layer 1" viewBox="0 0 12 12"><rect x="1" y="6" width="5" height="1"></rect><path d="M10,1H8A1,1,0,0,0,7,0H6A1,1,0,0,0,5,1H3A1,1,0,0,0,2,2V5H3V2H4V3H9V2h1v9H3V8H2v3a1,1,0,0,0,1,1h7a1,1,0,0,0,1-1V2A1,1,0,0,0,10,1ZM6.5,2.25a.75.75,0,1,1,.75-.75A.76.76,0,0,1,6.5,2.25Z"></path><path d="M6.32,6.32,4.43,4.43A.25.25,0,0,0,4,4.6V8.4a.25.25,0,0,0,.43.17L6.32,6.68A.25.25,0,0,0,6.32,6.32Z"></path></svg><strong class="copy-button-label"></strong><span class="tooltip hidden"> Copy to Clipboard</span>
</div></button>
<div class="content">
<pre>cd
git clone git://linuxtv.org/libcamera.git
cd libcamera</pre>
</div>
</div>
<div class="paragraph">
<p>Next we recommend that Raspberry Pi OS Lite users run</p>
</div>
<div class="listingblock">
<button class="copy-button hidden" aria-label="copy code to clipboard" type="button" aria-hidden="true"><div class="copy-button-inner">
<svg xmlns="http://www.w3.org/2000/svg" id="Layer_1" data-name="Layer 1" viewBox="0 0 12 12"><rect x="1" y="6" width="5" height="1"></rect><path d="M10,1H8A1,1,0,0,0,7,0H6A1,1,0,0,0,5,1H3A1,1,0,0,0,2,2V5H3V2H4V3H9V2h1v9H3V8H2v3a1,1,0,0,0,1,1h7a1,1,0,0,0,1-1V2A1,1,0,0,0,10,1ZM6.5,2.25a.75.75,0,1,1,.75-.75A.76.76,0,0,1,6.5,2.25Z"></path><path d="M6.32,6.32,4.43,4.43A.25.25,0,0,0,4,4.6V8.4a.25.25,0,0,0,.43.17L6.32,6.68A.25.25,0,0,0,6.32,6.32Z"></path></svg><strong class="copy-button-label"></strong><span class="tooltip hidden"> Copy to Clipboard</span>
</div></button>
<div class="content">
<pre>meson build --buildtype=release -Dpipelines=raspberrypi -Dipas=raspberrypi -Dv4l2=true -Dgstreamer=enabled -Dtest=false -Dlc-compliance=disabled -Dcam=disabled -Dqcam=disabled -Ddocumentation=disabled</pre>
</div>
</div>
<div class="paragraph">
<p>Users of Raspberry Pi OS can instead use</p>
</div>
<div class="listingblock">
<button class="copy-button hidden" aria-label="copy code to clipboard" type="button" aria-hidden="true"><div class="copy-button-inner">
<svg xmlns="http://www.w3.org/2000/svg" id="Layer_1" data-name="Layer 1" viewBox="0 0 12 12"><rect x="1" y="6" width="5" height="1"></rect><path d="M10,1H8A1,1,0,0,0,7,0H6A1,1,0,0,0,5,1H3A1,1,0,0,0,2,2V5H3V2H4V3H9V2h1v9H3V8H2v3a1,1,0,0,0,1,1h7a1,1,0,0,0,1-1V2A1,1,0,0,0,10,1ZM6.5,2.25a.75.75,0,1,1,.75-.75A.76.76,0,0,1,6.5,2.25Z"></path><path d="M6.32,6.32,4.43,4.43A.25.25,0,0,0,4,4.6V8.4a.25.25,0,0,0,.43.17L6.32,6.68A.25.25,0,0,0,6.32,6.32Z"></path></svg><strong class="copy-button-label"></strong><span class="tooltip hidden"> Copy to Clipboard</span>
</div></button>
<div class="content">
<pre>meson build --buildtype=release -Dpipelines=raspberrypi -Dipas=raspberrypi -Dv4l2=true -Dgstreamer=enabled -Dtest=false -Dlc-compliance=disabled -Dcam=disabled -Dqcam=enabled -Ddocumentation=disabled</pre>
</div>
</div>
<div class="paragraph">
<p>The only difference is that the latter also builds the <code>qcam</code> test application, which has dependencies on Qt and X Windows (after completing the <code>libcamera</code> build users can run <code>build/src/qcam/qcam</code> to verify that <code>libcamera</code> is functioning correctly).</p>
</div>
<div class="paragraph">
<p>To complete the <code>libcamera</code> build, please run</p>
</div>
<div class="listingblock">
<button class="copy-button hidden" aria-label="copy code to clipboard" type="button" aria-hidden="true"><div class="copy-button-inner">
<svg xmlns="http://www.w3.org/2000/svg" id="Layer_1" data-name="Layer 1" viewBox="0 0 12 12"><rect x="1" y="6" width="5" height="1"></rect><path d="M10,1H8A1,1,0,0,0,7,0H6A1,1,0,0,0,5,1H3A1,1,0,0,0,2,2V5H3V2H4V3H9V2h1v9H3V8H2v3a1,1,0,0,0,1,1h7a1,1,0,0,0,1-1V2A1,1,0,0,0,10,1ZM6.5,2.25a.75.75,0,1,1,.75-.75A.76.76,0,0,1,6.5,2.25Z"></path><path d="M6.32,6.32,4.43,4.43A.25.25,0,0,0,4,4.6V8.4a.25.25,0,0,0,.43.17L6.32,6.68A.25.25,0,0,0,6.32,6.32Z"></path></svg><strong class="copy-button-label"></strong><span class="tooltip hidden"> Copy to Clipboard</span>
</div></button>
<div class="content">
<pre>ninja -C build   # use -j 2 on Raspberry Pi 3 or earlier devices
sudo ninja -C build install</pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tbody><tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
At the time of writing <code>libcamera</code> does not yet have a stable binary interface. Therefore, if you have rebuilt <code>libcamera</code> we recommend continuing and rebuilding <code>libcamera-apps</code> from scratch too.
</td>
</tr>
</tbody></table>
</div>
</div>
<div class="sect3">
<h4 id="building-libepoxy">
<a class="anchor" href="https://www.raspberrypi.com/documentation/accessories/camera.html#building-libepoxy"></a>Building <code>libepoxy</code>
</h4>
<div class="paragraph">
<p>Rebuilding <code>libepoxy</code> should not normally be necessary as this library changes only very rarely. If you do want to build it from scratch, however, please follow the instructions below.</p>
</div>
<div class="paragraph">
<p>Start by installing the necessary dependencies.</p>
</div>
<div class="listingblock">
<button class="copy-button hidden" aria-label="copy code to clipboard" type="button" aria-hidden="true"><div class="copy-button-inner">
<svg xmlns="http://www.w3.org/2000/svg" id="Layer_1" data-name="Layer 1" viewBox="0 0 12 12"><rect x="1" y="6" width="5" height="1"></rect><path d="M10,1H8A1,1,0,0,0,7,0H6A1,1,0,0,0,5,1H3A1,1,0,0,0,2,2V5H3V2H4V3H9V2h1v9H3V8H2v3a1,1,0,0,0,1,1h7a1,1,0,0,0,1-1V2A1,1,0,0,0,10,1ZM6.5,2.25a.75.75,0,1,1,.75-.75A.76.76,0,0,1,6.5,2.25Z"></path><path d="M6.32,6.32,4.43,4.43A.25.25,0,0,0,4,4.6V8.4a.25.25,0,0,0,.43.17L6.32,6.68A.25.25,0,0,0,6.32,6.32Z"></path></svg><strong class="copy-button-label"></strong><span class="tooltip hidden"> Copy to Clipboard</span>
</div></button>
<div class="content">
<pre>sudo apt install -y libegl1-mesa-dev</pre>
</div>
</div>
<div class="paragraph">
<p>Next, check out and build <code>libepoxy</code>.</p>
</div>
<div class="listingblock">
<button class="copy-button hidden" aria-label="copy code to clipboard" type="button" aria-hidden="true"><div class="copy-button-inner">
<svg xmlns="http://www.w3.org/2000/svg" id="Layer_1" data-name="Layer 1" viewBox="0 0 12 12"><rect x="1" y="6" width="5" height="1"></rect><path d="M10,1H8A1,1,0,0,0,7,0H6A1,1,0,0,0,5,1H3A1,1,0,0,0,2,2V5H3V2H4V3H9V2h1v9H3V8H2v3a1,1,0,0,0,1,1h7a1,1,0,0,0,1-1V2A1,1,0,0,0,10,1ZM6.5,2.25a.75.75,0,1,1,.75-.75A.76.76,0,0,1,6.5,2.25Z"></path><path d="M6.32,6.32,4.43,4.43A.25.25,0,0,0,4,4.6V8.4a.25.25,0,0,0,.43.17L6.32,6.68A.25.25,0,0,0,6.32,6.32Z"></path></svg><strong class="copy-button-label"></strong><span class="tooltip hidden"> Copy to Clipboard</span>
</div></button>
<div class="content">
<pre>cd
git clone https://github.com/anholt/libepoxy.git
cd libepoxy
mkdir _build
cd _build
meson
ninja
sudo ninja install</pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="building-libcamera-apps">
<a class="anchor" href="https://www.raspberrypi.com/documentation/accessories/camera.html#building-libcamera-apps"></a>Building <code>libcamera-apps</code>
</h4>
<div class="paragraph">
<p>First fetch the necessary dependencies for <code>libcamera-apps</code>.</p>
</div>
<div class="listingblock">
<button class="copy-button hidden" aria-label="copy code to clipboard" type="button" aria-hidden="true"><div class="copy-button-inner">
<svg xmlns="http://www.w3.org/2000/svg" id="Layer_1" data-name="Layer 1" viewBox="0 0 12 12"><rect x="1" y="6" width="5" height="1"></rect><path d="M10,1H8A1,1,0,0,0,7,0H6A1,1,0,0,0,5,1H3A1,1,0,0,0,2,2V5H3V2H4V3H9V2h1v9H3V8H2v3a1,1,0,0,0,1,1h7a1,1,0,0,0,1-1V2A1,1,0,0,0,10,1ZM6.5,2.25a.75.75,0,1,1,.75-.75A.76.76,0,0,1,6.5,2.25Z"></path><path d="M6.32,6.32,4.43,4.43A.25.25,0,0,0,4,4.6V8.4a.25.25,0,0,0,.43.17L6.32,6.68A.25.25,0,0,0,6.32,6.32Z"></path></svg><strong class="copy-button-label"></strong><span class="tooltip hidden"> Copy to Clipboard</span>
</div></button>
<div class="content">
<pre>sudo apt install -y cmake libboost-program-options-dev libdrm-dev libexif-dev</pre>
</div>
</div>
<div class="paragraph">
<p>The <code>libcamera-apps</code> build process begins with the following:</p>
</div>
<div class="listingblock">
<button class="copy-button hidden" aria-label="copy code to clipboard" type="button" aria-hidden="true"><div class="copy-button-inner">
<svg xmlns="http://www.w3.org/2000/svg" id="Layer_1" data-name="Layer 1" viewBox="0 0 12 12"><rect x="1" y="6" width="5" height="1"></rect><path d="M10,1H8A1,1,0,0,0,7,0H6A1,1,0,0,0,5,1H3A1,1,0,0,0,2,2V5H3V2H4V3H9V2h1v9H3V8H2v3a1,1,0,0,0,1,1h7a1,1,0,0,0,1-1V2A1,1,0,0,0,10,1ZM6.5,2.25a.75.75,0,1,1,.75-.75A.76.76,0,0,1,6.5,2.25Z"></path><path d="M6.32,6.32,4.43,4.43A.25.25,0,0,0,4,4.6V8.4a.25.25,0,0,0,.43.17L6.32,6.68A.25.25,0,0,0,6.32,6.32Z"></path></svg><strong class="copy-button-label"></strong><span class="tooltip hidden"> Copy to Clipboard</span>
</div></button>
<div class="content">
<pre>cd
git clone https://github.com/raspberrypi/libcamera-apps.git
cd libcamera-apps
mkdir build
cd build</pre>
</div>
</div>
<div class="paragraph">
<p>At this point you will need to run <code>cmake</code> after deciding what extra flags to pass it. The valid flags are:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>-DENABLE_COMPILE_FLAGS_FOR_TARGET=armv8-neon</code> - you may supply this when building for Raspberry Pi 3 or Raspberry Pi 4 devices running a 32-bit OS. Some post-processing features may run more quickly.</p>
</li>
<li>
<p><code>-DENABLE_DRM=1</code> or <code>-DENABLE_DRM=0</code> - this enables or disables the DRM/KMS preview rendering. This is what implements the preview window when X Windows is not running.</p>
</li>
<li>
<p><code>-DENABLE_X11=1</code> or <code>-DENABLE_X11=0</code> - this enables or disables the X Windows based preview. You should disable this if your system does not have X Windows installed.</p>
</li>
<li>
<p><code>-DENABLE_QT=1</code> or <code>-DENABLE_QT=0</code> - this enables or disables support for the Qt-based implementation of the preview window. You should disable it if you do not have X Windows installed, or if you have no intention of using the Qt-based preview window. The Qt-based preview is normally not recommended because it is computationally very expensive, however it does work with X display forwarding.</p>
</li>
<li>
<p><code>-DENABLE_OPENCV=1</code> or <code>-DENABLE_OPENCV=0</code> - you may choose one of these to force OpenCV-based post-processing stages to be linked (or not). If you enable them, then OpenCV must be installed on your system. Normally they will be built by default if OpenCV is available.</p>
</li>
<li>
<p><code>-DENABLE_TFLITE=1</code> or <code>-DENABLE_TFLITE=0</code> - choose one of these to enable TensorFlow Lite post-processing stages (or not). By default they will not be enabled. If you enable them then TensorFlow Lite must be available on your system. Depending on how you have built and/or installed TFLite, you may need to tweak the <code>CMakeLists.txt</code> file in the <code>post_processing_stages</code> directory.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>For Raspberry Pi OS users we recommend the following <code>cmake</code> command:</p>
</div>
<div class="listingblock">
<button class="copy-button hidden" aria-label="copy code to clipboard" type="button" aria-hidden="true"><div class="copy-button-inner">
<svg xmlns="http://www.w3.org/2000/svg" id="Layer_1" data-name="Layer 1" viewBox="0 0 12 12"><rect x="1" y="6" width="5" height="1"></rect><path d="M10,1H8A1,1,0,0,0,7,0H6A1,1,0,0,0,5,1H3A1,1,0,0,0,2,2V5H3V2H4V3H9V2h1v9H3V8H2v3a1,1,0,0,0,1,1h7a1,1,0,0,0,1-1V2A1,1,0,0,0,10,1ZM6.5,2.25a.75.75,0,1,1,.75-.75A.76.76,0,0,1,6.5,2.25Z"></path><path d="M6.32,6.32,4.43,4.43A.25.25,0,0,0,4,4.6V8.4a.25.25,0,0,0,.43.17L6.32,6.68A.25.25,0,0,0,6.32,6.32Z"></path></svg><strong class="copy-button-label"></strong><span class="tooltip hidden"> Copy to Clipboard</span>
</div></button>
<div class="content">
<pre>cmake .. -DENABLE_DRM=1 -DENABLE_X11=1 -DENABLE_QT=1 -DENABLE_OPENCV=0 -DENABLE_TFLITE=0</pre>
</div>
</div>
<div class="paragraph">
<p>and for Raspberry Pi OS Lite users:</p>
</div>
<div class="listingblock">
<button class="copy-button hidden" aria-label="copy code to clipboard" type="button" aria-hidden="true"><div class="copy-button-inner">
<svg xmlns="http://www.w3.org/2000/svg" id="Layer_1" data-name="Layer 1" viewBox="0 0 12 12"><rect x="1" y="6" width="5" height="1"></rect><path d="M10,1H8A1,1,0,0,0,7,0H6A1,1,0,0,0,5,1H3A1,1,0,0,0,2,2V5H3V2H4V3H9V2h1v9H3V8H2v3a1,1,0,0,0,1,1h7a1,1,0,0,0,1-1V2A1,1,0,0,0,10,1ZM6.5,2.25a.75.75,0,1,1,.75-.75A.76.76,0,0,1,6.5,2.25Z"></path><path d="M6.32,6.32,4.43,4.43A.25.25,0,0,0,4,4.6V8.4a.25.25,0,0,0,.43.17L6.32,6.68A.25.25,0,0,0,6.32,6.32Z"></path></svg><strong class="copy-button-label"></strong><span class="tooltip hidden"> Copy to Clipboard</span>
</div></button>
<div class="content">
<pre>cmake .. -DENABLE_DRM=1 -DENABLE_X11=0 -DENABLE_QT=0 -DENABLE_OPENCV=0 -DENABLE_TFLITE=0</pre>
</div>
</div>
<div class="paragraph">
<p>In both cases, consider <code>-DENABLE_COMPILE_FLAGS_FOR_TARGET=armv8-neon</code> if you are using a 32-bit OS on a Raspberry Pi 3 or Raspberry Pi 4. Consider <code>-DENABLE_OPENCV=1</code> if you have installed <em>OpenCV</em> and wish to use OpenCV-based post-processing stages. Finally also consider <code>-DENABLE_TFLITE=1</code> if you have installed <em>TensorFlow Lite</em> and wish to use it in post-processing stages.</p>
</div>
<div class="paragraph">
<p>After executing the <code>cmake</code> command of your choice, the whole process concludes with the following:</p>
</div>
<div class="listingblock">
<button class="copy-button hidden" aria-label="copy code to clipboard" type="button" aria-hidden="true"><div class="copy-button-inner">
<svg xmlns="http://www.w3.org/2000/svg" id="Layer_1" data-name="Layer 1" viewBox="0 0 12 12"><rect x="1" y="6" width="5" height="1"></rect><path d="M10,1H8A1,1,0,0,0,7,0H6A1,1,0,0,0,5,1H3A1,1,0,0,0,2,2V5H3V2H4V3H9V2h1v9H3V8H2v3a1,1,0,0,0,1,1h7a1,1,0,0,0,1-1V2A1,1,0,0,0,10,1ZM6.5,2.25a.75.75,0,1,1,.75-.75A.76.76,0,0,1,6.5,2.25Z"></path><path d="M6.32,6.32,4.43,4.43A.25.25,0,0,0,4,4.6V8.4a.25.25,0,0,0,.43.17L6.32,6.68A.25.25,0,0,0,6.32,6.32Z"></path></svg><strong class="copy-button-label"></strong><span class="tooltip hidden"> Copy to Clipboard</span>
</div></button>
<div class="content">
<pre>make -j4  # use -j1 on Raspberry Pi 3 or earlier devices
sudo make install
sudo ldconfig # this is only necessary on the first build</pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tbody><tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
If you are using an image where <code>libcamera-apps</code> have been previously installed as an <code>apt</code> package, and you want to run the new <code>libcamera-apps</code> executables from the same terminal window where you have just built and installed them, you may need to run <code>hash -r</code> to be sure to pick up the new ones over the system supplied ones.
</td>
</tr>
</tbody></table>
</div>
<div class="paragraph">
<p>Finally, if you have not already done so, please be sure to follow the <code>dtoverlay</code> and display driver instructions in the  <a href="https://www.raspberrypi.com/documentation/accessories/camera.html#getting-started">Getting Started section</a> (and rebooting if you changed anything there).</p>
</div>
</div>
</div>
<div class="sect2">
<div name="understanding-and-writing-your-own-apps" data-unique="understanding-and-writing-your-own-apps"></div><h3 id="understanding-and-writing-your-own-apps">
<a class="anchor" href="https://www.raspberrypi.com/documentation/accessories/camera.html#understanding-and-writing-your-own-apps"></a>Understanding and Writing your own Apps</h3>
<div class="paragraph">
<p><code>libcamera-apps</code> are not supposed to be a full set of all the applications with all the features that anyone could ever need. Instead, they are supposed to be easy to understand, such that users who require slightly different behaviour can implement it for themselves.</p>
</div>
<div class="paragraph">
<p>All the applications work by having a simple event loop which receives a message with a new set of frames from the camera system. This set of frames is called a <code>CompletedRequest</code>. It contains all the images that have been derived from that single camera frame (so perhaps a low resolution image in addition to the full size output), as well as metadata from the camera system and further metadata from the post-processing system.</p>
</div>
<div class="sect3">
<h4 id="libcamera-hello-2">
<a class="anchor" href="https://www.raspberrypi.com/documentation/accessories/camera.html#libcamera-hello-2"></a><code>libcamera-hello</code>
</h4>
<div class="paragraph">
<p><code>libcamera-hello</code> is much the easiest application to understand. The only thing it does with the camera images is extract the <code>CompletedRequestPtr</code> (a shared pointer to the <code>CompletedRequest</code>) from the message:</p>
</div>
<div class="listingblock">
<button class="copy-button hidden" aria-label="copy code to clipboard" type="button" aria-hidden="true"><div class="copy-button-inner">
<svg xmlns="http://www.w3.org/2000/svg" id="Layer_1" data-name="Layer 1" viewBox="0 0 12 12"><rect x="1" y="6" width="5" height="1"></rect><path d="M10,1H8A1,1,0,0,0,7,0H6A1,1,0,0,0,5,1H3A1,1,0,0,0,2,2V5H3V2H4V3H9V2h1v9H3V8H2v3a1,1,0,0,0,1,1h7a1,1,0,0,0,1-1V2A1,1,0,0,0,10,1ZM6.5,2.25a.75.75,0,1,1,.75-.75A.76.76,0,0,1,6.5,2.25Z"></path><path d="M6.32,6.32,4.43,4.43A.25.25,0,0,0,4,4.6V8.4a.25.25,0,0,0,.43.17L6.32,6.68A.25.25,0,0,0,6.32,6.32Z"></path></svg><strong class="copy-button-label"></strong><span class="tooltip hidden"> Copy to Clipboard</span>
</div></button>
<div class="content">
<pre>	CompletedRequestPtr &amp;completed_request = std::get&lt;CompletedRequestPtr&gt;(msg.payload);</pre>
</div>
</div>
<div class="paragraph">
<p>and forward it to the preview window:</p>
</div>
<div class="listingblock">
<button class="copy-button hidden" aria-label="copy code to clipboard" type="button" aria-hidden="true"><div class="copy-button-inner">
<svg xmlns="http://www.w3.org/2000/svg" id="Layer_1" data-name="Layer 1" viewBox="0 0 12 12"><rect x="1" y="6" width="5" height="1"></rect><path d="M10,1H8A1,1,0,0,0,7,0H6A1,1,0,0,0,5,1H3A1,1,0,0,0,2,2V5H3V2H4V3H9V2h1v9H3V8H2v3a1,1,0,0,0,1,1h7a1,1,0,0,0,1-1V2A1,1,0,0,0,10,1ZM6.5,2.25a.75.75,0,1,1,.75-.75A.76.76,0,0,1,6.5,2.25Z"></path><path d="M6.32,6.32,4.43,4.43A.25.25,0,0,0,4,4.6V8.4a.25.25,0,0,0,.43.17L6.32,6.68A.25.25,0,0,0,6.32,6.32Z"></path></svg><strong class="copy-button-label"></strong><span class="tooltip hidden"> Copy to Clipboard</span>
</div></button>
<div class="content">
<pre>	app.ShowPreview(completed_request, app.ViewfinderStream());</pre>
</div>
</div>
<div class="paragraph">
<p>One important thing to note is that every <code>CompletedRequest</code> must be recycled back to the camera system so that the buffers can be reused, otherwise it will simply run out of buffers in which to receive new camera frames. This recycling process happens automatically when all references to the <code>CompletedRequest</code> are dropped, using C++'s <em>shared pointer</em> and <em>custom deleter</em> mechanisms.</p>
</div>
<div class="paragraph">
<p>In <code>libcamera-hello</code> therefore, two things must happen for the <code>CompletedRequest</code> to be returned to the camera.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>The event loop must go round again so that the message (<code>msg</code> in the code), which is holding a reference to the shared pointer, is dropped.</p>
</li>
<li>
<p>The preview thread, which takes another reference to the <code>CompletedRequest</code> when <code>ShowPreview</code> is called, must be called again with a new <code>CompletedRequest</code>, causing the previous one to be dropped.</p>
</li>
</ol>
</div>
</div>
<div class="sect3">
<h4 id="libcamera-vid-2">
<a class="anchor" href="https://www.raspberrypi.com/documentation/accessories/camera.html#libcamera-vid-2"></a><code>libcamera-vid</code>
</h4>
<div class="paragraph">
<p><code>libcamera-vid</code> is not unlike <code>libcamera-hello</code>, but it adds a codec to the event loop and the preview. Before the event loop starts, we must configure that encoder with a callback which says what happens to the buffer containing the encoded image data.</p>
</div>
<div class="listingblock">
<button class="copy-button hidden" aria-label="copy code to clipboard" type="button" aria-hidden="true"><div class="copy-button-inner">
<svg xmlns="http://www.w3.org/2000/svg" id="Layer_1" data-name="Layer 1" viewBox="0 0 12 12"><rect x="1" y="6" width="5" height="1"></rect><path d="M10,1H8A1,1,0,0,0,7,0H6A1,1,0,0,0,5,1H3A1,1,0,0,0,2,2V5H3V2H4V3H9V2h1v9H3V8H2v3a1,1,0,0,0,1,1h7a1,1,0,0,0,1-1V2A1,1,0,0,0,10,1ZM6.5,2.25a.75.75,0,1,1,.75-.75A.76.76,0,0,1,6.5,2.25Z"></path><path d="M6.32,6.32,4.43,4.43A.25.25,0,0,0,4,4.6V8.4a.25.25,0,0,0,.43.17L6.32,6.68A.25.25,0,0,0,6.32,6.32Z"></path></svg><strong class="copy-button-label"></strong><span class="tooltip hidden"> Copy to Clipboard</span>
</div></button>
<div class="content">
<pre>	app.SetEncodeOutputReadyCallback(std::bind(&amp;Output::OutputReady, output.get(), _1, _2, _3, _4));</pre>
</div>
</div>
<div class="paragraph">
<p>Here we send the buffer to the <code>Output</code> object which may write it to a file, or send it over the network, according to our choice when we started the application.</p>
</div>
<div class="paragraph">
<p>The encoder also takes a new reference to the <code>CompletedRequest</code>, so once the event loop, the preview window and the encoder all drop their references, the <code>CompletedRequest</code> will be recycled automatically back to the camera system.</p>
</div>
</div>
<div class="sect3">
<h4 id="libcamera-raw-2">
<a class="anchor" href="https://www.raspberrypi.com/documentation/accessories/camera.html#libcamera-raw-2"></a><code>libcamera-raw</code>
</h4>
<div class="paragraph">
<p><code>libcamera-raw</code> is not so very different from <code>libcamera-vid</code>. It too uses an encoder, although this time it is a "dummy" encoder called the <code>NullEncoder</code>. This just treats the input image directly as the output buffer and is careful not to drop its reference to the input until the output callback has dealt with it first.</p>
</div>
<div class="paragraph">
<p>This time, however, we do not forward anything to the preview window, though we could have displayed the (processed) video stream if we had wanted.</p>
</div>
<div class="paragraph">
<p>The use of the <code>NullEncoder</code> is possibly overkill in this application, as we could probably just send the image straight to the <code>Output</code> object. However, it serves to underline the general principle that it is normally a bad idea to do too much work directly in the event loop, and time-consuming processes are often better left to other threads.</p>
</div>
</div>
<div class="sect3">
<h4 id="libcamera-jpeg-2">
<a class="anchor" href="https://www.raspberrypi.com/documentation/accessories/camera.html#libcamera-jpeg-2"></a><code>libcamera-jpeg</code>
</h4>
<div class="paragraph">
<p>We discuss <code>libcamera-jpeg</code> rather than <code>libcamera-still</code> as the basic idea (that of switching the camera from preview into capture mode) is the same, and <code>libcamera-jpeg</code> has far fewer additional options (such as timelapse capture) that serve to distract from the basic function.</p>
</div>
<div class="paragraph">
<p><code>libcamera-jpeg</code> starts the camera in preview mode in the usual way, but at the appropriate moment stops it and switches to still capture:</p>
</div>
<div class="listingblock">
<button class="copy-button hidden" aria-label="copy code to clipboard" type="button" aria-hidden="true"><div class="copy-button-inner">
<svg xmlns="http://www.w3.org/2000/svg" id="Layer_1" data-name="Layer 1" viewBox="0 0 12 12"><rect x="1" y="6" width="5" height="1"></rect><path d="M10,1H8A1,1,0,0,0,7,0H6A1,1,0,0,0,5,1H3A1,1,0,0,0,2,2V5H3V2H4V3H9V2h1v9H3V8H2v3a1,1,0,0,0,1,1h7a1,1,0,0,0,1-1V2A1,1,0,0,0,10,1ZM6.5,2.25a.75.75,0,1,1,.75-.75A.76.76,0,0,1,6.5,2.25Z"></path><path d="M6.32,6.32,4.43,4.43A.25.25,0,0,0,4,4.6V8.4a.25.25,0,0,0,.43.17L6.32,6.68A.25.25,0,0,0,6.32,6.32Z"></path></svg><strong class="copy-button-label"></strong><span class="tooltip hidden"> Copy to Clipboard</span>
</div></button>
<div class="content">
<pre>	app.StopCamera();
	app.Teardown();
	app.ConfigureStill();
	app.StartCamera();</pre>
</div>
</div>
<div class="paragraph">
<p>Then the event loop will grab the first frame that emerges once its no longer in preview mode, and saves this as a JPEG.</p>
</div>
</div>
</div>
<div class="sect2">
<div name="python-bindings-for-libcamera" data-unique="python-bindings-for-libcamera"></div><h3 id="python-bindings-for-libcamera">
<a class="anchor" href="https://www.raspberrypi.com/documentation/accessories/camera.html#python-bindings-for-libcamera"></a>Python Bindings for <code>libcamera</code>
</h3>
<div class="paragraph">
<p>Python bindings for <code>libcamera</code> are currently in development.</p>
</div>
<div class="paragraph">
<p>Full working examples will be provided here.</p>
</div>
</div>
<div class="sect2">
<div name="camera-tuning-and-supporting-3rd-party-sensors" data-unique="camera-tuning-and-supporting-3rd-party-sensors"></div><h3 id="camera-tuning-and-supporting-3rd-party-sensors">
<a class="anchor" href="https://www.raspberrypi.com/documentation/accessories/camera.html#camera-tuning-and-supporting-3rd-party-sensors"></a>Camera Tuning and supporting 3rd Party Sensors</h3>
<div class="sect3">
<h4 id="the-camera-tuning-file">
<a class="anchor" href="https://www.raspberrypi.com/documentation/accessories/camera.html#the-camera-tuning-file"></a>The Camera Tuning File</h4>
<div class="paragraph">
<p>Most of the image processing applied to frames from the sensor is done by the hardware ISP (Image Signal Processor). This processing is governed by a set of <em>control algorithms</em> and these in turn must have a wide range of parameters supplied to them. These parameters are tuned specifically for each sensor and are collected together in a JSON file known as the <em>camera tuning file</em>.</p>
</div>
<div class="paragraph">
<p>This <em>tuning file</em> can be inspected and edited by users. Using the <code>--tuning-file</code> command line option, users can point the system at completely custom camera tuning files.</p>
</div>
</div>
<div class="sect3">
<h4 id="3rd-party-sensors">
<a class="anchor" href="https://www.raspberrypi.com/documentation/accessories/camera.html#3rd-party-sensors"></a>3rd Party Sensors</h4>
<div class="paragraph">
<p><code>libcamera</code> makes it possible to support 3rd party sensors (that is, sensors other than Raspberry Pis officially supported sensors) on the Raspberry Pi platform. To accomplish this, a working open source sensor driver must be provided, which the authors are happy to submit to the Linux kernel. There are a couple of extra files need to be added to <code>libcamera</code> which supply device-specific information that is available from the kernel drivers, including the previously discussed camera tuning file.</p>
</div>
<div class="paragraph">
<p>Raspberry Pi also supplies a <em>tuning tool</em> which automates the generation of the tuning file from a few simple calibration images.</p>
</div>
<div class="paragraph">
<p>Both these topics are rather beyond the scope of the documentation here, however, full information is available in the <a href="https://datasheets.raspberrypi.com/camera/raspberry-pi-camera-guide.pdf">Tuning Guide for the Raspberry Pi cameras and libcamera</a>.</p>
</div>
</div>
</div>
<div class="sect2">
<div name="known-issues" data-unique="known-issues"></div><h3 id="known-issues">
<a class="anchor" href="https://www.raspberrypi.com/documentation/accessories/camera.html#known-issues"></a>Known Issues</h3>
<div class="paragraph">
<p>We are aware of the following issues in <code>libcamera</code> and <code>libcamera-apps</code>.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>On Raspberry Pi 3 (and earlier devices) the graphics hardware can only support images up to 2048x2048 pixels which places a limit on the camera images that can be resized into the preview window. In practice this means that video encoding of images larger than 2048 pixels across (which would necessarily be using a codec other than h.264) will not support, or will produce corrupted, preview images. For Raspberry Pi 4 the limit is 4096 pixels. We would recommend using the <code>-n</code> (no preview) option for the time being.</p>
</li>
<li>
<p>The preview window shows some display tearing when using X windows. This is not likely to be fixable.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<div name="getting-help" data-unique="getting-help"></div><h3 id="getting-help">
<a class="anchor" href="https://www.raspberrypi.com/documentation/accessories/camera.html#getting-help"></a>Getting Help</h3>
<div class="paragraph">
<p>For further help with <code>libcamera</code> and the <code>libcamera-apps</code>, the first port of call will usually be the <a href="https://forums.raspberrypi.com/viewforum.php?f=43">Raspberry Pi Camera Forum</a>. Before posting, its helpful to:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Ensure your <a href="https://www.raspberrypi.com/documentation/computers/os.html#using-apt">software is up to date</a>.</p>
</li>
<li>
<p>If you are using <em>Buster</em>  or an earlier version of Raspberry Pi OS where you have had to build <code>libcamera</code> and <code>libcamera-apps</code> for yourself, or indeed if you are using a later version but have built them for yourself anyway, then you may need to update those <em>git</em> repositories and repeat the build process.</p>
</li>
<li>
<p>Make a note of your operating system version (<code>uname -a</code>).</p>
</li>
<li>
<p>Make a note of your <code>libcamera</code> and <code>libcamera-apps</code> versions (<code>libcamera-hello --version</code>).</p>
</li>
<li>
<p>Please report the make and model of the camera module you are using. Note that when third party camera module vendors supply their own software then we are normally unable to offer any support and all queries should be directed back to the vendor.</p>
</li>
<li>
<p>Please also provide information on what kind of a Raspberry Pi you have, including memory size.</p>
</li>
<li>
<p>If it seems like it might be relevant, please include any excerpts from the applications console output.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>When it seems likely that there are specific problems in the camera software (such as crashes) then it may be more appropriate to <a href="https://github.com/raspberrypi/libcamera-apps">create an issue in the <code>libcamera-apps</code> Github repository</a>. Again, please include all the helpful details that you can.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<div name="raspicam-commands" data-unique="raspicam-commands"></div><h2 id="raspicam-commands">
<a class="anchor" href="https://www.raspberrypi.com/documentation/accessories/camera.html#raspicam-commands"></a>Raspicam commands</h2>
<div class="sectionbody">
<div class="paragraph edit-link">
<p>Edit this <a href="https://github.com/raspberrypi/documentation/blob/develop/documentation/asciidoc/accessories/camera/raspicam.adoc">on GitHub</a></p>
</div>
<div class="paragraph">
<p><code>raspistill</code>, <code>raspivid</code> and <code>raspiyuv</code> are command line tools for using the camera module.</p>
</div>
<div class="sect2">
<div name="enabling-the-camera" data-unique="enabling-the-camera"></div><h3 id="enabling-the-camera">
<a class="anchor" href="https://www.raspberrypi.com/documentation/accessories/camera.html#enabling-the-camera"></a>Enabling the Camera</h3>
<div class="paragraph">
<p>Before using any of the <em>Raspicam</em> applications, the camera must be enabled.</p>
</div>
<div class="sect3">
<h4 id="on-the-desktop">
<a class="anchor" href="https://www.raspberrypi.com/documentation/accessories/camera.html#on-the-desktop"></a>On the desktop</h4>
<div class="paragraph">
<p>Select <code>Preferences</code> and <code>Raspberry Pi Configuration</code> from the desktop menu: a window will appear. Select the <code>Interfaces</code> tab, then click on the <code>enable camera</code> option. Click <code>OK</code>. You will need to reboot for the changes to take effect.</p>
</div>
</div>
<div class="sect3">
<h4 id="with-the-command-line">
<a class="anchor" href="https://www.raspberrypi.com/documentation/accessories/camera.html#with-the-command-line"></a>With the command line</h4>
<div class="paragraph">
<p>Open the <code>raspi-config</code> tool from the terminal:</p>
</div>
<div class="listingblock">
<button class="copy-button hidden" aria-label="copy code to clipboard" type="button" aria-hidden="true"><div class="copy-button-inner">
<svg xmlns="http://www.w3.org/2000/svg" id="Layer_1" data-name="Layer 1" viewBox="0 0 12 12"><rect x="1" y="6" width="5" height="1"></rect><path d="M10,1H8A1,1,0,0,0,7,0H6A1,1,0,0,0,5,1H3A1,1,0,0,0,2,2V5H3V2H4V3H9V2h1v9H3V8H2v3a1,1,0,0,0,1,1h7a1,1,0,0,0,1-1V2A1,1,0,0,0,10,1ZM6.5,2.25a.75.75,0,1,1,.75-.75A.76.76,0,0,1,6.5,2.25Z"></path><path d="M6.32,6.32,4.43,4.43A.25.25,0,0,0,4,4.6V8.4a.25.25,0,0,0,.43.17L6.32,6.68A.25.25,0,0,0,6.32,6.32Z"></path></svg><strong class="copy-button-label"></strong><span class="tooltip hidden"> Copy to Clipboard</span>
</div></button>
<div class="content">
<pre class="highlight"><code class="language-bash" data-lang="bash">sudo raspi-config</code></pre>
</div>
</div>
<div class="paragraph">
<p>Select <code>Interfacing Options</code> then <code>Camera</code> and press <code>Enter</code>. Choose <code>Yes</code> then <code>Ok</code>. Go to <code>Finish</code> and youll be prompted to reboot.</p>
</div>
<div class="paragraph">
<p>To test that the system is installed and working, try the following command:</p>
</div>
<div class="listingblock">
<button class="copy-button hidden" aria-label="copy code to clipboard" type="button" aria-hidden="true"><div class="copy-button-inner">
<svg xmlns="http://www.w3.org/2000/svg" id="Layer_1" data-name="Layer 1" viewBox="0 0 12 12"><rect x="1" y="6" width="5" height="1"></rect><path d="M10,1H8A1,1,0,0,0,7,0H6A1,1,0,0,0,5,1H3A1,1,0,0,0,2,2V5H3V2H4V3H9V2h1v9H3V8H2v3a1,1,0,0,0,1,1h7a1,1,0,0,0,1-1V2A1,1,0,0,0,10,1ZM6.5,2.25a.75.75,0,1,1,.75-.75A.76.76,0,0,1,6.5,2.25Z"></path><path d="M6.32,6.32,4.43,4.43A.25.25,0,0,0,4,4.6V8.4a.25.25,0,0,0,.43.17L6.32,6.68A.25.25,0,0,0,6.32,6.32Z"></path></svg><strong class="copy-button-label"></strong><span class="tooltip hidden"> Copy to Clipboard</span>
</div></button>
<div class="content">
<pre class="highlight"><code class="language-bash" data-lang="bash">raspistill -v -o test.jpg</code></pre>
</div>
</div>
<div class="paragraph">
<p>The display should show a five-second preview from the camera and then take a picture, saved to the file <code>test.jpg</code>, whilst displaying various informational messages.</p>
</div>
</div>
</div>
<div class="sect2">
<div name="raspistill" data-unique="raspistill"></div><h3 id="raspistill">
<a class="anchor" href="https://www.raspberrypi.com/documentation/accessories/camera.html#raspistill"></a><code>raspistill</code>
</h3>
<div class="paragraph">
<p><code>raspistill</code> is the command line tool for capturing still photographs with a Raspberry Pi camera module.</p>
</div>
<div class="sect3">
<h4 id="basic-usage-of-raspistill">
<a class="anchor" href="https://www.raspberrypi.com/documentation/accessories/camera.html#basic-usage-of-raspistill"></a>Basic usage of raspistill</h4>
<div class="paragraph">
<p>With a camera module <a href="https://www.raspberrypi.com/documentation/accessories/camera.html#camera-modules">connected and enabled</a>, enter the following command in the terminal to take a picture:</p>
</div>
<div class="listingblock">
<button class="copy-button hidden" aria-label="copy code to clipboard" type="button" aria-hidden="true"><div class="copy-button-inner">
<svg xmlns="http://www.w3.org/2000/svg" id="Layer_1" data-name="Layer 1" viewBox="0 0 12 12"><rect x="1" y="6" width="5" height="1"></rect><path d="M10,1H8A1,1,0,0,0,7,0H6A1,1,0,0,0,5,1H3A1,1,0,0,0,2,2V5H3V2H4V3H9V2h1v9H3V8H2v3a1,1,0,0,0,1,1h7a1,1,0,0,0,1-1V2A1,1,0,0,0,10,1ZM6.5,2.25a.75.75,0,1,1,.75-.75A.76.76,0,0,1,6.5,2.25Z"></path><path d="M6.32,6.32,4.43,4.43A.25.25,0,0,0,4,4.6V8.4a.25.25,0,0,0,.43.17L6.32,6.68A.25.25,0,0,0,6.32,6.32Z"></path></svg><strong class="copy-button-label"></strong><span class="tooltip hidden"> Copy to Clipboard</span>
</div></button>
<div class="content">
<pre class="highlight"><code class="language-bash" data-lang="bash">raspistill -o cam.jpg</code></pre>
</div>
</div>
<div class="imageblock">
<div class="content">
<img src="./Raspberry Pi Documentation - Camera_files/cam.jpg" alt="Upside-down photo">
</div>
</div>
<div class="paragraph">
<p>In this example the camera has been positioned upside-down. If the camera is placed in this position, the image must be flipped to appear the right way up.</p>
</div>
</div>
<div class="sect3">
<h4 id="vertical-flip-and-horizontal-flip">
<a class="anchor" href="https://www.raspberrypi.com/documentation/accessories/camera.html#vertical-flip-and-horizontal-flip"></a>Vertical flip and horizontal flip</h4>
<div class="paragraph">
<p>With the camera placed upside-down, the image must be rotated 180 to be displayed correctly. The way to correct for this is to apply both a vertical and a horizontal flip by passing in the <code>-vf</code> and <code>-hf</code> flags:</p>
</div>
<div class="listingblock">
<button class="copy-button hidden" aria-label="copy code to clipboard" type="button" aria-hidden="true"><div class="copy-button-inner">
<svg xmlns="http://www.w3.org/2000/svg" id="Layer_1" data-name="Layer 1" viewBox="0 0 12 12"><rect x="1" y="6" width="5" height="1"></rect><path d="M10,1H8A1,1,0,0,0,7,0H6A1,1,0,0,0,5,1H3A1,1,0,0,0,2,2V5H3V2H4V3H9V2h1v9H3V8H2v3a1,1,0,0,0,1,1h7a1,1,0,0,0,1-1V2A1,1,0,0,0,10,1ZM6.5,2.25a.75.75,0,1,1,.75-.75A.76.76,0,0,1,6.5,2.25Z"></path><path d="M6.32,6.32,4.43,4.43A.25.25,0,0,0,4,4.6V8.4a.25.25,0,0,0,.43.17L6.32,6.68A.25.25,0,0,0,6.32,6.32Z"></path></svg><strong class="copy-button-label"></strong><span class="tooltip hidden"> Copy to Clipboard</span>
</div></button>
<div class="content">
<pre class="highlight"><code class="language-bash" data-lang="bash">raspistill -vf -hf -o cam2.jpg</code></pre>
</div>
</div>
<div class="imageblock">
<div class="content">
<img src="./Raspberry Pi Documentation - Camera_files/cam2.jpg" alt="Vertical and horizontal flipped photo">
</div>
</div>
<div class="paragraph">
<p>Now the photo has been captured correctly.</p>
</div>
</div>
<div class="sect3">
<h4 id="resolution">
<a class="anchor" href="https://www.raspberrypi.com/documentation/accessories/camera.html#resolution"></a>Resolution</h4>
<div class="paragraph">
<p>The camera module takes pictures at a resolution of <code>2592 x 1944</code> which is 5,038,848 pixels or 5 megapixels.</p>
</div>
</div>
<div class="sect3">
<h4 id="file-size">
<a class="anchor" href="https://www.raspberrypi.com/documentation/accessories/camera.html#file-size"></a>File size</h4>
<div class="paragraph">
<p>A photo taken with the camera module will be around 2.4MB. This is about 425 photos per GB.</p>
</div>
<div class="paragraph">
<p>Taking 1 photo per minute would take up 1GB in about 7 hours. This is a rate of about 144MB per hour or 3.3GB per day.</p>
</div>
</div>
<div class="sect3">
<h4 id="bash-script">
<a class="anchor" href="https://www.raspberrypi.com/documentation/accessories/camera.html#bash-script"></a>Bash script</h4>
<div class="paragraph">
<p>You can create a Bash script which takes a picture with the camera. To create a script, open up your editor of choice and write the following example code:</p>
</div>
<div class="listingblock">
<button class="copy-button hidden" aria-label="copy code to clipboard" type="button" aria-hidden="true"><div class="copy-button-inner">
<svg xmlns="http://www.w3.org/2000/svg" id="Layer_1" data-name="Layer 1" viewBox="0 0 12 12"><rect x="1" y="6" width="5" height="1"></rect><path d="M10,1H8A1,1,0,0,0,7,0H6A1,1,0,0,0,5,1H3A1,1,0,0,0,2,2V5H3V2H4V3H9V2h1v9H3V8H2v3a1,1,0,0,0,1,1h7a1,1,0,0,0,1-1V2A1,1,0,0,0,10,1ZM6.5,2.25a.75.75,0,1,1,.75-.75A.76.76,0,0,1,6.5,2.25Z"></path><path d="M6.32,6.32,4.43,4.43A.25.25,0,0,0,4,4.6V8.4a.25.25,0,0,0,.43.17L6.32,6.68A.25.25,0,0,0,6.32,6.32Z"></path></svg><strong class="copy-button-label"></strong><span class="tooltip hidden"> Copy to Clipboard</span>
</div></button>
<div class="content">
<pre class="highlight"><code class="language-bash" data-lang="bash">#!/bin/bash

DATE=$(date +"%Y-%m-%d_%H%M")

raspistill -vf -hf -o /home/pi/camera/$DATE.jpg</code></pre>
</div>
</div>
<div class="paragraph">
<p>This script will take a picture and name the file with a timestamp.</p>
</div>
<div class="paragraph">
<p>Youll also need to make sure the path exists by creating the <code>camera</code> folder:</p>
</div>
<div class="listingblock">
<button class="copy-button hidden" aria-label="copy code to clipboard" type="button" aria-hidden="true"><div class="copy-button-inner">
<svg xmlns="http://www.w3.org/2000/svg" id="Layer_1" data-name="Layer 1" viewBox="0 0 12 12"><rect x="1" y="6" width="5" height="1"></rect><path d="M10,1H8A1,1,0,0,0,7,0H6A1,1,0,0,0,5,1H3A1,1,0,0,0,2,2V5H3V2H4V3H9V2h1v9H3V8H2v3a1,1,0,0,0,1,1h7a1,1,0,0,0,1-1V2A1,1,0,0,0,10,1ZM6.5,2.25a.75.75,0,1,1,.75-.75A.76.76,0,0,1,6.5,2.25Z"></path><path d="M6.32,6.32,4.43,4.43A.25.25,0,0,0,4,4.6V8.4a.25.25,0,0,0,.43.17L6.32,6.68A.25.25,0,0,0,6.32,6.32Z"></path></svg><strong class="copy-button-label"></strong><span class="tooltip hidden"> Copy to Clipboard</span>
</div></button>
<div class="content">
<pre class="highlight"><code class="language-bash" data-lang="bash">mkdir camera</code></pre>
</div>
</div>
<div class="paragraph">
<p>Say we saved it as <code>camera.sh</code>, we would first make the file executable:</p>
</div>
<div class="listingblock">
<button class="copy-button hidden" aria-label="copy code to clipboard" type="button" aria-hidden="true"><div class="copy-button-inner">
<svg xmlns="http://www.w3.org/2000/svg" id="Layer_1" data-name="Layer 1" viewBox="0 0 12 12"><rect x="1" y="6" width="5" height="1"></rect><path d="M10,1H8A1,1,0,0,0,7,0H6A1,1,0,0,0,5,1H3A1,1,0,0,0,2,2V5H3V2H4V3H9V2h1v9H3V8H2v3a1,1,0,0,0,1,1h7a1,1,0,0,0,1-1V2A1,1,0,0,0,10,1ZM6.5,2.25a.75.75,0,1,1,.75-.75A.76.76,0,0,1,6.5,2.25Z"></path><path d="M6.32,6.32,4.43,4.43A.25.25,0,0,0,4,4.6V8.4a.25.25,0,0,0,.43.17L6.32,6.68A.25.25,0,0,0,6.32,6.32Z"></path></svg><strong class="copy-button-label"></strong><span class="tooltip hidden"> Copy to Clipboard</span>
</div></button>
<div class="content">
<pre class="highlight"><code class="language-bash" data-lang="bash">chmod +x camera.sh</code></pre>
</div>
</div>
<div class="paragraph">
<p>Then run with:</p>
</div>
<div class="listingblock">
<button class="copy-button hidden" aria-label="copy code to clipboard" type="button" aria-hidden="true"><div class="copy-button-inner">
<svg xmlns="http://www.w3.org/2000/svg" id="Layer_1" data-name="Layer 1" viewBox="0 0 12 12"><rect x="1" y="6" width="5" height="1"></rect><path d="M10,1H8A1,1,0,0,0,7,0H6A1,1,0,0,0,5,1H3A1,1,0,0,0,2,2V5H3V2H4V3H9V2h1v9H3V8H2v3a1,1,0,0,0,1,1h7a1,1,0,0,0,1-1V2A1,1,0,0,0,10,1ZM6.5,2.25a.75.75,0,1,1,.75-.75A.76.76,0,0,1,6.5,2.25Z"></path><path d="M6.32,6.32,4.43,4.43A.25.25,0,0,0,4,4.6V8.4a.25.25,0,0,0,.43.17L6.32,6.68A.25.25,0,0,0,6.32,6.32Z"></path></svg><strong class="copy-button-label"></strong><span class="tooltip hidden"> Copy to Clipboard</span>
</div></button>
<div class="content">
<pre class="highlight"><code class="language-bash" data-lang="bash">./camera.sh</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="more-options">
<a class="anchor" href="https://www.raspberrypi.com/documentation/accessories/camera.html#more-options"></a>More options</h4>
<div class="paragraph">
<p>For a full list of possible options, run <code>raspistill</code> with no arguments. To scroll, redirect stderr to stdout and pipe the output to <code>less</code>:</p>
</div>
<div class="listingblock">
<button class="copy-button hidden" aria-label="copy code to clipboard" type="button" aria-hidden="true"><div class="copy-button-inner">
<svg xmlns="http://www.w3.org/2000/svg" id="Layer_1" data-name="Layer 1" viewBox="0 0 12 12"><rect x="1" y="6" width="5" height="1"></rect><path d="M10,1H8A1,1,0,0,0,7,0H6A1,1,0,0,0,5,1H3A1,1,0,0,0,2,2V5H3V2H4V3H9V2h1v9H3V8H2v3a1,1,0,0,0,1,1h7a1,1,0,0,0,1-1V2A1,1,0,0,0,10,1ZM6.5,2.25a.75.75,0,1,1,.75-.75A.76.76,0,0,1,6.5,2.25Z"></path><path d="M6.32,6.32,4.43,4.43A.25.25,0,0,0,4,4.6V8.4a.25.25,0,0,0,.43.17L6.32,6.68A.25.25,0,0,0,6.32,6.32Z"></path></svg><strong class="copy-button-label"></strong><span class="tooltip hidden"> Copy to Clipboard</span>
</div></button>
<div class="content">
<pre class="highlight"><code class="language-bash" data-lang="bash">raspistill 2&gt;&amp;1 | less</code></pre>
</div>
</div>
<div class="paragraph">
<p>Use the arrow keys to scroll and type <code>q</code> to exit.</p>
</div>
</div>
</div>
<div class="sect2">
<div name="raspivid" data-unique="raspivid"></div><h3 id="raspivid">
<a class="anchor" href="https://www.raspberrypi.com/documentation/accessories/camera.html#raspivid"></a><code>raspivid</code>
</h3>
<div class="paragraph">
<p><code>raspivid</code> is the command line tool for capturing video with a Raspberry Pi camera module.</p>
</div>
<div class="sect3">
<h4 id="basic-usage-of-raspivid">
<a class="anchor" href="https://www.raspberrypi.com/documentation/accessories/camera.html#basic-usage-of-raspivid"></a>Basic usage of raspivid</h4>
<div class="paragraph">
<p>With a camera module <a href="https://www.raspberrypi.com/documentation/accessories/camera.html#camera-modules">connected and enabled</a>, record a video using the following command:</p>
</div>
<div class="listingblock">
<button class="copy-button hidden" aria-label="copy code to clipboard" type="button" aria-hidden="true"><div class="copy-button-inner">
<svg xmlns="http://www.w3.org/2000/svg" id="Layer_1" data-name="Layer 1" viewBox="0 0 12 12"><rect x="1" y="6" width="5" height="1"></rect><path d="M10,1H8A1,1,0,0,0,7,0H6A1,1,0,0,0,5,1H3A1,1,0,0,0,2,2V5H3V2H4V3H9V2h1v9H3V8H2v3a1,1,0,0,0,1,1h7a1,1,0,0,0,1-1V2A1,1,0,0,0,10,1ZM6.5,2.25a.75.75,0,1,1,.75-.75A.76.76,0,0,1,6.5,2.25Z"></path><path d="M6.32,6.32,4.43,4.43A.25.25,0,0,0,4,4.6V8.4a.25.25,0,0,0,.43.17L6.32,6.68A.25.25,0,0,0,6.32,6.32Z"></path></svg><strong class="copy-button-label"></strong><span class="tooltip hidden"> Copy to Clipboard</span>
</div></button>
<div class="content">
<pre class="highlight"><code class="language-bash" data-lang="bash">raspivid -o vid.h264</code></pre>
</div>
</div>
<div class="paragraph">
<p>Remember to use <code>-hf</code> and <code>-vf</code> to flip the image if required, like with <a href="https://www.raspberrypi.com/documentation/accessories/camera.html#raspistill">raspistill</a></p>
</div>
<div class="paragraph">
<p>This will save a 5 second video file to the path given here as <code>vid.h264</code> (default length of time).</p>
</div>
</div>
<div class="sect3">
<h4 id="specify-length-of-video">
<a class="anchor" href="https://www.raspberrypi.com/documentation/accessories/camera.html#specify-length-of-video"></a>Specify length of video</h4>
<div class="paragraph">
<p>To specify the length of the video taken, pass in the <code>-t</code> flag with a number of milliseconds. For example:</p>
</div>
<div class="listingblock">
<button class="copy-button hidden" aria-label="copy code to clipboard" type="button" aria-hidden="true"><div class="copy-button-inner">
<svg xmlns="http://www.w3.org/2000/svg" id="Layer_1" data-name="Layer 1" viewBox="0 0 12 12"><rect x="1" y="6" width="5" height="1"></rect><path d="M10,1H8A1,1,0,0,0,7,0H6A1,1,0,0,0,5,1H3A1,1,0,0,0,2,2V5H3V2H4V3H9V2h1v9H3V8H2v3a1,1,0,0,0,1,1h7a1,1,0,0,0,1-1V2A1,1,0,0,0,10,1ZM6.5,2.25a.75.75,0,1,1,.75-.75A.76.76,0,0,1,6.5,2.25Z"></path><path d="M6.32,6.32,4.43,4.43A.25.25,0,0,0,4,4.6V8.4a.25.25,0,0,0,.43.17L6.32,6.68A.25.25,0,0,0,6.32,6.32Z"></path></svg><strong class="copy-button-label"></strong><span class="tooltip hidden"> Copy to Clipboard</span>
</div></button>
<div class="content">
<pre class="highlight"><code class="language-bash" data-lang="bash">raspivid -o video.h264 -t 10000</code></pre>
</div>
</div>
<div class="paragraph">
<p>This will record 10 seconds of video.</p>
</div>
</div>
<div class="sect3">
<h4 id="more-options-2">
<a class="anchor" href="https://www.raspberrypi.com/documentation/accessories/camera.html#more-options-2"></a>More options</h4>
<div class="paragraph">
<p>For a full list of possible options, run <code>raspivid</code> with no arguments, or pipe this command through <code>less</code> and scroll through:</p>
</div>
<div class="listingblock">
<button class="copy-button hidden" aria-label="copy code to clipboard" type="button" aria-hidden="true"><div class="copy-button-inner">
<svg xmlns="http://www.w3.org/2000/svg" id="Layer_1" data-name="Layer 1" viewBox="0 0 12 12"><rect x="1" y="6" width="5" height="1"></rect><path d="M10,1H8A1,1,0,0,0,7,0H6A1,1,0,0,0,5,1H3A1,1,0,0,0,2,2V5H3V2H4V3H9V2h1v9H3V8H2v3a1,1,0,0,0,1,1h7a1,1,0,0,0,1-1V2A1,1,0,0,0,10,1ZM6.5,2.25a.75.75,0,1,1,.75-.75A.76.76,0,0,1,6.5,2.25Z"></path><path d="M6.32,6.32,4.43,4.43A.25.25,0,0,0,4,4.6V8.4a.25.25,0,0,0,.43.17L6.32,6.68A.25.25,0,0,0,6.32,6.32Z"></path></svg><strong class="copy-button-label"></strong><span class="tooltip hidden"> Copy to Clipboard</span>
</div></button>
<div class="content">
<pre class="highlight"><code class="language-bash" data-lang="bash">raspivid 2&gt;&amp;1 | less</code></pre>
</div>
</div>
<div class="paragraph">
<p>Use the arrow keys to scroll and type <code>q</code> to exit.</p>
</div>
</div>
<div class="sect3">
<h4 id="mp4-video-format">
<a class="anchor" href="https://www.raspberrypi.com/documentation/accessories/camera.html#mp4-video-format"></a>MP4 Video Format</h4>
<div class="paragraph">
<p>The Raspberry Pi captures video as a raw H264 video stream. Many media players will refuse to play it, or play it at an incorrect speed, unless it is "wrapped" in a suitable container format like MP4. The easiest way to obtain an MP4 file from the raspivid command is using MP4Box.</p>
</div>
<div class="paragraph">
<p>Install MP4Box with this command:</p>
</div>
<div class="listingblock">
<button class="copy-button hidden" aria-label="copy code to clipboard" type="button" aria-hidden="true"><div class="copy-button-inner">
<svg xmlns="http://www.w3.org/2000/svg" id="Layer_1" data-name="Layer 1" viewBox="0 0 12 12"><rect x="1" y="6" width="5" height="1"></rect><path d="M10,1H8A1,1,0,0,0,7,0H6A1,1,0,0,0,5,1H3A1,1,0,0,0,2,2V5H3V2H4V3H9V2h1v9H3V8H2v3a1,1,0,0,0,1,1h7a1,1,0,0,0,1-1V2A1,1,0,0,0,10,1ZM6.5,2.25a.75.75,0,1,1,.75-.75A.76.76,0,0,1,6.5,2.25Z"></path><path d="M6.32,6.32,4.43,4.43A.25.25,0,0,0,4,4.6V8.4a.25.25,0,0,0,.43.17L6.32,6.68A.25.25,0,0,0,6.32,6.32Z"></path></svg><strong class="copy-button-label"></strong><span class="tooltip hidden"> Copy to Clipboard</span>
</div></button>
<div class="content">
<pre class="highlight"><code class="language-bash" data-lang="bash">sudo apt install -y gpac</code></pre>
</div>
</div>
<div class="paragraph">
<p>Capture your raw video with raspivid and wrap it in an MP4 container like this:</p>
</div>
<div class="listingblock">
<button class="copy-button hidden" aria-label="copy code to clipboard" type="button" aria-hidden="true"><div class="copy-button-inner">
<svg xmlns="http://www.w3.org/2000/svg" id="Layer_1" data-name="Layer 1" viewBox="0 0 12 12"><rect x="1" y="6" width="5" height="1"></rect><path d="M10,1H8A1,1,0,0,0,7,0H6A1,1,0,0,0,5,1H3A1,1,0,0,0,2,2V5H3V2H4V3H9V2h1v9H3V8H2v3a1,1,0,0,0,1,1h7a1,1,0,0,0,1-1V2A1,1,0,0,0,10,1ZM6.5,2.25a.75.75,0,1,1,.75-.75A.76.76,0,0,1,6.5,2.25Z"></path><path d="M6.32,6.32,4.43,4.43A.25.25,0,0,0,4,4.6V8.4a.25.25,0,0,0,.43.17L6.32,6.68A.25.25,0,0,0,6.32,6.32Z"></path></svg><strong class="copy-button-label"></strong><span class="tooltip hidden"> Copy to Clipboard</span>
</div></button>
<div class="content">
<pre class="highlight"><code class="language-bash" data-lang="bash"># Capture 30 seconds of raw video at 640x480 and 150kBps bit rate into a pivideo.h264 file:
raspivid -t 30000 -w 640 -h 480 -fps 25 -b 1200000 -p 0,0,640,480 -o pivideo.h264
# Wrap the raw video with an MP4 container:
MP4Box -add pivideo.h264 pivideo.mp4
# Remove the source raw file, leaving the remaining pivideo.mp4 file to play
rm pivideo.h264</code></pre>
</div>
</div>
<div class="paragraph">
<p>Alternatively, wrap MP4 around your existing raspivid output, like this:</p>
</div>
<div class="listingblock">
<button class="copy-button hidden" aria-label="copy code to clipboard" type="button" aria-hidden="true"><div class="copy-button-inner">
<svg xmlns="http://www.w3.org/2000/svg" id="Layer_1" data-name="Layer 1" viewBox="0 0 12 12"><rect x="1" y="6" width="5" height="1"></rect><path d="M10,1H8A1,1,0,0,0,7,0H6A1,1,0,0,0,5,1H3A1,1,0,0,0,2,2V5H3V2H4V3H9V2h1v9H3V8H2v3a1,1,0,0,0,1,1h7a1,1,0,0,0,1-1V2A1,1,0,0,0,10,1ZM6.5,2.25a.75.75,0,1,1,.75-.75A.76.76,0,0,1,6.5,2.25Z"></path><path d="M6.32,6.32,4.43,4.43A.25.25,0,0,0,4,4.6V8.4a.25.25,0,0,0,.43.17L6.32,6.68A.25.25,0,0,0,6.32,6.32Z"></path></svg><strong class="copy-button-label"></strong><span class="tooltip hidden"> Copy to Clipboard</span>
</div></button>
<div class="content">
<pre class="highlight"><code class="language-bash" data-lang="bash">MP4Box -add video.h264 video.mp4</code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<div name="raspiyuv" data-unique="raspiyuv"></div><h3 id="raspiyuv">
<a class="anchor" href="https://www.raspberrypi.com/documentation/accessories/camera.html#raspiyuv"></a><code>raspiyuv</code>
</h3>
<div class="paragraph">
<p><code>raspiyuv</code> has the same set of features as <code>raspistill</code> but instead of outputting standard image files such as <code>.jpg</code>s, it generates YUV420 or RGB888 image files from the output of the camera ISP.</p>
</div>
<div class="paragraph">
<p>In most cases using <code>raspistill</code> is the best option for standard image capture, but using YUV can be of benefit in certain circumstances. For example if you just need a uncompressed black and white image for computer vision applications, you can simply use the Y channel of a YUV capture.</p>
</div>
<div class="paragraph">
<p>There are some specific points about the YUV420 files that are required in order to use them correctly. Line stride (or pitch) is a multiple of 32, and each plane of YUV is a multiple of 16 in height. This can mean there may be extra pixels at the end of lines, or gaps between planes, depending on the resolution of the captured image. These gaps are unused.</p>
</div>
</div>
<div class="sect2">
<div name="troubleshooting" data-unique="troubleshooting"></div><h3 id="troubleshooting">
<a class="anchor" href="https://www.raspberrypi.com/documentation/accessories/camera.html#troubleshooting"></a>Troubleshooting</h3>
<div class="paragraph">
<p>If the Camera Module isnt working correctly, there are number of things to try:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Is the ribbon cable attached to the Camera Serial Interface (CSI), not the Display Serial Interface (DSI)? The ribbon connector will fit into either port. The Camera port is located near the HDMI connector.</p>
</li>
<li>
<p>Are the ribbon connectors all firmly seated, and are they the right way round? They must be straight in their sockets.</p>
</li>
<li>
<p>Is the Camera Module connector, between the smaller black Camera Module itself and the PCB, firmly attached? Sometimes this connection can come loose during transit or when putting the Camera Module in a case. Using a fingernail, flip up the connector on the PCB, then reconnect it with gentle pressure. It engages with a very slight click. Dont force it; if it doesnt engage, its probably slightly misaligned.</p>
</li>
<li>
<p>Have <code>sudo apt update</code> and <code>sudo apt full-upgrade</code> been run?</p>
</li>
<li>
<p>Has <code>raspi-config</code> been run and the Camera Module enabled?</p>
</li>
<li>
<p>Is your power supply sufficient? The Camera Module adds about 200-250mA to the power requirements of your Raspberry Pi.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>If things are still not working, try the following:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>Error : raspistill/raspivid command not found</code>. This probably means your update/upgrade failed in some way. Try it again.</p>
</li>
<li>
<p><code>Error : ENOMEM</code>. The Camera Module is not starting up. Check all connections again.</p>
</li>
<li>
<p><code>Error : ENOSPC</code>. The Camera Module is probably running out of GPU memory. Check <code>config.txt</code> in the /boot/ folder. The <code>gpu_mem</code> option should be at least 128. Alternatively, use the Memory Split option in the Advanced section of <code>raspi-config</code> to set this.</p>
</li>
<li>
<p>If youve checked all the above issues and the Camera Module is still not working, try posting on our forums for more help.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<div name="command-line-options" data-unique="command-line-options"></div><h3 id="command-line-options">
<a class="anchor" href="https://www.raspberrypi.com/documentation/accessories/camera.html#command-line-options"></a>Command Line Options</h3>
<div class="sect3">
<h4 id="preview-window-3">
<a class="anchor" href="https://www.raspberrypi.com/documentation/accessories/camera.html#preview-window-3"></a>Preview window</h4>
<div class="listingblock">
<button class="copy-button hidden" aria-label="copy code to clipboard" type="button" aria-hidden="true"><div class="copy-button-inner">
<svg xmlns="http://www.w3.org/2000/svg" id="Layer_1" data-name="Layer 1" viewBox="0 0 12 12"><rect x="1" y="6" width="5" height="1"></rect><path d="M10,1H8A1,1,0,0,0,7,0H6A1,1,0,0,0,5,1H3A1,1,0,0,0,2,2V5H3V2H4V3H9V2h1v9H3V8H2v3a1,1,0,0,0,1,1h7a1,1,0,0,0,1-1V2A1,1,0,0,0,10,1ZM6.5,2.25a.75.75,0,1,1,.75-.75A.76.76,0,0,1,6.5,2.25Z"></path><path d="M6.32,6.32,4.43,4.43A.25.25,0,0,0,4,4.6V8.4a.25.25,0,0,0,.43.17L6.32,6.68A.25.25,0,0,0,6.32,6.32Z"></path></svg><strong class="copy-button-label"></strong><span class="tooltip hidden"> Copy to Clipboard</span>
</div></button>
<div class="content">
<pre>	--preview,	-p		Preview window settings &lt;'x,y,w,h'&gt;</pre>
</div>
</div>
<div class="paragraph">
<p>Allows the user to define the size of the preview window and its location on the screen. Note this will be superimposed over the top of any other windows/graphics.</p>
</div>
<div class="listingblock">
<button class="copy-button hidden" aria-label="copy code to clipboard" type="button" aria-hidden="true"><div class="copy-button-inner">
<svg xmlns="http://www.w3.org/2000/svg" id="Layer_1" data-name="Layer 1" viewBox="0 0 12 12"><rect x="1" y="6" width="5" height="1"></rect><path d="M10,1H8A1,1,0,0,0,7,0H6A1,1,0,0,0,5,1H3A1,1,0,0,0,2,2V5H3V2H4V3H9V2h1v9H3V8H2v3a1,1,0,0,0,1,1h7a1,1,0,0,0,1-1V2A1,1,0,0,0,10,1ZM6.5,2.25a.75.75,0,1,1,.75-.75A.76.76,0,0,1,6.5,2.25Z"></path><path d="M6.32,6.32,4.43,4.43A.25.25,0,0,0,4,4.6V8.4a.25.25,0,0,0,.43.17L6.32,6.68A.25.25,0,0,0,6.32,6.32Z"></path></svg><strong class="copy-button-label"></strong><span class="tooltip hidden"> Copy to Clipboard</span>
</div></button>
<div class="content">
<pre>	--fullscreen,	-f		Fullscreen preview mode</pre>
</div>
</div>
<div class="paragraph">
<p>Forces the preview window to use the whole screen. Note that the aspect ratio of the incoming image will be retained, so there may be bars on some edges.</p>
</div>
<div class="listingblock">
<button class="copy-button hidden" aria-label="copy code to clipboard" type="button" aria-hidden="true"><div class="copy-button-inner">
<svg xmlns="http://www.w3.org/2000/svg" id="Layer_1" data-name="Layer 1" viewBox="0 0 12 12"><rect x="1" y="6" width="5" height="1"></rect><path d="M10,1H8A1,1,0,0,0,7,0H6A1,1,0,0,0,5,1H3A1,1,0,0,0,2,2V5H3V2H4V3H9V2h1v9H3V8H2v3a1,1,0,0,0,1,1h7a1,1,0,0,0,1-1V2A1,1,0,0,0,10,1ZM6.5,2.25a.75.75,0,1,1,.75-.75A.76.76,0,0,1,6.5,2.25Z"></path><path d="M6.32,6.32,4.43,4.43A.25.25,0,0,0,4,4.6V8.4a.25.25,0,0,0,.43.17L6.32,6.68A.25.25,0,0,0,6.32,6.32Z"></path></svg><strong class="copy-button-label"></strong><span class="tooltip hidden"> Copy to Clipboard</span>
</div></button>
<div class="content">
<pre>	--nopreview,	-n		Do not display a preview window</pre>
</div>
</div>
<div class="paragraph">
<p>Disables the preview window completely. Note that even though the preview is disabled, the camera will still be producing frames, so will be using power.</p>
</div>
<div class="listingblock">
<button class="copy-button hidden" aria-label="copy code to clipboard" type="button" aria-hidden="true"><div class="copy-button-inner">
<svg xmlns="http://www.w3.org/2000/svg" id="Layer_1" data-name="Layer 1" viewBox="0 0 12 12"><rect x="1" y="6" width="5" height="1"></rect><path d="M10,1H8A1,1,0,0,0,7,0H6A1,1,0,0,0,5,1H3A1,1,0,0,0,2,2V5H3V2H4V3H9V2h1v9H3V8H2v3a1,1,0,0,0,1,1h7a1,1,0,0,0,1-1V2A1,1,0,0,0,10,1ZM6.5,2.25a.75.75,0,1,1,.75-.75A.76.76,0,0,1,6.5,2.25Z"></path><path d="M6.32,6.32,4.43,4.43A.25.25,0,0,0,4,4.6V8.4a.25.25,0,0,0,.43.17L6.32,6.68A.25.25,0,0,0,6.32,6.32Z"></path></svg><strong class="copy-button-label"></strong><span class="tooltip hidden"> Copy to Clipboard</span>
</div></button>
<div class="content">
<pre>	--opacity,	-op		Set preview window opacity</pre>
</div>
</div>
<div class="paragraph">
<p>Sets the opacity of the preview windows. 0 = invisible, 255 = fully opaque.</p>
</div>
</div>
<div class="sect3">
<h4 id="camera-control-options">
<a class="anchor" href="https://www.raspberrypi.com/documentation/accessories/camera.html#camera-control-options"></a>Camera control options</h4>
<div class="listingblock">
<button class="copy-button hidden" aria-label="copy code to clipboard" type="button" aria-hidden="true"><div class="copy-button-inner">
<svg xmlns="http://www.w3.org/2000/svg" id="Layer_1" data-name="Layer 1" viewBox="0 0 12 12"><rect x="1" y="6" width="5" height="1"></rect><path d="M10,1H8A1,1,0,0,0,7,0H6A1,1,0,0,0,5,1H3A1,1,0,0,0,2,2V5H3V2H4V3H9V2h1v9H3V8H2v3a1,1,0,0,0,1,1h7a1,1,0,0,0,1-1V2A1,1,0,0,0,10,1ZM6.5,2.25a.75.75,0,1,1,.75-.75A.76.76,0,0,1,6.5,2.25Z"></path><path d="M6.32,6.32,4.43,4.43A.25.25,0,0,0,4,4.6V8.4a.25.25,0,0,0,.43.17L6.32,6.68A.25.25,0,0,0,6.32,6.32Z"></path></svg><strong class="copy-button-label"></strong><span class="tooltip hidden"> Copy to Clipboard</span>
</div></button>
<div class="content">
<pre>	--sharpness,	-sh		Set image sharpness (-100 - 100)</pre>
</div>
</div>
<div class="paragraph">
<p>Sets the sharpness of the image. 0 is the default.</p>
</div>
<div class="listingblock">
<button class="copy-button hidden" aria-label="copy code to clipboard" type="button" aria-hidden="true"><div class="copy-button-inner">
<svg xmlns="http://www.w3.org/2000/svg" id="Layer_1" data-name="Layer 1" viewBox="0 0 12 12"><rect x="1" y="6" width="5" height="1"></rect><path d="M10,1H8A1,1,0,0,0,7,0H6A1,1,0,0,0,5,1H3A1,1,0,0,0,2,2V5H3V2H4V3H9V2h1v9H3V8H2v3a1,1,0,0,0,1,1h7a1,1,0,0,0,1-1V2A1,1,0,0,0,10,1ZM6.5,2.25a.75.75,0,1,1,.75-.75A.76.76,0,0,1,6.5,2.25Z"></path><path d="M6.32,6.32,4.43,4.43A.25.25,0,0,0,4,4.6V8.4a.25.25,0,0,0,.43.17L6.32,6.68A.25.25,0,0,0,6.32,6.32Z"></path></svg><strong class="copy-button-label"></strong><span class="tooltip hidden"> Copy to Clipboard</span>
</div></button>
<div class="content">
<pre>	--contrast,	-co		Set image contrast (-100 - 100)</pre>
</div>
</div>
<div class="paragraph">
<p>Sets the contrast of the image. 0 is the default.</p>
</div>
<div class="listingblock">
<button class="copy-button hidden" aria-label="copy code to clipboard" type="button" aria-hidden="true"><div class="copy-button-inner">
<svg xmlns="http://www.w3.org/2000/svg" id="Layer_1" data-name="Layer 1" viewBox="0 0 12 12"><rect x="1" y="6" width="5" height="1"></rect><path d="M10,1H8A1,1,0,0,0,7,0H6A1,1,0,0,0,5,1H3A1,1,0,0,0,2,2V5H3V2H4V3H9V2h1v9H3V8H2v3a1,1,0,0,0,1,1h7a1,1,0,0,0,1-1V2A1,1,0,0,0,10,1ZM6.5,2.25a.75.75,0,1,1,.75-.75A.76.76,0,0,1,6.5,2.25Z"></path><path d="M6.32,6.32,4.43,4.43A.25.25,0,0,0,4,4.6V8.4a.25.25,0,0,0,.43.17L6.32,6.68A.25.25,0,0,0,6.32,6.32Z"></path></svg><strong class="copy-button-label"></strong><span class="tooltip hidden"> Copy to Clipboard</span>
</div></button>
<div class="content">
<pre>	--brightness,	-br		Set image brightness (0 - 100)</pre>
</div>
</div>
<div class="paragraph">
<p>Sets the brightness of the image. 50 is the default. 0 is black, 100 is white.</p>
</div>
<div class="listingblock">
<button class="copy-button hidden" aria-label="copy code to clipboard" type="button" aria-hidden="true"><div class="copy-button-inner">
<svg xmlns="http://www.w3.org/2000/svg" id="Layer_1" data-name="Layer 1" viewBox="0 0 12 12"><rect x="1" y="6" width="5" height="1"></rect><path d="M10,1H8A1,1,0,0,0,7,0H6A1,1,0,0,0,5,1H3A1,1,0,0,0,2,2V5H3V2H4V3H9V2h1v9H3V8H2v3a1,1,0,0,0,1,1h7a1,1,0,0,0,1-1V2A1,1,0,0,0,10,1ZM6.5,2.25a.75.75,0,1,1,.75-.75A.76.76,0,0,1,6.5,2.25Z"></path><path d="M6.32,6.32,4.43,4.43A.25.25,0,0,0,4,4.6V8.4a.25.25,0,0,0,.43.17L6.32,6.68A.25.25,0,0,0,6.32,6.32Z"></path></svg><strong class="copy-button-label"></strong><span class="tooltip hidden"> Copy to Clipboard</span>
</div></button>
<div class="content">
<pre>	--saturation,	-sa		Set image saturation (-100 - 100)</pre>
</div>
</div>
<div class="paragraph">
<p>Sets the colour saturation of the image. 0 is the default.</p>
</div>
<div class="listingblock">
<button class="copy-button hidden" aria-label="copy code to clipboard" type="button" aria-hidden="true"><div class="copy-button-inner">
<svg xmlns="http://www.w3.org/2000/svg" id="Layer_1" data-name="Layer 1" viewBox="0 0 12 12"><rect x="1" y="6" width="5" height="1"></rect><path d="M10,1H8A1,1,0,0,0,7,0H6A1,1,0,0,0,5,1H3A1,1,0,0,0,2,2V5H3V2H4V3H9V2h1v9H3V8H2v3a1,1,0,0,0,1,1h7a1,1,0,0,0,1-1V2A1,1,0,0,0,10,1ZM6.5,2.25a.75.75,0,1,1,.75-.75A.76.76,0,0,1,6.5,2.25Z"></path><path d="M6.32,6.32,4.43,4.43A.25.25,0,0,0,4,4.6V8.4a.25.25,0,0,0,.43.17L6.32,6.68A.25.25,0,0,0,6.32,6.32Z"></path></svg><strong class="copy-button-label"></strong><span class="tooltip hidden"> Copy to Clipboard</span>
</div></button>
<div class="content">
<pre>	--ISO,	-ISO		Set capture ISO (100 - 800)</pre>
</div>
</div>
<div class="paragraph">
<p>Sets the ISO to be used for captures.</p>
</div>
<div class="listingblock">
<button class="copy-button hidden" aria-label="copy code to clipboard" type="button" aria-hidden="true"><div class="copy-button-inner">
<svg xmlns="http://www.w3.org/2000/svg" id="Layer_1" data-name="Layer 1" viewBox="0 0 12 12"><rect x="1" y="6" width="5" height="1"></rect><path d="M10,1H8A1,1,0,0,0,7,0H6A1,1,0,0,0,5,1H3A1,1,0,0,0,2,2V5H3V2H4V3H9V2h1v9H3V8H2v3a1,1,0,0,0,1,1h7a1,1,0,0,0,1-1V2A1,1,0,0,0,10,1ZM6.5,2.25a.75.75,0,1,1,.75-.75A.76.76,0,0,1,6.5,2.25Z"></path><path d="M6.32,6.32,4.43,4.43A.25.25,0,0,0,4,4.6V8.4a.25.25,0,0,0,.43.17L6.32,6.68A.25.25,0,0,0,6.32,6.32Z"></path></svg><strong class="copy-button-label"></strong><span class="tooltip hidden"> Copy to Clipboard</span>
</div></button>
<div class="content">
<pre>	--vstab,	-vs		Turn on video stabilisation</pre>
</div>
</div>
<div class="paragraph">
<p>In video mode only, turns on video stabilisation.</p>
</div>
<div class="listingblock">
<button class="copy-button hidden" aria-label="copy code to clipboard" type="button" aria-hidden="true"><div class="copy-button-inner">
<svg xmlns="http://www.w3.org/2000/svg" id="Layer_1" data-name="Layer 1" viewBox="0 0 12 12"><rect x="1" y="6" width="5" height="1"></rect><path d="M10,1H8A1,1,0,0,0,7,0H6A1,1,0,0,0,5,1H3A1,1,0,0,0,2,2V5H3V2H4V3H9V2h1v9H3V8H2v3a1,1,0,0,0,1,1h7a1,1,0,0,0,1-1V2A1,1,0,0,0,10,1ZM6.5,2.25a.75.75,0,1,1,.75-.75A.76.76,0,0,1,6.5,2.25Z"></path><path d="M6.32,6.32,4.43,4.43A.25.25,0,0,0,4,4.6V8.4a.25.25,0,0,0,.43.17L6.32,6.68A.25.25,0,0,0,6.32,6.32Z"></path></svg><strong class="copy-button-label"></strong><span class="tooltip hidden"> Copy to Clipboard</span>
</div></button>
<div class="content">
<pre>	--ev,	-ev		Set EV compensation (-10 - 10)</pre>
</div>
</div>
<div class="paragraph">
<p>Sets the EV compensation of the image. Default is 0.</p>
</div>
<div class="listingblock">
<button class="copy-button hidden" aria-label="copy code to clipboard" type="button" aria-hidden="true"><div class="copy-button-inner">
<svg xmlns="http://www.w3.org/2000/svg" id="Layer_1" data-name="Layer 1" viewBox="0 0 12 12"><rect x="1" y="6" width="5" height="1"></rect><path d="M10,1H8A1,1,0,0,0,7,0H6A1,1,0,0,0,5,1H3A1,1,0,0,0,2,2V5H3V2H4V3H9V2h1v9H3V8H2v3a1,1,0,0,0,1,1h7a1,1,0,0,0,1-1V2A1,1,0,0,0,10,1ZM6.5,2.25a.75.75,0,1,1,.75-.75A.76.76,0,0,1,6.5,2.25Z"></path><path d="M6.32,6.32,4.43,4.43A.25.25,0,0,0,4,4.6V8.4a.25.25,0,0,0,.43.17L6.32,6.68A.25.25,0,0,0,6.32,6.32Z"></path></svg><strong class="copy-button-label"></strong><span class="tooltip hidden"> Copy to Clipboard</span>
</div></button>
<div class="content">
<pre>	--exposure,	-ex		Set exposure mode</pre>
</div>
</div>
<div class="paragraph">
<p>Possible options are:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>auto: use automatic exposure mode</p>
</li>
<li>
<p>night: select setting for night shooting</p>
</li>
<li>
<p>nightpreview:</p>
</li>
<li>
<p>backlight: select setting for backlit subject</p>
</li>
<li>
<p>spotlight:</p>
</li>
<li>
<p>sports: select setting for sports (fast shutter etc.)</p>
</li>
<li>
<p>snow: select setting optimised for snowy scenery</p>
</li>
<li>
<p>beach: select setting optimised for beach</p>
</li>
<li>
<p>verylong: select setting for long exposures</p>
</li>
<li>
<p>fixedfps: constrain fps to a fixed value</p>
</li>
<li>
<p>antishake: antishake mode</p>
</li>
<li>
<p>fireworks: select setting optimised for fireworks</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Note that not all of these settings may be implemented, depending on camera tuning.</p>
</div>
<div class="listingblock">
<button class="copy-button hidden" aria-label="copy code to clipboard" type="button" aria-hidden="true"><div class="copy-button-inner">
<svg xmlns="http://www.w3.org/2000/svg" id="Layer_1" data-name="Layer 1" viewBox="0 0 12 12"><rect x="1" y="6" width="5" height="1"></rect><path d="M10,1H8A1,1,0,0,0,7,0H6A1,1,0,0,0,5,1H3A1,1,0,0,0,2,2V5H3V2H4V3H9V2h1v9H3V8H2v3a1,1,0,0,0,1,1h7a1,1,0,0,0,1-1V2A1,1,0,0,0,10,1ZM6.5,2.25a.75.75,0,1,1,.75-.75A.76.76,0,0,1,6.5,2.25Z"></path><path d="M6.32,6.32,4.43,4.43A.25.25,0,0,0,4,4.6V8.4a.25.25,0,0,0,.43.17L6.32,6.68A.25.25,0,0,0,6.32,6.32Z"></path></svg><strong class="copy-button-label"></strong><span class="tooltip hidden"> Copy to Clipboard</span>
</div></button>
<div class="content">
<pre>	--flicker, -fli		Set flicker avoidance mode</pre>
</div>
</div>
<div class="paragraph">
<p>Set a mode to compensate for lights flickering at the mains frequency, which can be seen as a dark horizontal band across an image. Flicker avoidance locks the exposure time to a multiple of the mains flicker frequency (8.33ms for 60Hz, or 10ms for 50Hz). This means that images can be noisier as the control algorithm has to increase the gain instead of exposure time should it wish for an intermediate exposure value. <code>auto</code> can be confused by external factors, therefore it is preferable to leave this setting off unless actually required.</p>
</div>
<div class="paragraph">
<p>Possible options are:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>off: turn off flicker avoidance</p>
</li>
<li>
<p>auto: automatically detect mains frequency</p>
</li>
<li>
<p>50hz: set avoidance at 50Hz</p>
</li>
<li>
<p>60hz: set avoidance at 60Hz</p>
</li>
</ul>
</div>
<div class="listingblock">
<button class="copy-button hidden" aria-label="copy code to clipboard" type="button" aria-hidden="true"><div class="copy-button-inner">
<svg xmlns="http://www.w3.org/2000/svg" id="Layer_1" data-name="Layer 1" viewBox="0 0 12 12"><rect x="1" y="6" width="5" height="1"></rect><path d="M10,1H8A1,1,0,0,0,7,0H6A1,1,0,0,0,5,1H3A1,1,0,0,0,2,2V5H3V2H4V3H9V2h1v9H3V8H2v3a1,1,0,0,0,1,1h7a1,1,0,0,0,1-1V2A1,1,0,0,0,10,1ZM6.5,2.25a.75.75,0,1,1,.75-.75A.76.76,0,0,1,6.5,2.25Z"></path><path d="M6.32,6.32,4.43,4.43A.25.25,0,0,0,4,4.6V8.4a.25.25,0,0,0,.43.17L6.32,6.68A.25.25,0,0,0,6.32,6.32Z"></path></svg><strong class="copy-button-label"></strong><span class="tooltip hidden"> Copy to Clipboard</span>
</div></button>
<div class="content">
<pre>	--awb,	-awb		Set Automatic White Balance (AWB) mode</pre>
</div>
</div>
<div class="paragraph">
<p>Modes for which colour temperature ranges (K) are available have these settings in brackets.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>off: turn off white balance calculation</p>
</li>
<li>
<p>auto: automatic mode (default)</p>
</li>
<li>
<p>sun: sunny mode (between 5000K and 6500K)</p>
</li>
<li>
<p>cloud: cloudy mode (between 6500K and 12000K)</p>
</li>
<li>
<p>shade: shade mode</p>
</li>
<li>
<p>tungsten: tungsten lighting mode (between 2500K and 3500K)</p>
</li>
<li>
<p>fluorescent: fluorescent lighting mode (between 2500K and 4500K)</p>
</li>
<li>
<p>incandescent: incandescent lighting mode</p>
</li>
<li>
<p>flash: flash mode</p>
</li>
<li>
<p>horizon: horizon mode</p>
</li>
<li>
<p>greyworld: Use this on the NoIR camera to fix incorrect AWB results due to the lack of the IR filter.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Note that not all of these settings may be implemented, depending on camera type.</p>
</div>
<div class="listingblock">
<button class="copy-button hidden" aria-label="copy code to clipboard" type="button" aria-hidden="true"><div class="copy-button-inner">
<svg xmlns="http://www.w3.org/2000/svg" id="Layer_1" data-name="Layer 1" viewBox="0 0 12 12"><rect x="1" y="6" width="5" height="1"></rect><path d="M10,1H8A1,1,0,0,0,7,0H6A1,1,0,0,0,5,1H3A1,1,0,0,0,2,2V5H3V2H4V3H9V2h1v9H3V8H2v3a1,1,0,0,0,1,1h7a1,1,0,0,0,1-1V2A1,1,0,0,0,10,1ZM6.5,2.25a.75.75,0,1,1,.75-.75A.76.76,0,0,1,6.5,2.25Z"></path><path d="M6.32,6.32,4.43,4.43A.25.25,0,0,0,4,4.6V8.4a.25.25,0,0,0,.43.17L6.32,6.68A.25.25,0,0,0,6.32,6.32Z"></path></svg><strong class="copy-button-label"></strong><span class="tooltip hidden"> Copy to Clipboard</span>
</div></button>
<div class="content">
<pre>	--imxfx,	-ifx		Set image effect</pre>
</div>
</div>
<div class="paragraph">
<p>Set an effect to be applied to the image:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>none: no effect (default)</p>
</li>
<li>
<p>negative: invert the image colours</p>
</li>
<li>
<p>solarise: solarise the image</p>
</li>
<li>
<p>posterise: posterise the image</p>
</li>
<li>
<p>whiteboard: whiteboard effect</p>
</li>
<li>
<p>blackboard: blackboard effect</p>
</li>
<li>
<p>sketch: sketch effect</p>
</li>
<li>
<p>denoise: denoise the image</p>
</li>
<li>
<p>emboss: emboss the image</p>
</li>
<li>
<p>oilpaint: oil paint effect</p>
</li>
<li>
<p>hatch: hatch sketch effect</p>
</li>
<li>
<p>gpen: graphite sketch effect</p>
</li>
<li>
<p>pastel: pastel effect</p>
</li>
<li>
<p>watercolour: watercolour effect</p>
</li>
<li>
<p>film: film grain effect</p>
</li>
<li>
<p>blur: blur the image</p>
</li>
<li>
<p>saturation: colour saturate the image</p>
</li>
<li>
<p>colourswap: not fully implemented</p>
</li>
<li>
<p>washedout: not fully implemented</p>
</li>
<li>
<p>colourpoint: not fully implemented</p>
</li>
<li>
<p>colourbalance: not fully implemented</p>
</li>
<li>
<p>cartoon: not fully implemented</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Note that not all of these settings may be available in all circumstances.</p>
</div>
<div class="listingblock">
<button class="copy-button hidden" aria-label="copy code to clipboard" type="button" aria-hidden="true"><div class="copy-button-inner">
<svg xmlns="http://www.w3.org/2000/svg" id="Layer_1" data-name="Layer 1" viewBox="0 0 12 12"><rect x="1" y="6" width="5" height="1"></rect><path d="M10,1H8A1,1,0,0,0,7,0H6A1,1,0,0,0,5,1H3A1,1,0,0,0,2,2V5H3V2H4V3H9V2h1v9H3V8H2v3a1,1,0,0,0,1,1h7a1,1,0,0,0,1-1V2A1,1,0,0,0,10,1ZM6.5,2.25a.75.75,0,1,1,.75-.75A.76.76,0,0,1,6.5,2.25Z"></path><path d="M6.32,6.32,4.43,4.43A.25.25,0,0,0,4,4.6V8.4a.25.25,0,0,0,.43.17L6.32,6.68A.25.25,0,0,0,6.32,6.32Z"></path></svg><strong class="copy-button-label"></strong><span class="tooltip hidden"> Copy to Clipboard</span>
</div></button>
<div class="content">
<pre>	--colfx,	-cfx		Set colour effect &lt;U:V&gt;</pre>
</div>
</div>
<div class="paragraph">
<p>The supplied U and V parameters (range 0 - 255) are applied to the U and Y channels of the image. For example, --colfx 128:128 should result in a monochrome image.</p>
</div>
<div class="listingblock">
<button class="copy-button hidden" aria-label="copy code to clipboard" type="button" aria-hidden="true"><div class="copy-button-inner">
<svg xmlns="http://www.w3.org/2000/svg" id="Layer_1" data-name="Layer 1" viewBox="0 0 12 12"><rect x="1" y="6" width="5" height="1"></rect><path d="M10,1H8A1,1,0,0,0,7,0H6A1,1,0,0,0,5,1H3A1,1,0,0,0,2,2V5H3V2H4V3H9V2h1v9H3V8H2v3a1,1,0,0,0,1,1h7a1,1,0,0,0,1-1V2A1,1,0,0,0,10,1ZM6.5,2.25a.75.75,0,1,1,.75-.75A.76.76,0,0,1,6.5,2.25Z"></path><path d="M6.32,6.32,4.43,4.43A.25.25,0,0,0,4,4.6V8.4a.25.25,0,0,0,.43.17L6.32,6.68A.25.25,0,0,0,6.32,6.32Z"></path></svg><strong class="copy-button-label"></strong><span class="tooltip hidden"> Copy to Clipboard</span>
</div></button>
<div class="content">
<pre>	--metering,	-mm		Set metering mode</pre>
</div>
</div>
<div class="paragraph">
<p>Specify the metering mode used for the preview and capture:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>average: average the whole frame for metering</p>
</li>
<li>
<p>spot: spot metering</p>
</li>
<li>
<p>backlit: assume a backlit image</p>
</li>
<li>
<p>matrix: matrix metering</p>
</li>
</ul>
</div>
<div class="listingblock">
<button class="copy-button hidden" aria-label="copy code to clipboard" type="button" aria-hidden="true"><div class="copy-button-inner">
<svg xmlns="http://www.w3.org/2000/svg" id="Layer_1" data-name="Layer 1" viewBox="0 0 12 12"><rect x="1" y="6" width="5" height="1"></rect><path d="M10,1H8A1,1,0,0,0,7,0H6A1,1,0,0,0,5,1H3A1,1,0,0,0,2,2V5H3V2H4V3H9V2h1v9H3V8H2v3a1,1,0,0,0,1,1h7a1,1,0,0,0,1-1V2A1,1,0,0,0,10,1ZM6.5,2.25a.75.75,0,1,1,.75-.75A.76.76,0,0,1,6.5,2.25Z"></path><path d="M6.32,6.32,4.43,4.43A.25.25,0,0,0,4,4.6V8.4a.25.25,0,0,0,.43.17L6.32,6.68A.25.25,0,0,0,6.32,6.32Z"></path></svg><strong class="copy-button-label"></strong><span class="tooltip hidden"> Copy to Clipboard</span>
</div></button>
<div class="content">
<pre>	--rotation,	-rot		Set image rotation (0 - 359)</pre>
</div>
</div>
<div class="paragraph">
<p>Sets the rotation of the image in the viewfinder and resulting image. This can take any value from 0 upwards, but due to hardware constraints only 0, 90, 180, and 270 degree rotations are supported.</p>
</div>
<div class="listingblock">
<button class="copy-button hidden" aria-label="copy code to clipboard" type="button" aria-hidden="true"><div class="copy-button-inner">
<svg xmlns="http://www.w3.org/2000/svg" id="Layer_1" data-name="Layer 1" viewBox="0 0 12 12"><rect x="1" y="6" width="5" height="1"></rect><path d="M10,1H8A1,1,0,0,0,7,0H6A1,1,0,0,0,5,1H3A1,1,0,0,0,2,2V5H3V2H4V3H9V2h1v9H3V8H2v3a1,1,0,0,0,1,1h7a1,1,0,0,0,1-1V2A1,1,0,0,0,10,1ZM6.5,2.25a.75.75,0,1,1,.75-.75A.76.76,0,0,1,6.5,2.25Z"></path><path d="M6.32,6.32,4.43,4.43A.25.25,0,0,0,4,4.6V8.4a.25.25,0,0,0,.43.17L6.32,6.68A.25.25,0,0,0,6.32,6.32Z"></path></svg><strong class="copy-button-label"></strong><span class="tooltip hidden"> Copy to Clipboard</span>
</div></button>
<div class="content">
<pre>	--hflip,	-hf		Set horizontal flip</pre>
</div>
</div>
<div class="paragraph">
<p>Flips the preview and saved image horizontally.</p>
</div>
<div class="listingblock">
<button class="copy-button hidden" aria-label="copy code to clipboard" type="button" aria-hidden="true"><div class="copy-button-inner">
<svg xmlns="http://www.w3.org/2000/svg" id="Layer_1" data-name="Layer 1" viewBox="0 0 12 12"><rect x="1" y="6" width="5" height="1"></rect><path d="M10,1H8A1,1,0,0,0,7,0H6A1,1,0,0,0,5,1H3A1,1,0,0,0,2,2V5H3V2H4V3H9V2h1v9H3V8H2v3a1,1,0,0,0,1,1h7a1,1,0,0,0,1-1V2A1,1,0,0,0,10,1ZM6.5,2.25a.75.75,0,1,1,.75-.75A.76.76,0,0,1,6.5,2.25Z"></path><path d="M6.32,6.32,4.43,4.43A.25.25,0,0,0,4,4.6V8.4a.25.25,0,0,0,.43.17L6.32,6.68A.25.25,0,0,0,6.32,6.32Z"></path></svg><strong class="copy-button-label"></strong><span class="tooltip hidden"> Copy to Clipboard</span>
</div></button>
<div class="content">
<pre>	--vflip,	-vf		Set vertical flip</pre>
</div>
</div>
<div class="paragraph">
<p>Flips the preview and saved image vertically.</p>
</div>
<div class="listingblock">
<button class="copy-button hidden" aria-label="copy code to clipboard" type="button" aria-hidden="true"><div class="copy-button-inner">
<svg xmlns="http://www.w3.org/2000/svg" id="Layer_1" data-name="Layer 1" viewBox="0 0 12 12"><rect x="1" y="6" width="5" height="1"></rect><path d="M10,1H8A1,1,0,0,0,7,0H6A1,1,0,0,0,5,1H3A1,1,0,0,0,2,2V5H3V2H4V3H9V2h1v9H3V8H2v3a1,1,0,0,0,1,1h7a1,1,0,0,0,1-1V2A1,1,0,0,0,10,1ZM6.5,2.25a.75.75,0,1,1,.75-.75A.76.76,0,0,1,6.5,2.25Z"></path><path d="M6.32,6.32,4.43,4.43A.25.25,0,0,0,4,4.6V8.4a.25.25,0,0,0,.43.17L6.32,6.68A.25.25,0,0,0,6.32,6.32Z"></path></svg><strong class="copy-button-label"></strong><span class="tooltip hidden"> Copy to Clipboard</span>
</div></button>
<div class="content">
<pre>	--roi,	-roi		Set sensor region of interest</pre>
</div>
</div>
<div class="paragraph">
<p>Allows the specification of the area of the sensor to be used as the source for the preview and capture. This is defined as x,y for the top-left corner, and a width and height, with all values in normalised coordinates (0.0 - 1.0). So, to set a ROI at halfway across and down the sensor, and a width and height of a quarter of the sensor, use:</p>
</div>
<div class="listingblock">
<button class="copy-button hidden" aria-label="copy code to clipboard" type="button" aria-hidden="true"><div class="copy-button-inner">
<svg xmlns="http://www.w3.org/2000/svg" id="Layer_1" data-name="Layer 1" viewBox="0 0 12 12"><rect x="1" y="6" width="5" height="1"></rect><path d="M10,1H8A1,1,0,0,0,7,0H6A1,1,0,0,0,5,1H3A1,1,0,0,0,2,2V5H3V2H4V3H9V2h1v9H3V8H2v3a1,1,0,0,0,1,1h7a1,1,0,0,0,1-1V2A1,1,0,0,0,10,1ZM6.5,2.25a.75.75,0,1,1,.75-.75A.76.76,0,0,1,6.5,2.25Z"></path><path d="M6.32,6.32,4.43,4.43A.25.25,0,0,0,4,4.6V8.4a.25.25,0,0,0,.43.17L6.32,6.68A.25.25,0,0,0,6.32,6.32Z"></path></svg><strong class="copy-button-label"></strong><span class="tooltip hidden"> Copy to Clipboard</span>
</div></button>
<div class="content">
<pre>-roi 0.5,0.5,0.25,0.25</pre>
</div>
</div>
<div class="listingblock">
<button class="copy-button hidden" aria-label="copy code to clipboard" type="button" aria-hidden="true"><div class="copy-button-inner">
<svg xmlns="http://www.w3.org/2000/svg" id="Layer_1" data-name="Layer 1" viewBox="0 0 12 12"><rect x="1" y="6" width="5" height="1"></rect><path d="M10,1H8A1,1,0,0,0,7,0H6A1,1,0,0,0,5,1H3A1,1,0,0,0,2,2V5H3V2H4V3H9V2h1v9H3V8H2v3a1,1,0,0,0,1,1h7a1,1,0,0,0,1-1V2A1,1,0,0,0,10,1ZM6.5,2.25a.75.75,0,1,1,.75-.75A.76.76,0,0,1,6.5,2.25Z"></path><path d="M6.32,6.32,4.43,4.43A.25.25,0,0,0,4,4.6V8.4a.25.25,0,0,0,.43.17L6.32,6.68A.25.25,0,0,0,6.32,6.32Z"></path></svg><strong class="copy-button-label"></strong><span class="tooltip hidden"> Copy to Clipboard</span>
</div></button>
<div class="content">
<pre>	--shutter,	-ss		Set shutter speed/time</pre>
</div>
</div>
<div class="paragraph">
<p>Sets the shutter open time to the specified value (in microseconds). Shutter speed limits are as follows:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Camera Version</th>
<th class="tableblock halign-center valign-top">Max (microseconds)</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">V1 (OV5647)</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">6000000 (i.e. 6s)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">V2 (IMX219)</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">10000000 (i.e. 10s)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">HQ (IMX477)</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">200000000 (i.e. 200s)</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Using values above these maximums will result in undefined behaviour.</p>
</div>
<div class="listingblock">
<button class="copy-button hidden" aria-label="copy code to clipboard" type="button" aria-hidden="true"><div class="copy-button-inner">
<svg xmlns="http://www.w3.org/2000/svg" id="Layer_1" data-name="Layer 1" viewBox="0 0 12 12"><rect x="1" y="6" width="5" height="1"></rect><path d="M10,1H8A1,1,0,0,0,7,0H6A1,1,0,0,0,5,1H3A1,1,0,0,0,2,2V5H3V2H4V3H9V2h1v9H3V8H2v3a1,1,0,0,0,1,1h7a1,1,0,0,0,1-1V2A1,1,0,0,0,10,1ZM6.5,2.25a.75.75,0,1,1,.75-.75A.76.76,0,0,1,6.5,2.25Z"></path><path d="M6.32,6.32,4.43,4.43A.25.25,0,0,0,4,4.6V8.4a.25.25,0,0,0,.43.17L6.32,6.68A.25.25,0,0,0,6.32,6.32Z"></path></svg><strong class="copy-button-label"></strong><span class="tooltip hidden"> Copy to Clipboard</span>
</div></button>
<div class="content">
<pre>	--drc,	-drc		Enable/disable dynamic range compression</pre>
</div>
</div>
<div class="paragraph">
<p>DRC changes the images by increasing the range of dark areas, and decreasing the brighter areas. This can improve the image in low light areas.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>off</p>
</li>
<li>
<p>low</p>
</li>
<li>
<p>med</p>
</li>
<li>
<p>high</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>By default, DRC is off.</p>
</div>
<div class="listingblock">
<button class="copy-button hidden" aria-label="copy code to clipboard" type="button" aria-hidden="true"><div class="copy-button-inner">
<svg xmlns="http://www.w3.org/2000/svg" id="Layer_1" data-name="Layer 1" viewBox="0 0 12 12"><rect x="1" y="6" width="5" height="1"></rect><path d="M10,1H8A1,1,0,0,0,7,0H6A1,1,0,0,0,5,1H3A1,1,0,0,0,2,2V5H3V2H4V3H9V2h1v9H3V8H2v3a1,1,0,0,0,1,1h7a1,1,0,0,0,1-1V2A1,1,0,0,0,10,1ZM6.5,2.25a.75.75,0,1,1,.75-.75A.76.76,0,0,1,6.5,2.25Z"></path><path d="M6.32,6.32,4.43,4.43A.25.25,0,0,0,4,4.6V8.4a.25.25,0,0,0,.43.17L6.32,6.68A.25.25,0,0,0,6.32,6.32Z"></path></svg><strong class="copy-button-label"></strong><span class="tooltip hidden"> Copy to Clipboard</span>
</div></button>
<div class="content">
<pre>	--stats,	-st		Use stills capture frame for image statistics</pre>
</div>
</div>
<div class="paragraph">
<p>Force recomputation of statistics on stills capture pass. Digital gain and AWB are recomputed based on the actual capture frame statistics, rather than the preceding preview frame.</p>
</div>
<div class="listingblock">
<button class="copy-button hidden" aria-label="copy code to clipboard" type="button" aria-hidden="true"><div class="copy-button-inner">
<svg xmlns="http://www.w3.org/2000/svg" id="Layer_1" data-name="Layer 1" viewBox="0 0 12 12"><rect x="1" y="6" width="5" height="1"></rect><path d="M10,1H8A1,1,0,0,0,7,0H6A1,1,0,0,0,5,1H3A1,1,0,0,0,2,2V5H3V2H4V3H9V2h1v9H3V8H2v3a1,1,0,0,0,1,1h7a1,1,0,0,0,1-1V2A1,1,0,0,0,10,1ZM6.5,2.25a.75.75,0,1,1,.75-.75A.76.76,0,0,1,6.5,2.25Z"></path><path d="M6.32,6.32,4.43,4.43A.25.25,0,0,0,4,4.6V8.4a.25.25,0,0,0,.43.17L6.32,6.68A.25.25,0,0,0,6.32,6.32Z"></path></svg><strong class="copy-button-label"></strong><span class="tooltip hidden"> Copy to Clipboard</span>
</div></button>
<div class="content">
<pre>	--awbgains,	-awbg</pre>
</div>
</div>
<div class="paragraph">
<p>Sets blue and red gains (as floating point numbers) to be applied when <code>-awb off</code> is set e.g. -awbg 1.5,1.2</p>
</div>
<div class="listingblock">
<button class="copy-button hidden" aria-label="copy code to clipboard" type="button" aria-hidden="true"><div class="copy-button-inner">
<svg xmlns="http://www.w3.org/2000/svg" id="Layer_1" data-name="Layer 1" viewBox="0 0 12 12"><rect x="1" y="6" width="5" height="1"></rect><path d="M10,1H8A1,1,0,0,0,7,0H6A1,1,0,0,0,5,1H3A1,1,0,0,0,2,2V5H3V2H4V3H9V2h1v9H3V8H2v3a1,1,0,0,0,1,1h7a1,1,0,0,0,1-1V2A1,1,0,0,0,10,1ZM6.5,2.25a.75.75,0,1,1,.75-.75A.76.76,0,0,1,6.5,2.25Z"></path><path d="M6.32,6.32,4.43,4.43A.25.25,0,0,0,4,4.6V8.4a.25.25,0,0,0,.43.17L6.32,6.68A.25.25,0,0,0,6.32,6.32Z"></path></svg><strong class="copy-button-label"></strong><span class="tooltip hidden"> Copy to Clipboard</span>
</div></button>
<div class="content">
<pre>	--analoggain,	-ag</pre>
</div>
</div>
<div class="paragraph">
<p>Sets the analog gain value directly on the sensor (floating point value from 1.0 to 8.0 for the OV5647 sensor on Camera Module V1, and 1.0 to 12.0 for the IMX219 sensor on Camera Module V2 and the IMX447 on the HQ Camera).</p>
</div>
<div class="listingblock">
<button class="copy-button hidden" aria-label="copy code to clipboard" type="button" aria-hidden="true"><div class="copy-button-inner">
<svg xmlns="http://www.w3.org/2000/svg" id="Layer_1" data-name="Layer 1" viewBox="0 0 12 12"><rect x="1" y="6" width="5" height="1"></rect><path d="M10,1H8A1,1,0,0,0,7,0H6A1,1,0,0,0,5,1H3A1,1,0,0,0,2,2V5H3V2H4V3H9V2h1v9H3V8H2v3a1,1,0,0,0,1,1h7a1,1,0,0,0,1-1V2A1,1,0,0,0,10,1ZM6.5,2.25a.75.75,0,1,1,.75-.75A.76.76,0,0,1,6.5,2.25Z"></path><path d="M6.32,6.32,4.43,4.43A.25.25,0,0,0,4,4.6V8.4a.25.25,0,0,0,.43.17L6.32,6.68A.25.25,0,0,0,6.32,6.32Z"></path></svg><strong class="copy-button-label"></strong><span class="tooltip hidden"> Copy to Clipboard</span>
</div></button>
<div class="content">
<pre>	--digitalgain,	-dg</pre>
</div>
</div>
<div class="paragraph">
<p>Sets the digital gain value applied by the ISP (floating point value from 1.0 to 64.0, but values over about 4.0 will produce overexposed images)</p>
</div>
<div class="listingblock">
<button class="copy-button hidden" aria-label="copy code to clipboard" type="button" aria-hidden="true"><div class="copy-button-inner">
<svg xmlns="http://www.w3.org/2000/svg" id="Layer_1" data-name="Layer 1" viewBox="0 0 12 12"><rect x="1" y="6" width="5" height="1"></rect><path d="M10,1H8A1,1,0,0,0,7,0H6A1,1,0,0,0,5,1H3A1,1,0,0,0,2,2V5H3V2H4V3H9V2h1v9H3V8H2v3a1,1,0,0,0,1,1h7a1,1,0,0,0,1-1V2A1,1,0,0,0,10,1ZM6.5,2.25a.75.75,0,1,1,.75-.75A.76.76,0,0,1,6.5,2.25Z"></path><path d="M6.32,6.32,4.43,4.43A.25.25,0,0,0,4,4.6V8.4a.25.25,0,0,0,.43.17L6.32,6.68A.25.25,0,0,0,6.32,6.32Z"></path></svg><strong class="copy-button-label"></strong><span class="tooltip hidden"> Copy to Clipboard</span>
</div></button>
<div class="content">
<pre>	--mode,	-md</pre>
</div>
</div>
<div class="paragraph">
<p>Sets a specified sensor mode, disabling the automatic selection. Possible values depend on the version of the Camera Module being used:</p>
</div>
<div class="paragraph">
<p>Version 1.x (OV5647)</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 16.6666%;">
<col style="width: 16.6666%;">
<col style="width: 16.6666%;">
<col style="width: 16.6666%;">
<col style="width: 16.6666%;">
<col style="width: 16.667%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Mode</th>
<th class="tableblock halign-left valign-top">Size</th>
<th class="tableblock halign-left valign-top">Aspect Ratio</th>
<th class="tableblock halign-left valign-top">Frame rates</th>
<th class="tableblock halign-left valign-top">FOV</th>
<th class="tableblock halign-left valign-top">Binning</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">automatic selection</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1920x1080</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">16:9</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1-30fps</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Partial</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">None</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">2592x1944</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">4:3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1-15fps</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Full</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">None</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">2592x1944</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">4:3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.1666-1fps</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Full</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">None</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1296x972</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">4:3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1-42fps</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Full</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">2x2</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">5</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1296x730</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">16:9</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1-49fps</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Full</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">2x2</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">6</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">640x480</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">4:3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">42.1-60fps</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Full</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">2x2 plus skip</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">7</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">640x480</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">4:3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">60.1-90fps</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Full</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">2x2 plus skip</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Version 2.x (IMX219)</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 16.6666%;">
<col style="width: 16.6666%;">
<col style="width: 16.6666%;">
<col style="width: 16.6666%;">
<col style="width: 16.6666%;">
<col style="width: 16.667%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Mode</th>
<th class="tableblock halign-left valign-top">Size</th>
<th class="tableblock halign-left valign-top">Aspect Ratio</th>
<th class="tableblock halign-left valign-top">Frame rates</th>
<th class="tableblock halign-left valign-top">FOV</th>
<th class="tableblock halign-left valign-top">Binning</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">automatic selection</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1920x1080</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">16:9</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.1-30fps</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Partial</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">None</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">3280x2464</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">4:3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.1-15fps</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Full</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">None</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">3280x2464</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">4:3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.1-15fps</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Full</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">None</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1640x1232</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">4:3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.1-40fps</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Full</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">2x2</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">5</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1640x922</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">16:9</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.1-40fps</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Full</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">2x2</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">6</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1280x720</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">16:9</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">40-90fps</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Partial</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">2x2</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">7</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">640x480</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">4:3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">40-200fps<sup>1</sup></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Partial</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">2x2</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p><sup>1</sup>For frame rates over 120fps, it is necessary to turn off automatic exposure and gain control using <code>-ex off</code>. Doing so should achieve the higher frame rates, but exposure time and gains will need to be set to fixed values supplied by the user.</p>
</div>
<div class="paragraph">
<p>HQ Camera</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 16.6666%;">
<col style="width: 16.6666%;">
<col style="width: 16.6666%;">
<col style="width: 16.6666%;">
<col style="width: 16.6666%;">
<col style="width: 16.667%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Mode</th>
<th class="tableblock halign-left valign-top">Size</th>
<th class="tableblock halign-left valign-top">Aspect Ratio</th>
<th class="tableblock halign-left valign-top">Frame rates</th>
<th class="tableblock halign-left valign-top">FOV</th>
<th class="tableblock halign-left valign-top">Binning/Scaling</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">automatic selection</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">2028x1080</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">169:90</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.1-50fps</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Partial</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">2x2 binned</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">2028x1520</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">4:3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.1-50fps</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Full</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">2x2 binned</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">4056x3040</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">4:3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.005-10fps</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Full</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">None</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1332x990</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">74:55</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">50.1-120fps</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Partial</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">2x2 binned</p></td>
</tr>
</tbody>
</table>
<div class="listingblock">
<button class="copy-button hidden" aria-label="copy code to clipboard" type="button" aria-hidden="true"><div class="copy-button-inner">
<svg xmlns="http://www.w3.org/2000/svg" id="Layer_1" data-name="Layer 1" viewBox="0 0 12 12"><rect x="1" y="6" width="5" height="1"></rect><path d="M10,1H8A1,1,0,0,0,7,0H6A1,1,0,0,0,5,1H3A1,1,0,0,0,2,2V5H3V2H4V3H9V2h1v9H3V8H2v3a1,1,0,0,0,1,1h7a1,1,0,0,0,1-1V2A1,1,0,0,0,10,1ZM6.5,2.25a.75.75,0,1,1,.75-.75A.76.76,0,0,1,6.5,2.25Z"></path><path d="M6.32,6.32,4.43,4.43A.25.25,0,0,0,4,4.6V8.4a.25.25,0,0,0,.43.17L6.32,6.68A.25.25,0,0,0,6.32,6.32Z"></path></svg><strong class="copy-button-label"></strong><span class="tooltip hidden"> Copy to Clipboard</span>
</div></button>
<div class="content">
<pre>	--camselect,	-cs</pre>
</div>
</div>
<div class="paragraph">
<p>Selects which camera to use on a multi-camera system. Use 0 or 1.</p>
</div>
<div class="listingblock">
<button class="copy-button hidden" aria-label="copy code to clipboard" type="button" aria-hidden="true"><div class="copy-button-inner">
<svg xmlns="http://www.w3.org/2000/svg" id="Layer_1" data-name="Layer 1" viewBox="0 0 12 12"><rect x="1" y="6" width="5" height="1"></rect><path d="M10,1H8A1,1,0,0,0,7,0H6A1,1,0,0,0,5,1H3A1,1,0,0,0,2,2V5H3V2H4V3H9V2h1v9H3V8H2v3a1,1,0,0,0,1,1h7a1,1,0,0,0,1-1V2A1,1,0,0,0,10,1ZM6.5,2.25a.75.75,0,1,1,.75-.75A.76.76,0,0,1,6.5,2.25Z"></path><path d="M6.32,6.32,4.43,4.43A.25.25,0,0,0,4,4.6V8.4a.25.25,0,0,0,.43.17L6.32,6.68A.25.25,0,0,0,6.32,6.32Z"></path></svg><strong class="copy-button-label"></strong><span class="tooltip hidden"> Copy to Clipboard</span>
</div></button>
<div class="content">
<pre>	--annotate,	-a		Enable/set annotate flags or text</pre>
</div>
</div>
<div class="paragraph">
<p>Adds some text and/or metadata to the picture.</p>
</div>
<div class="paragraph">
<p>Metadata is indicated using a bitmask notation, so add them together to show multiple parameters. For example, 12 will show time(4) and date(8), since 4+8=12.</p>
</div>
<div class="paragraph">
<p>Text may include date/time placeholders by using the '%' character, as used by <a href="http://man7.org/linux/man-pages/man3/strftime.3.html">strftime</a>.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Value</th>
<th class="tableblock halign-left valign-top">Meaning</th>
<th class="tableblock halign-left valign-top">Example Output</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">-a 4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Time</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">20:09:33</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">-a 8</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Date</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">10/28/15</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">-a 12</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">4+8=12 Show the date(4) and time(8)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">20:09:33 10/28/15</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">-a 16</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Shutter Settings</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">-a 32</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CAF Settings</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">-a 64</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Gain Settings</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">-a 128</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Lens Settings</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">-a 256</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Motion Settings</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">-a 512</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Frame Number</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">-a 1024</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Black Background</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">-a "ABC %Y-%m-%d %X"</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Show some text</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ABC %Y-%m-%d %X</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">-a 4 -a "ABC %Y-%m-%d %X"</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Show custom <a href="http://man7.org/linux/man-pages/man3/strftime.3.html">formatted</a> date/time</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ABC 2015-10-28 20:09:33</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">-a 8 -a "ABC %Y-%m-%d %X"</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Show custom <a href="http://man7.org/linux/man-pages/man3/strftime.3.html">formatted</a> date/time</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ABC 2015-10-28 20:09:33</p></td>
</tr>
</tbody>
</table>
<div class="listingblock">
<button class="copy-button hidden" aria-label="copy code to clipboard" type="button" aria-hidden="true"><div class="copy-button-inner">
<svg xmlns="http://www.w3.org/2000/svg" id="Layer_1" data-name="Layer 1" viewBox="0 0 12 12"><rect x="1" y="6" width="5" height="1"></rect><path d="M10,1H8A1,1,0,0,0,7,0H6A1,1,0,0,0,5,1H3A1,1,0,0,0,2,2V5H3V2H4V3H9V2h1v9H3V8H2v3a1,1,0,0,0,1,1h7a1,1,0,0,0,1-1V2A1,1,0,0,0,10,1ZM6.5,2.25a.75.75,0,1,1,.75-.75A.76.76,0,0,1,6.5,2.25Z"></path><path d="M6.32,6.32,4.43,4.43A.25.25,0,0,0,4,4.6V8.4a.25.25,0,0,0,.43.17L6.32,6.68A.25.25,0,0,0,6.32,6.32Z"></path></svg><strong class="copy-button-label"></strong><span class="tooltip hidden"> Copy to Clipboard</span>
</div></button>
<div class="content">
<pre>	--annotateex,	-ae		Set extra annotation parameters</pre>
</div>
</div>
<div class="paragraph">
<p>Specifies annotation size, text colour, and background colour. Colours are in hex YUV format.</p>
</div>
<div class="paragraph">
<p>Size ranges from 6 - 160; default is 32. Asking for an invalid size should give you the default.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Example</th>
<th class="tableblock halign-left valign-top">Explanation</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">-ae 32,0xff,0x808000 -a "Annotation text"</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">gives size 32 white text on black background</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">-ae 10,0x00,0x8080FF -a "Annotation text"</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">gives size 10 black text on white background</p></td>
</tr>
</tbody>
</table>
<div class="listingblock">
<button class="copy-button hidden" aria-label="copy code to clipboard" type="button" aria-hidden="true"><div class="copy-button-inner">
<svg xmlns="http://www.w3.org/2000/svg" id="Layer_1" data-name="Layer 1" viewBox="0 0 12 12"><rect x="1" y="6" width="5" height="1"></rect><path d="M10,1H8A1,1,0,0,0,7,0H6A1,1,0,0,0,5,1H3A1,1,0,0,0,2,2V5H3V2H4V3H9V2h1v9H3V8H2v3a1,1,0,0,0,1,1h7a1,1,0,0,0,1-1V2A1,1,0,0,0,10,1ZM6.5,2.25a.75.75,0,1,1,.75-.75A.76.76,0,0,1,6.5,2.25Z"></path><path d="M6.32,6.32,4.43,4.43A.25.25,0,0,0,4,4.6V8.4a.25.25,0,0,0,.43.17L6.32,6.68A.25.25,0,0,0,6.32,6.32Z"></path></svg><strong class="copy-button-label"></strong><span class="tooltip hidden"> Copy to Clipboard</span>
</div></button>
<div class="content">
<pre>	--stereo,	-3d</pre>
</div>
</div>
<div class="paragraph">
<p>Select the specified stereo imaging mode; <code>sbs</code> selects side-by-side mode, <code>tb</code> selects top/bottom mode; <code>off</code> turns off stereo mode (the default).</p>
</div>
<div class="listingblock">
<button class="copy-button hidden" aria-label="copy code to clipboard" type="button" aria-hidden="true"><div class="copy-button-inner">
<svg xmlns="http://www.w3.org/2000/svg" id="Layer_1" data-name="Layer 1" viewBox="0 0 12 12"><rect x="1" y="6" width="5" height="1"></rect><path d="M10,1H8A1,1,0,0,0,7,0H6A1,1,0,0,0,5,1H3A1,1,0,0,0,2,2V5H3V2H4V3H9V2h1v9H3V8H2v3a1,1,0,0,0,1,1h7a1,1,0,0,0,1-1V2A1,1,0,0,0,10,1ZM6.5,2.25a.75.75,0,1,1,.75-.75A.76.76,0,0,1,6.5,2.25Z"></path><path d="M6.32,6.32,4.43,4.43A.25.25,0,0,0,4,4.6V8.4a.25.25,0,0,0,.43.17L6.32,6.68A.25.25,0,0,0,6.32,6.32Z"></path></svg><strong class="copy-button-label"></strong><span class="tooltip hidden"> Copy to Clipboard</span>
</div></button>
<div class="content">
<pre>	--decimate,	-dec</pre>
</div>
</div>
<div class="paragraph">
<p>Halves the width and height of the stereo image.</p>
</div>
<div class="listingblock">
<button class="copy-button hidden" aria-label="copy code to clipboard" type="button" aria-hidden="true"><div class="copy-button-inner">
<svg xmlns="http://www.w3.org/2000/svg" id="Layer_1" data-name="Layer 1" viewBox="0 0 12 12"><rect x="1" y="6" width="5" height="1"></rect><path d="M10,1H8A1,1,0,0,0,7,0H6A1,1,0,0,0,5,1H3A1,1,0,0,0,2,2V5H3V2H4V3H9V2h1v9H3V8H2v3a1,1,0,0,0,1,1h7a1,1,0,0,0,1-1V2A1,1,0,0,0,10,1ZM6.5,2.25a.75.75,0,1,1,.75-.75A.76.76,0,0,1,6.5,2.25Z"></path><path d="M6.32,6.32,4.43,4.43A.25.25,0,0,0,4,4.6V8.4a.25.25,0,0,0,.43.17L6.32,6.68A.25.25,0,0,0,6.32,6.32Z"></path></svg><strong class="copy-button-label"></strong><span class="tooltip hidden"> Copy to Clipboard</span>
</div></button>
<div class="content">
<pre>	--3dswap,	-3dswap</pre>
</div>
</div>
<div class="paragraph">
<p>Swaps the camera order used in stereoscopic imaging; NOTE: currently not working.</p>
</div>
<div class="listingblock">
<button class="copy-button hidden" aria-label="copy code to clipboard" type="button" aria-hidden="true"><div class="copy-button-inner">
<svg xmlns="http://www.w3.org/2000/svg" id="Layer_1" data-name="Layer 1" viewBox="0 0 12 12"><rect x="1" y="6" width="5" height="1"></rect><path d="M10,1H8A1,1,0,0,0,7,0H6A1,1,0,0,0,5,1H3A1,1,0,0,0,2,2V5H3V2H4V3H9V2h1v9H3V8H2v3a1,1,0,0,0,1,1h7a1,1,0,0,0,1-1V2A1,1,0,0,0,10,1ZM6.5,2.25a.75.75,0,1,1,.75-.75A.76.76,0,0,1,6.5,2.25Z"></path><path d="M6.32,6.32,4.43,4.43A.25.25,0,0,0,4,4.6V8.4a.25.25,0,0,0,.43.17L6.32,6.68A.25.25,0,0,0,6.32,6.32Z"></path></svg><strong class="copy-button-label"></strong><span class="tooltip hidden"> Copy to Clipboard</span>
</div></button>
<div class="content">
<pre>	--settings,	-set</pre>
</div>
</div>
<div class="paragraph">
<p>Retrieves the current camera settings and writes them to stdout.</p>
</div>
</div>
</div>
<div class="sect2">
<div name="application-specific-settings" data-unique="application-specific-settings"></div><h3 id="application-specific-settings">
<a class="anchor" href="https://www.raspberrypi.com/documentation/accessories/camera.html#application-specific-settings"></a>Application-specific Settings</h3>
<div class="sect3">
<h4 id="raspistill-2">
<a class="anchor" href="https://www.raspberrypi.com/documentation/accessories/camera.html#raspistill-2"></a><code>raspistill</code>
</h4>
<div class="listingblock">
<button class="copy-button hidden" aria-label="copy code to clipboard" type="button" aria-hidden="true"><div class="copy-button-inner">
<svg xmlns="http://www.w3.org/2000/svg" id="Layer_1" data-name="Layer 1" viewBox="0 0 12 12"><rect x="1" y="6" width="5" height="1"></rect><path d="M10,1H8A1,1,0,0,0,7,0H6A1,1,0,0,0,5,1H3A1,1,0,0,0,2,2V5H3V2H4V3H9V2h1v9H3V8H2v3a1,1,0,0,0,1,1h7a1,1,0,0,0,1-1V2A1,1,0,0,0,10,1ZM6.5,2.25a.75.75,0,1,1,.75-.75A.76.76,0,0,1,6.5,2.25Z"></path><path d="M6.32,6.32,4.43,4.43A.25.25,0,0,0,4,4.6V8.4a.25.25,0,0,0,.43.17L6.32,6.68A.25.25,0,0,0,6.32,6.32Z"></path></svg><strong class="copy-button-label"></strong><span class="tooltip hidden"> Copy to Clipboard</span>
</div></button>
<div class="content">
<pre>	--width,	-w		Set image width &lt;size&gt;

	--height,	-h		Set image height &lt;size&gt;

	--quality,	-q		Set JPEG quality &lt;0 to 100&gt;</pre>
</div>
</div>
<div class="paragraph">
<p>Quality 100 is almost completely uncompressed. 75 is a good all-round value.</p>
</div>
<div class="listingblock">
<button class="copy-button hidden" aria-label="copy code to clipboard" type="button" aria-hidden="true"><div class="copy-button-inner">
<svg xmlns="http://www.w3.org/2000/svg" id="Layer_1" data-name="Layer 1" viewBox="0 0 12 12"><rect x="1" y="6" width="5" height="1"></rect><path d="M10,1H8A1,1,0,0,0,7,0H6A1,1,0,0,0,5,1H3A1,1,0,0,0,2,2V5H3V2H4V3H9V2h1v9H3V8H2v3a1,1,0,0,0,1,1h7a1,1,0,0,0,1-1V2A1,1,0,0,0,10,1ZM6.5,2.25a.75.75,0,1,1,.75-.75A.76.76,0,0,1,6.5,2.25Z"></path><path d="M6.32,6.32,4.43,4.43A.25.25,0,0,0,4,4.6V8.4a.25.25,0,0,0,.43.17L6.32,6.68A.25.25,0,0,0,6.32,6.32Z"></path></svg><strong class="copy-button-label"></strong><span class="tooltip hidden"> Copy to Clipboard</span>
</div></button>
<div class="content">
<pre>	--raw,	-r		Add raw Bayer data to JPEG metadata</pre>
</div>
</div>
<div class="paragraph">
<p>This option inserts the raw Bayer data from the camera into the JPEG metadata.</p>
</div>
<div class="listingblock">
<button class="copy-button hidden" aria-label="copy code to clipboard" type="button" aria-hidden="true"><div class="copy-button-inner">
<svg xmlns="http://www.w3.org/2000/svg" id="Layer_1" data-name="Layer 1" viewBox="0 0 12 12"><rect x="1" y="6" width="5" height="1"></rect><path d="M10,1H8A1,1,0,0,0,7,0H6A1,1,0,0,0,5,1H3A1,1,0,0,0,2,2V5H3V2H4V3H9V2h1v9H3V8H2v3a1,1,0,0,0,1,1h7a1,1,0,0,0,1-1V2A1,1,0,0,0,10,1ZM6.5,2.25a.75.75,0,1,1,.75-.75A.76.76,0,0,1,6.5,2.25Z"></path><path d="M6.32,6.32,4.43,4.43A.25.25,0,0,0,4,4.6V8.4a.25.25,0,0,0,.43.17L6.32,6.68A.25.25,0,0,0,6.32,6.32Z"></path></svg><strong class="copy-button-label"></strong><span class="tooltip hidden"> Copy to Clipboard</span>
</div></button>
<div class="content">
<pre>	--output,	-o		Output filename &lt;filename&gt;</pre>
</div>
</div>
<div class="paragraph">
<p>Specifies the output filename. If not specified, no file is saved. If the filename is '-', then all output is sent to stdout.</p>
</div>
<div class="listingblock">
<button class="copy-button hidden" aria-label="copy code to clipboard" type="button" aria-hidden="true"><div class="copy-button-inner">
<svg xmlns="http://www.w3.org/2000/svg" id="Layer_1" data-name="Layer 1" viewBox="0 0 12 12"><rect x="1" y="6" width="5" height="1"></rect><path d="M10,1H8A1,1,0,0,0,7,0H6A1,1,0,0,0,5,1H3A1,1,0,0,0,2,2V5H3V2H4V3H9V2h1v9H3V8H2v3a1,1,0,0,0,1,1h7a1,1,0,0,0,1-1V2A1,1,0,0,0,10,1ZM6.5,2.25a.75.75,0,1,1,.75-.75A.76.76,0,0,1,6.5,2.25Z"></path><path d="M6.32,6.32,4.43,4.43A.25.25,0,0,0,4,4.6V8.4a.25.25,0,0,0,.43.17L6.32,6.68A.25.25,0,0,0,6.32,6.32Z"></path></svg><strong class="copy-button-label"></strong><span class="tooltip hidden"> Copy to Clipboard</span>
</div></button>
<div class="content">
<pre>	--latest,	-l		Link latest frame to filename &lt;filename&gt;</pre>
</div>
</div>
<div class="paragraph">
<p>Makes a file system link under this name to the latest frame.</p>
</div>
<div class="listingblock">
<button class="copy-button hidden" aria-label="copy code to clipboard" type="button" aria-hidden="true"><div class="copy-button-inner">
<svg xmlns="http://www.w3.org/2000/svg" id="Layer_1" data-name="Layer 1" viewBox="0 0 12 12"><rect x="1" y="6" width="5" height="1"></rect><path d="M10,1H8A1,1,0,0,0,7,0H6A1,1,0,0,0,5,1H3A1,1,0,0,0,2,2V5H3V2H4V3H9V2h1v9H3V8H2v3a1,1,0,0,0,1,1h7a1,1,0,0,0,1-1V2A1,1,0,0,0,10,1ZM6.5,2.25a.75.75,0,1,1,.75-.75A.76.76,0,0,1,6.5,2.25Z"></path><path d="M6.32,6.32,4.43,4.43A.25.25,0,0,0,4,4.6V8.4a.25.25,0,0,0,.43.17L6.32,6.68A.25.25,0,0,0,6.32,6.32Z"></path></svg><strong class="copy-button-label"></strong><span class="tooltip hidden"> Copy to Clipboard</span>
</div></button>
<div class="content">
<pre>	--verbose,	-v		Output verbose information during run</pre>
</div>
</div>
<div class="paragraph">
<p>Outputs debugging/information messages during the program run.</p>
</div>
<div class="listingblock">
<button class="copy-button hidden" aria-label="copy code to clipboard" type="button" aria-hidden="true"><div class="copy-button-inner">
<svg xmlns="http://www.w3.org/2000/svg" id="Layer_1" data-name="Layer 1" viewBox="0 0 12 12"><rect x="1" y="6" width="5" height="1"></rect><path d="M10,1H8A1,1,0,0,0,7,0H6A1,1,0,0,0,5,1H3A1,1,0,0,0,2,2V5H3V2H4V3H9V2h1v9H3V8H2v3a1,1,0,0,0,1,1h7a1,1,0,0,0,1-1V2A1,1,0,0,0,10,1ZM6.5,2.25a.75.75,0,1,1,.75-.75A.76.76,0,0,1,6.5,2.25Z"></path><path d="M6.32,6.32,4.43,4.43A.25.25,0,0,0,4,4.6V8.4a.25.25,0,0,0,.43.17L6.32,6.68A.25.25,0,0,0,6.32,6.32Z"></path></svg><strong class="copy-button-label"></strong><span class="tooltip hidden"> Copy to Clipboard</span>
</div></button>
<div class="content">
<pre>	--timeout,	-t		Time before the camera takes picture and shuts down</pre>
</div>
</div>
<div class="paragraph">
<p>The program will run for the specified length of time, entered in milliseconds. It then takes the capture and saves it if an output is specified. If a timeout value is not specified, then it is set to 5 seconds (-t 5000). Note that low values (less than 500ms, although it can depend on other settings) may not give enough time for the camera to start up and provide enough frames for the automatic algorithms like AWB and AGC to provide accurate results.</p>
</div>
<div class="paragraph">
<p>If set to 0, the preview will run indefinitely, until stopped with CTRL-C. In this case no capture is made.</p>
</div>
<div class="listingblock">
<button class="copy-button hidden" aria-label="copy code to clipboard" type="button" aria-hidden="true"><div class="copy-button-inner">
<svg xmlns="http://www.w3.org/2000/svg" id="Layer_1" data-name="Layer 1" viewBox="0 0 12 12"><rect x="1" y="6" width="5" height="1"></rect><path d="M10,1H8A1,1,0,0,0,7,0H6A1,1,0,0,0,5,1H3A1,1,0,0,0,2,2V5H3V2H4V3H9V2h1v9H3V8H2v3a1,1,0,0,0,1,1h7a1,1,0,0,0,1-1V2A1,1,0,0,0,10,1ZM6.5,2.25a.75.75,0,1,1,.75-.75A.76.76,0,0,1,6.5,2.25Z"></path><path d="M6.32,6.32,4.43,4.43A.25.25,0,0,0,4,4.6V8.4a.25.25,0,0,0,.43.17L6.32,6.68A.25.25,0,0,0,6.32,6.32Z"></path></svg><strong class="copy-button-label"></strong><span class="tooltip hidden"> Copy to Clipboard</span>
</div></button>
<div class="content">
<pre>	--timelapse,	-tl		time-lapse mode</pre>
</div>
</div>
<div class="paragraph">
<p>The specific value is the time between shots in milliseconds. Note that you should specify <code>%04d</code> at the point in the filename where you want a frame count number to appear. So, for example, the code below will produce a capture every 2 seconds, over a total period of 30s, named <code>image0001.jpg</code>, <code>image0002.jpg</code> and so on, through to <code>image0015.jpg</code>.</p>
</div>
<div class="listingblock">
<button class="copy-button hidden" aria-label="copy code to clipboard" type="button" aria-hidden="true"><div class="copy-button-inner">
<svg xmlns="http://www.w3.org/2000/svg" id="Layer_1" data-name="Layer 1" viewBox="0 0 12 12"><rect x="1" y="6" width="5" height="1"></rect><path d="M10,1H8A1,1,0,0,0,7,0H6A1,1,0,0,0,5,1H3A1,1,0,0,0,2,2V5H3V2H4V3H9V2h1v9H3V8H2v3a1,1,0,0,0,1,1h7a1,1,0,0,0,1-1V2A1,1,0,0,0,10,1ZM6.5,2.25a.75.75,0,1,1,.75-.75A.76.76,0,0,1,6.5,2.25Z"></path><path d="M6.32,6.32,4.43,4.43A.25.25,0,0,0,4,4.6V8.4a.25.25,0,0,0,.43.17L6.32,6.68A.25.25,0,0,0,6.32,6.32Z"></path></svg><strong class="copy-button-label"></strong><span class="tooltip hidden"> Copy to Clipboard</span>
</div></button>
<div class="content">
<pre>-t 30000 -tl 2000 -o image%04d.jpg</pre>
</div>
</div>
<div class="paragraph">
<p>Note that the <code>%04d</code> indicates a 4-digit number, with leading zeroes added to make the required number of digits. So, for example, <code>%08d</code> would result in an 8-digit number.</p>
</div>
<div class="paragraph">
<p>If a time-lapse value of 0 is entered, the application will take pictures as fast as possible. Note that theres an minimum enforced pause of 30ms between captures to ensure that exposure calculations can be made.</p>
</div>
<div class="listingblock">
<button class="copy-button hidden" aria-label="copy code to clipboard" type="button" aria-hidden="true"><div class="copy-button-inner">
<svg xmlns="http://www.w3.org/2000/svg" id="Layer_1" data-name="Layer 1" viewBox="0 0 12 12"><rect x="1" y="6" width="5" height="1"></rect><path d="M10,1H8A1,1,0,0,0,7,0H6A1,1,0,0,0,5,1H3A1,1,0,0,0,2,2V5H3V2H4V3H9V2h1v9H3V8H2v3a1,1,0,0,0,1,1h7a1,1,0,0,0,1-1V2A1,1,0,0,0,10,1ZM6.5,2.25a.75.75,0,1,1,.75-.75A.76.76,0,0,1,6.5,2.25Z"></path><path d="M6.32,6.32,4.43,4.43A.25.25,0,0,0,4,4.6V8.4a.25.25,0,0,0,.43.17L6.32,6.68A.25.25,0,0,0,6.32,6.32Z"></path></svg><strong class="copy-button-label"></strong><span class="tooltip hidden"> Copy to Clipboard</span>
</div></button>
<div class="content">
<pre>	--framestart,	-fs</pre>
</div>
</div>
<div class="paragraph">
<p>Specifies the first frame number in the timelapse. Useful if you have already saved a number of frames, and want to start again at the next frame.</p>
</div>
<div class="listingblock">
<button class="copy-button hidden" aria-label="copy code to clipboard" type="button" aria-hidden="true"><div class="copy-button-inner">
<svg xmlns="http://www.w3.org/2000/svg" id="Layer_1" data-name="Layer 1" viewBox="0 0 12 12"><rect x="1" y="6" width="5" height="1"></rect><path d="M10,1H8A1,1,0,0,0,7,0H6A1,1,0,0,0,5,1H3A1,1,0,0,0,2,2V5H3V2H4V3H9V2h1v9H3V8H2v3a1,1,0,0,0,1,1h7a1,1,0,0,0,1-1V2A1,1,0,0,0,10,1ZM6.5,2.25a.75.75,0,1,1,.75-.75A.76.76,0,0,1,6.5,2.25Z"></path><path d="M6.32,6.32,4.43,4.43A.25.25,0,0,0,4,4.6V8.4a.25.25,0,0,0,.43.17L6.32,6.68A.25.25,0,0,0,6.32,6.32Z"></path></svg><strong class="copy-button-label"></strong><span class="tooltip hidden"> Copy to Clipboard</span>
</div></button>
<div class="content">
<pre>	--datetime,	-dt</pre>
</div>
</div>
<div class="paragraph">
<p>Instead of a simple frame number, the timelapse file names will use a date/time value of the format <code>aabbccddee</code>, where <code>aa</code> is the month, <code>bb</code> is the day of the month, <code>cc</code> is the hour, <code>dd</code> is the minute, and <code>ee</code> is the second.</p>
</div>
<div class="listingblock">
<button class="copy-button hidden" aria-label="copy code to clipboard" type="button" aria-hidden="true"><div class="copy-button-inner">
<svg xmlns="http://www.w3.org/2000/svg" id="Layer_1" data-name="Layer 1" viewBox="0 0 12 12"><rect x="1" y="6" width="5" height="1"></rect><path d="M10,1H8A1,1,0,0,0,7,0H6A1,1,0,0,0,5,1H3A1,1,0,0,0,2,2V5H3V2H4V3H9V2h1v9H3V8H2v3a1,1,0,0,0,1,1h7a1,1,0,0,0,1-1V2A1,1,0,0,0,10,1ZM6.5,2.25a.75.75,0,1,1,.75-.75A.76.76,0,0,1,6.5,2.25Z"></path><path d="M6.32,6.32,4.43,4.43A.25.25,0,0,0,4,4.6V8.4a.25.25,0,0,0,.43.17L6.32,6.68A.25.25,0,0,0,6.32,6.32Z"></path></svg><strong class="copy-button-label"></strong><span class="tooltip hidden"> Copy to Clipboard</span>
</div></button>
<div class="content">
<pre>	--timestamp,	-ts</pre>
</div>
</div>
<div class="paragraph">
<p>Instead of a simple frame number, the timelapse file names will use a single number which is the Unix timestamp, i.e. the seconds since 1970.</p>
</div>
<div class="listingblock">
<button class="copy-button hidden" aria-label="copy code to clipboard" type="button" aria-hidden="true"><div class="copy-button-inner">
<svg xmlns="http://www.w3.org/2000/svg" id="Layer_1" data-name="Layer 1" viewBox="0 0 12 12"><rect x="1" y="6" width="5" height="1"></rect><path d="M10,1H8A1,1,0,0,0,7,0H6A1,1,0,0,0,5,1H3A1,1,0,0,0,2,2V5H3V2H4V3H9V2h1v9H3V8H2v3a1,1,0,0,0,1,1h7a1,1,0,0,0,1-1V2A1,1,0,0,0,10,1ZM6.5,2.25a.75.75,0,1,1,.75-.75A.76.76,0,0,1,6.5,2.25Z"></path><path d="M6.32,6.32,4.43,4.43A.25.25,0,0,0,4,4.6V8.4a.25.25,0,0,0,.43.17L6.32,6.68A.25.25,0,0,0,6.32,6.32Z"></path></svg><strong class="copy-button-label"></strong><span class="tooltip hidden"> Copy to Clipboard</span>
</div></button>
<div class="content">
<pre>	--thumb,	-th		Set thumbnail parameters (x:y:quality)</pre>
</div>
</div>
<div class="paragraph">
<p>Allows specification of the thumbnail image inserted into the JPEG file. If not specified, defaults are a size of 64x48 at quality 35.</p>
</div>
<div class="paragraph">
<p>if <code>--thumb none</code> is specified, no thumbnail information will be placed in the file. This reduces the file size slightly.</p>
</div>
<div class="listingblock">
<button class="copy-button hidden" aria-label="copy code to clipboard" type="button" aria-hidden="true"><div class="copy-button-inner">
<svg xmlns="http://www.w3.org/2000/svg" id="Layer_1" data-name="Layer 1" viewBox="0 0 12 12"><rect x="1" y="6" width="5" height="1"></rect><path d="M10,1H8A1,1,0,0,0,7,0H6A1,1,0,0,0,5,1H3A1,1,0,0,0,2,2V5H3V2H4V3H9V2h1v9H3V8H2v3a1,1,0,0,0,1,1h7a1,1,0,0,0,1-1V2A1,1,0,0,0,10,1ZM6.5,2.25a.75.75,0,1,1,.75-.75A.76.76,0,0,1,6.5,2.25Z"></path><path d="M6.32,6.32,4.43,4.43A.25.25,0,0,0,4,4.6V8.4a.25.25,0,0,0,.43.17L6.32,6.68A.25.25,0,0,0,6.32,6.32Z"></path></svg><strong class="copy-button-label"></strong><span class="tooltip hidden"> Copy to Clipboard</span>
</div></button>
<div class="content">
<pre>	--demo,	-d		Run a demo mode &lt;milliseconds&gt;</pre>
</div>
</div>
<div class="paragraph">
<p>This options cycles through the range of camera options. No capture is taken, and the demo will end at the end of the timeout period, irrespective of whether all the options have been cycled. The time between cycles should be specified as a millisecond value.</p>
</div>
<div class="listingblock">
<button class="copy-button hidden" aria-label="copy code to clipboard" type="button" aria-hidden="true"><div class="copy-button-inner">
<svg xmlns="http://www.w3.org/2000/svg" id="Layer_1" data-name="Layer 1" viewBox="0 0 12 12"><rect x="1" y="6" width="5" height="1"></rect><path d="M10,1H8A1,1,0,0,0,7,0H6A1,1,0,0,0,5,1H3A1,1,0,0,0,2,2V5H3V2H4V3H9V2h1v9H3V8H2v3a1,1,0,0,0,1,1h7a1,1,0,0,0,1-1V2A1,1,0,0,0,10,1ZM6.5,2.25a.75.75,0,1,1,.75-.75A.76.76,0,0,1,6.5,2.25Z"></path><path d="M6.32,6.32,4.43,4.43A.25.25,0,0,0,4,4.6V8.4a.25.25,0,0,0,.43.17L6.32,6.68A.25.25,0,0,0,6.32,6.32Z"></path></svg><strong class="copy-button-label"></strong><span class="tooltip hidden"> Copy to Clipboard</span>
</div></button>
<div class="content">
<pre>	--encoding,	-e		Encoding to use for output file</pre>
</div>
</div>
<div class="paragraph">
<p>Valid options are <code>jpg</code>, <code>bmp</code>, <code>gif</code>, and <code>png</code>. Note that unaccelerated image types (GIF, PNG, BMP) will take much longer to save than jpg, which is hardware accelerated. Also note that the filename suffix is completely ignored when deciding the encoding of a file.</p>
</div>
<div class="listingblock">
<button class="copy-button hidden" aria-label="copy code to clipboard" type="button" aria-hidden="true"><div class="copy-button-inner">
<svg xmlns="http://www.w3.org/2000/svg" id="Layer_1" data-name="Layer 1" viewBox="0 0 12 12"><rect x="1" y="6" width="5" height="1"></rect><path d="M10,1H8A1,1,0,0,0,7,0H6A1,1,0,0,0,5,1H3A1,1,0,0,0,2,2V5H3V2H4V3H9V2h1v9H3V8H2v3a1,1,0,0,0,1,1h7a1,1,0,0,0,1-1V2A1,1,0,0,0,10,1ZM6.5,2.25a.75.75,0,1,1,.75-.75A.76.76,0,0,1,6.5,2.25Z"></path><path d="M6.32,6.32,4.43,4.43A.25.25,0,0,0,4,4.6V8.4a.25.25,0,0,0,.43.17L6.32,6.68A.25.25,0,0,0,6.32,6.32Z"></path></svg><strong class="copy-button-label"></strong><span class="tooltip hidden"> Copy to Clipboard</span>
</div></button>
<div class="content">
<pre>	--restart,	-rs</pre>
</div>
</div>
<div class="paragraph">
<p>Sets the JPEG restart marker interval to a specific value. Can be useful for lossy transport streams because it allows a broken JPEG file to still be partially displayed.</p>
</div>
<div class="listingblock">
<button class="copy-button hidden" aria-label="copy code to clipboard" type="button" aria-hidden="true"><div class="copy-button-inner">
<svg xmlns="http://www.w3.org/2000/svg" id="Layer_1" data-name="Layer 1" viewBox="0 0 12 12"><rect x="1" y="6" width="5" height="1"></rect><path d="M10,1H8A1,1,0,0,0,7,0H6A1,1,0,0,0,5,1H3A1,1,0,0,0,2,2V5H3V2H4V3H9V2h1v9H3V8H2v3a1,1,0,0,0,1,1h7a1,1,0,0,0,1-1V2A1,1,0,0,0,10,1ZM6.5,2.25a.75.75,0,1,1,.75-.75A.76.76,0,0,1,6.5,2.25Z"></path><path d="M6.32,6.32,4.43,4.43A.25.25,0,0,0,4,4.6V8.4a.25.25,0,0,0,.43.17L6.32,6.68A.25.25,0,0,0,6.32,6.32Z"></path></svg><strong class="copy-button-label"></strong><span class="tooltip hidden"> Copy to Clipboard</span>
</div></button>
<div class="content">
<pre>	--exif,	-x		EXIF tag to apply to captures (format as 'key=value')</pre>
</div>
</div>
<div class="paragraph">
<p>Allows the insertion of specific EXIF tags into the JPEG image. You can have up to 32 EXIF tag entries. This is useful for tasks like adding GPS metadata. For example, to set the longitude:</p>
</div>
<div class="listingblock">
<button class="copy-button hidden" aria-label="copy code to clipboard" type="button" aria-hidden="true"><div class="copy-button-inner">
<svg xmlns="http://www.w3.org/2000/svg" id="Layer_1" data-name="Layer 1" viewBox="0 0 12 12"><rect x="1" y="6" width="5" height="1"></rect><path d="M10,1H8A1,1,0,0,0,7,0H6A1,1,0,0,0,5,1H3A1,1,0,0,0,2,2V5H3V2H4V3H9V2h1v9H3V8H2v3a1,1,0,0,0,1,1h7a1,1,0,0,0,1-1V2A1,1,0,0,0,10,1ZM6.5,2.25a.75.75,0,1,1,.75-.75A.76.76,0,0,1,6.5,2.25Z"></path><path d="M6.32,6.32,4.43,4.43A.25.25,0,0,0,4,4.6V8.4a.25.25,0,0,0,.43.17L6.32,6.68A.25.25,0,0,0,6.32,6.32Z"></path></svg><strong class="copy-button-label"></strong><span class="tooltip hidden"> Copy to Clipboard</span>
</div></button>
<div class="content">
<pre>--exif GPS.GPSLongitude=5/1,10/1,15/1</pre>
</div>
</div>
<div class="paragraph">
<p>would set the longitude to 5 degs, 10 minutes, 15 seconds. See EXIF documentation for more details on the range of tags available; the supported tags are as follows:</p>
</div>
<div class="listingblock">
<button class="copy-button hidden" aria-label="copy code to clipboard" type="button" aria-hidden="true"><div class="copy-button-inner">
<svg xmlns="http://www.w3.org/2000/svg" id="Layer_1" data-name="Layer 1" viewBox="0 0 12 12"><rect x="1" y="6" width="5" height="1"></rect><path d="M10,1H8A1,1,0,0,0,7,0H6A1,1,0,0,0,5,1H3A1,1,0,0,0,2,2V5H3V2H4V3H9V2h1v9H3V8H2v3a1,1,0,0,0,1,1h7a1,1,0,0,0,1-1V2A1,1,0,0,0,10,1ZM6.5,2.25a.75.75,0,1,1,.75-.75A.76.76,0,0,1,6.5,2.25Z"></path><path d="M6.32,6.32,4.43,4.43A.25.25,0,0,0,4,4.6V8.4a.25.25,0,0,0,.43.17L6.32,6.68A.25.25,0,0,0,6.32,6.32Z"></path></svg><strong class="copy-button-label"></strong><span class="tooltip hidden"> Copy to Clipboard</span>
</div></button>
<div class="content">
<pre>IFD0.&lt;   or
IFD1.&lt;
ImageWidth, ImageLength, BitsPerSample, Compression, PhotometricInterpretation, ImageDescription, Make, Model, StripOffsets, Orientation, SamplesPerPixel, RowsPerString, StripByteCounts, XResolution, YResolution, PlanarConfiguration, ResolutionUnit, TransferFunction, Software, DateTime, Artist, WhitePoint, PrimaryChromaticities, JPEGInterchangeFormat, JPEGInterchangeFormatLength, YCbCrCoefficients, YCbCrSubSampling, YCbCrPositioning, ReferenceBlackWhite, Copyright&gt;

EXIF.&lt;
ExposureTime, FNumber, ExposureProgram, SpectralSensitivity, ISOSpeedRatings, OECF, ExifVersion, DateTimeOriginal, DateTimeDigitized, ComponentsConfiguration, CompressedBitsPerPixel, ShutterSpeedValue, ApertureValue, BrightnessValue, ExposureBiasValue, MaxApertureValue, SubjectDistance, MeteringMode, LightSource, Flash, FocalLength, SubjectArea, MakerNote, UserComment, SubSecTime, SubSecTimeOriginal, SubSecTimeDigitized, FlashpixVersion, ColorSpace, PixelXDimension, PixelYDimension, RelatedSoundFile, FlashEnergy, SpatialFrequencyResponse, FocalPlaneXResolution, FocalPlaneYResolution, FocalPlaneResolutionUnit, SubjectLocation, ExposureIndex, SensingMethod, FileSource, SceneType, CFAPattern, CustomRendered, ExposureMode, WhiteBalance, DigitalZoomRatio, FocalLengthIn35mmFilm, SceneCaptureType, GainControl, Contrast, Saturation, Sharpness, DeviceSettingDescription, SubjectDistanceRange, ImageUniqueID&gt;

GPS.&lt;
GPSVersionID, GPSLatitudeRef, GPSLatitude, GPSLongitudeRef, GPSLongitude, GPSAltitudeRef, GPSAltitude, GPSTimeStamp, GPSSatellites, GPSStatus, GPSMeasureMode, GPSDOP, GPSSpeedRef, GPSSpeed, GPSTrackRef, GPSTrack, GPSImgDirectionRef, GPSImgDirection, GPSMapDatum, GPSDestLatitudeRef, GPSDestLatitude, GPSDestLongitudeRef, GPSDestLongitude, GPSDestBearingRef, GPSDestBearing, GPSDestDistanceRef, GPSDestDistance, GPSProcessingMethod, GPSAreaInformation, GPSDateStamp, GPSDifferential&gt;

EINT.&lt;
InteroperabilityIndex, InteroperabilityVersion, RelatedImageFileFormat, RelatedImageWidth, RelatedImageLength&gt;</pre>
</div>
</div>
<div class="paragraph">
<p>Note that a small subset of these tags will be set automatically by the camera system, but will be overridden by any EXIF options on the command line.</p>
</div>
<div class="paragraph">
<p>Setting <code>--exif none</code> will prevent any EXIF information being stored in the file. This reduces the file size slightly.</p>
</div>
<div class="listingblock">
<button class="copy-button hidden" aria-label="copy code to clipboard" type="button" aria-hidden="true"><div class="copy-button-inner">
<svg xmlns="http://www.w3.org/2000/svg" id="Layer_1" data-name="Layer 1" viewBox="0 0 12 12"><rect x="1" y="6" width="5" height="1"></rect><path d="M10,1H8A1,1,0,0,0,7,0H6A1,1,0,0,0,5,1H3A1,1,0,0,0,2,2V5H3V2H4V3H9V2h1v9H3V8H2v3a1,1,0,0,0,1,1h7a1,1,0,0,0,1-1V2A1,1,0,0,0,10,1ZM6.5,2.25a.75.75,0,1,1,.75-.75A.76.76,0,0,1,6.5,2.25Z"></path><path d="M6.32,6.32,4.43,4.43A.25.25,0,0,0,4,4.6V8.4a.25.25,0,0,0,.43.17L6.32,6.68A.25.25,0,0,0,6.32,6.32Z"></path></svg><strong class="copy-button-label"></strong><span class="tooltip hidden"> Copy to Clipboard</span>
</div></button>
<div class="content">
<pre>	--gpsdexif,	-gps</pre>
</div>
</div>
<div class="paragraph">
<p>Applies real-time EXIF information from any attached GPS dongle (using GSPD) to the image; requires <code>libgps.so</code> to be installed.</p>
</div>
<div class="listingblock">
<button class="copy-button hidden" aria-label="copy code to clipboard" type="button" aria-hidden="true"><div class="copy-button-inner">
<svg xmlns="http://www.w3.org/2000/svg" id="Layer_1" data-name="Layer 1" viewBox="0 0 12 12"><rect x="1" y="6" width="5" height="1"></rect><path d="M10,1H8A1,1,0,0,0,7,0H6A1,1,0,0,0,5,1H3A1,1,0,0,0,2,2V5H3V2H4V3H9V2h1v9H3V8H2v3a1,1,0,0,0,1,1h7a1,1,0,0,0,1-1V2A1,1,0,0,0,10,1ZM6.5,2.25a.75.75,0,1,1,.75-.75A.76.76,0,0,1,6.5,2.25Z"></path><path d="M6.32,6.32,4.43,4.43A.25.25,0,0,0,4,4.6V8.4a.25.25,0,0,0,.43.17L6.32,6.68A.25.25,0,0,0,6.32,6.32Z"></path></svg><strong class="copy-button-label"></strong><span class="tooltip hidden"> Copy to Clipboard</span>
</div></button>
<div class="content">
<pre>	--fullpreview,	-fp		Full preview mode</pre>
</div>
</div>
<div class="paragraph">
<p>This runs the preview window using the full resolution capture mode. Maximum frames per second in this mode is 15fps, and the preview will have the same field of view as the capture. Captures should happen more quickly, as no mode change should be required. This feature is currently under development.</p>
</div>
<div class="listingblock">
<button class="copy-button hidden" aria-label="copy code to clipboard" type="button" aria-hidden="true"><div class="copy-button-inner">
<svg xmlns="http://www.w3.org/2000/svg" id="Layer_1" data-name="Layer 1" viewBox="0 0 12 12"><rect x="1" y="6" width="5" height="1"></rect><path d="M10,1H8A1,1,0,0,0,7,0H6A1,1,0,0,0,5,1H3A1,1,0,0,0,2,2V5H3V2H4V3H9V2h1v9H3V8H2v3a1,1,0,0,0,1,1h7a1,1,0,0,0,1-1V2A1,1,0,0,0,10,1ZM6.5,2.25a.75.75,0,1,1,.75-.75A.76.76,0,0,1,6.5,2.25Z"></path><path d="M6.32,6.32,4.43,4.43A.25.25,0,0,0,4,4.6V8.4a.25.25,0,0,0,.43.17L6.32,6.68A.25.25,0,0,0,6.32,6.32Z"></path></svg><strong class="copy-button-label"></strong><span class="tooltip hidden"> Copy to Clipboard</span>
</div></button>
<div class="content">
<pre>	--keypress,	-k		Keypress mode</pre>
</div>
</div>
<div class="paragraph">
<p>The camera is run for the requested time (<code>-t</code>), and a capture can be initiated throughout that time by pressing the Enter key. Pressing X then Enter will exit the application before the timeout is reached. If the timeout is set to 0, the camera will run indefinitely until the user presses X then Enter. Using the verbose option (<code>-v</code>) will display a prompt asking for user input, otherwise no prompt is displayed.</p>
</div>
<div class="listingblock">
<button class="copy-button hidden" aria-label="copy code to clipboard" type="button" aria-hidden="true"><div class="copy-button-inner">
<svg xmlns="http://www.w3.org/2000/svg" id="Layer_1" data-name="Layer 1" viewBox="0 0 12 12"><rect x="1" y="6" width="5" height="1"></rect><path d="M10,1H8A1,1,0,0,0,7,0H6A1,1,0,0,0,5,1H3A1,1,0,0,0,2,2V5H3V2H4V3H9V2h1v9H3V8H2v3a1,1,0,0,0,1,1h7a1,1,0,0,0,1-1V2A1,1,0,0,0,10,1ZM6.5,2.25a.75.75,0,1,1,.75-.75A.76.76,0,0,1,6.5,2.25Z"></path><path d="M6.32,6.32,4.43,4.43A.25.25,0,0,0,4,4.6V8.4a.25.25,0,0,0,.43.17L6.32,6.68A.25.25,0,0,0,6.32,6.32Z"></path></svg><strong class="copy-button-label"></strong><span class="tooltip hidden"> Copy to Clipboard</span>
</div></button>
<div class="content">
<pre>	--signal,	-s		Signal mode</pre>
</div>
</div>
<div class="paragraph">
<p>The camera is run for the requested time (<code>-t</code>), and a capture can be initiated throughout that time by sending a <code>USR1</code> signal to the camera process. This can be done using the <code>kill</code> command. You can find the camera process ID using the <code>pgrep raspistill</code> command.</p>
</div>
<div class="paragraph">
<p><code>kill -USR1 &lt;process id of raspistill&gt;</code></p>
</div>
<div class="listingblock">
<button class="copy-button hidden" aria-label="copy code to clipboard" type="button" aria-hidden="true"><div class="copy-button-inner">
<svg xmlns="http://www.w3.org/2000/svg" id="Layer_1" data-name="Layer 1" viewBox="0 0 12 12"><rect x="1" y="6" width="5" height="1"></rect><path d="M10,1H8A1,1,0,0,0,7,0H6A1,1,0,0,0,5,1H3A1,1,0,0,0,2,2V5H3V2H4V3H9V2h1v9H3V8H2v3a1,1,0,0,0,1,1h7a1,1,0,0,0,1-1V2A1,1,0,0,0,10,1ZM6.5,2.25a.75.75,0,1,1,.75-.75A.76.76,0,0,1,6.5,2.25Z"></path><path d="M6.32,6.32,4.43,4.43A.25.25,0,0,0,4,4.6V8.4a.25.25,0,0,0,.43.17L6.32,6.68A.25.25,0,0,0,6.32,6.32Z"></path></svg><strong class="copy-button-label"></strong><span class="tooltip hidden"> Copy to Clipboard</span>
</div></button>
<div class="content">
<pre>	--burst,	-bm</pre>
</div>
</div>
<div class="paragraph">
<p>Sets burst capture mode. This prevents the camera from returning to preview mode in between captures, meaning that captures can be taken closer together.</p>
</div>
</div>
<div class="sect3">
<h4 id="raspivid-2">
<a class="anchor" href="https://www.raspberrypi.com/documentation/accessories/camera.html#raspivid-2"></a><code>raspivid</code>
</h4>
<div class="listingblock">
<button class="copy-button hidden" aria-label="copy code to clipboard" type="button" aria-hidden="true"><div class="copy-button-inner">
<svg xmlns="http://www.w3.org/2000/svg" id="Layer_1" data-name="Layer 1" viewBox="0 0 12 12"><rect x="1" y="6" width="5" height="1"></rect><path d="M10,1H8A1,1,0,0,0,7,0H6A1,1,0,0,0,5,1H3A1,1,0,0,0,2,2V5H3V2H4V3H9V2h1v9H3V8H2v3a1,1,0,0,0,1,1h7a1,1,0,0,0,1-1V2A1,1,0,0,0,10,1ZM6.5,2.25a.75.75,0,1,1,.75-.75A.76.76,0,0,1,6.5,2.25Z"></path><path d="M6.32,6.32,4.43,4.43A.25.25,0,0,0,4,4.6V8.4a.25.25,0,0,0,.43.17L6.32,6.68A.25.25,0,0,0,6.32,6.32Z"></path></svg><strong class="copy-button-label"></strong><span class="tooltip hidden"> Copy to Clipboard</span>
</div></button>
<div class="content">
<pre>	--width,	-w		Set image width &lt;size&gt;</pre>
</div>
</div>
<div class="paragraph">
<p>Width of resulting video. This should be between 64 and 1920.</p>
</div>
<div class="listingblock">
<button class="copy-button hidden" aria-label="copy code to clipboard" type="button" aria-hidden="true"><div class="copy-button-inner">
<svg xmlns="http://www.w3.org/2000/svg" id="Layer_1" data-name="Layer 1" viewBox="0 0 12 12"><rect x="1" y="6" width="5" height="1"></rect><path d="M10,1H8A1,1,0,0,0,7,0H6A1,1,0,0,0,5,1H3A1,1,0,0,0,2,2V5H3V2H4V3H9V2h1v9H3V8H2v3a1,1,0,0,0,1,1h7a1,1,0,0,0,1-1V2A1,1,0,0,0,10,1ZM6.5,2.25a.75.75,0,1,1,.75-.75A.76.76,0,0,1,6.5,2.25Z"></path><path d="M6.32,6.32,4.43,4.43A.25.25,0,0,0,4,4.6V8.4a.25.25,0,0,0,.43.17L6.32,6.68A.25.25,0,0,0,6.32,6.32Z"></path></svg><strong class="copy-button-label"></strong><span class="tooltip hidden"> Copy to Clipboard</span>
</div></button>
<div class="content">
<pre>	--height,	-h		Set image height &lt;size&gt;</pre>
</div>
</div>
<div class="paragraph">
<p>Height of resulting video. This should be between 64 and 1080.</p>
</div>
<div class="listingblock">
<button class="copy-button hidden" aria-label="copy code to clipboard" type="button" aria-hidden="true"><div class="copy-button-inner">
<svg xmlns="http://www.w3.org/2000/svg" id="Layer_1" data-name="Layer 1" viewBox="0 0 12 12"><rect x="1" y="6" width="5" height="1"></rect><path d="M10,1H8A1,1,0,0,0,7,0H6A1,1,0,0,0,5,1H3A1,1,0,0,0,2,2V5H3V2H4V3H9V2h1v9H3V8H2v3a1,1,0,0,0,1,1h7a1,1,0,0,0,1-1V2A1,1,0,0,0,10,1ZM6.5,2.25a.75.75,0,1,1,.75-.75A.76.76,0,0,1,6.5,2.25Z"></path><path d="M6.32,6.32,4.43,4.43A.25.25,0,0,0,4,4.6V8.4a.25.25,0,0,0,.43.17L6.32,6.68A.25.25,0,0,0,6.32,6.32Z"></path></svg><strong class="copy-button-label"></strong><span class="tooltip hidden"> Copy to Clipboard</span>
</div></button>
<div class="content">
<pre>	--bitrate,	-b		Set bitrate</pre>
</div>
</div>
<div class="paragraph">
<p>Use bits per second, so 10Mbps would be <code>-b 10000000</code>. For H264, 1080p30 a high quality bitrate would be 15Mbps or more. Maximum bitrate is 25Mbps (<code>-b 25000000</code>), but much over 17Mbps wont show noticeable improvement at 1080p30.</p>
</div>
<div class="listingblock">
<button class="copy-button hidden" aria-label="copy code to clipboard" type="button" aria-hidden="true"><div class="copy-button-inner">
<svg xmlns="http://www.w3.org/2000/svg" id="Layer_1" data-name="Layer 1" viewBox="0 0 12 12"><rect x="1" y="6" width="5" height="1"></rect><path d="M10,1H8A1,1,0,0,0,7,0H6A1,1,0,0,0,5,1H3A1,1,0,0,0,2,2V5H3V2H4V3H9V2h1v9H3V8H2v3a1,1,0,0,0,1,1h7a1,1,0,0,0,1-1V2A1,1,0,0,0,10,1ZM6.5,2.25a.75.75,0,1,1,.75-.75A.76.76,0,0,1,6.5,2.25Z"></path><path d="M6.32,6.32,4.43,4.43A.25.25,0,0,0,4,4.6V8.4a.25.25,0,0,0,.43.17L6.32,6.68A.25.25,0,0,0,6.32,6.32Z"></path></svg><strong class="copy-button-label"></strong><span class="tooltip hidden"> Copy to Clipboard</span>
</div></button>
<div class="content">
<pre>	--output,	-o		Output filename &lt;filename&gt;</pre>
</div>
</div>
<div class="paragraph">
<p>Specify the output filename. If not specified, no file is saved. If the filename is '-', then all output is sent to stdout.</p>
</div>
<div class="paragraph">
<p>To connect to a remote IPv4 host, use <code>tcp</code> or <code>udp</code> followed by the required IP Address. e.g. <code>tcp://192.168.1.2:1234</code> or <code>udp://192.168.1.2:1234</code>.</p>
</div>
<div class="paragraph">
<p>To listen on a TCP port (IPv4) and wait for an incoming connection use <code>--listen (-l)</code> option, e.g. <code>raspivid -l -o tcp://0.0.0.0:3333</code> will bind to all network interfaces, <code>raspivid -l -o tcp://192.168.1.1:3333</code> will bind to a local IPv4.</p>
</div>
<div class="listingblock">
<button class="copy-button hidden" aria-label="copy code to clipboard" type="button" aria-hidden="true"><div class="copy-button-inner">
<svg xmlns="http://www.w3.org/2000/svg" id="Layer_1" data-name="Layer 1" viewBox="0 0 12 12"><rect x="1" y="6" width="5" height="1"></rect><path d="M10,1H8A1,1,0,0,0,7,0H6A1,1,0,0,0,5,1H3A1,1,0,0,0,2,2V5H3V2H4V3H9V2h1v9H3V8H2v3a1,1,0,0,0,1,1h7a1,1,0,0,0,1-1V2A1,1,0,0,0,10,1ZM6.5,2.25a.75.75,0,1,1,.75-.75A.76.76,0,0,1,6.5,2.25Z"></path><path d="M6.32,6.32,4.43,4.43A.25.25,0,0,0,4,4.6V8.4a.25.25,0,0,0,.43.17L6.32,6.68A.25.25,0,0,0,6.32,6.32Z"></path></svg><strong class="copy-button-label"></strong><span class="tooltip hidden"> Copy to Clipboard</span>
</div></button>
<div class="content">
<pre>	--listen,	-l</pre>
</div>
</div>
<div class="paragraph">
<p>When using a network connection as the data sink, this option will make the system wait for a connection from the remote system before sending data.</p>
</div>
<div class="listingblock">
<button class="copy-button hidden" aria-label="copy code to clipboard" type="button" aria-hidden="true"><div class="copy-button-inner">
<svg xmlns="http://www.w3.org/2000/svg" id="Layer_1" data-name="Layer 1" viewBox="0 0 12 12"><rect x="1" y="6" width="5" height="1"></rect><path d="M10,1H8A1,1,0,0,0,7,0H6A1,1,0,0,0,5,1H3A1,1,0,0,0,2,2V5H3V2H4V3H9V2h1v9H3V8H2v3a1,1,0,0,0,1,1h7a1,1,0,0,0,1-1V2A1,1,0,0,0,10,1ZM6.5,2.25a.75.75,0,1,1,.75-.75A.76.76,0,0,1,6.5,2.25Z"></path><path d="M6.32,6.32,4.43,4.43A.25.25,0,0,0,4,4.6V8.4a.25.25,0,0,0,.43.17L6.32,6.68A.25.25,0,0,0,6.32,6.32Z"></path></svg><strong class="copy-button-label"></strong><span class="tooltip hidden"> Copy to Clipboard</span>
</div></button>
<div class="content">
<pre>	--verbose,	-v		Output verbose information during run</pre>
</div>
</div>
<div class="paragraph">
<p>Outputs debugging/information messages during the program run.</p>
</div>
<div class="listingblock">
<button class="copy-button hidden" aria-label="copy code to clipboard" type="button" aria-hidden="true"><div class="copy-button-inner">
<svg xmlns="http://www.w3.org/2000/svg" id="Layer_1" data-name="Layer 1" viewBox="0 0 12 12"><rect x="1" y="6" width="5" height="1"></rect><path d="M10,1H8A1,1,0,0,0,7,0H6A1,1,0,0,0,5,1H3A1,1,0,0,0,2,2V5H3V2H4V3H9V2h1v9H3V8H2v3a1,1,0,0,0,1,1h7a1,1,0,0,0,1-1V2A1,1,0,0,0,10,1ZM6.5,2.25a.75.75,0,1,1,.75-.75A.76.76,0,0,1,6.5,2.25Z"></path><path d="M6.32,6.32,4.43,4.43A.25.25,0,0,0,4,4.6V8.4a.25.25,0,0,0,.43.17L6.32,6.68A.25.25,0,0,0,6.32,6.32Z"></path></svg><strong class="copy-button-label"></strong><span class="tooltip hidden"> Copy to Clipboard</span>
</div></button>
<div class="content">
<pre>	--timeout,	-t		Time before the camera takes picture and shuts down</pre>
</div>
</div>
<div class="paragraph">
<p>The total length of time that the program will run for. If not specified, the default is 5000ms (5 seconds). If set to 0, the application will run indefinitely until stopped with Ctrl-C.</p>
</div>
<div class="listingblock">
<button class="copy-button hidden" aria-label="copy code to clipboard" type="button" aria-hidden="true"><div class="copy-button-inner">
<svg xmlns="http://www.w3.org/2000/svg" id="Layer_1" data-name="Layer 1" viewBox="0 0 12 12"><rect x="1" y="6" width="5" height="1"></rect><path d="M10,1H8A1,1,0,0,0,7,0H6A1,1,0,0,0,5,1H3A1,1,0,0,0,2,2V5H3V2H4V3H9V2h1v9H3V8H2v3a1,1,0,0,0,1,1h7a1,1,0,0,0,1-1V2A1,1,0,0,0,10,1ZM6.5,2.25a.75.75,0,1,1,.75-.75A.76.76,0,0,1,6.5,2.25Z"></path><path d="M6.32,6.32,4.43,4.43A.25.25,0,0,0,4,4.6V8.4a.25.25,0,0,0,.43.17L6.32,6.68A.25.25,0,0,0,6.32,6.32Z"></path></svg><strong class="copy-button-label"></strong><span class="tooltip hidden"> Copy to Clipboard</span>
</div></button>
<div class="content">
<pre>	--demo,	-d		Run a demo mode &lt;milliseconds&gt;</pre>
</div>
</div>
<div class="paragraph">
<p>This options cycles through the range of camera options. No recording is done, and the demo will end at the end of the timeout period, irrespective of whether all the options have been cycled. The time between cycles should be specified as a millisecond value.</p>
</div>
<div class="listingblock">
<button class="copy-button hidden" aria-label="copy code to clipboard" type="button" aria-hidden="true"><div class="copy-button-inner">
<svg xmlns="http://www.w3.org/2000/svg" id="Layer_1" data-name="Layer 1" viewBox="0 0 12 12"><rect x="1" y="6" width="5" height="1"></rect><path d="M10,1H8A1,1,0,0,0,7,0H6A1,1,0,0,0,5,1H3A1,1,0,0,0,2,2V5H3V2H4V3H9V2h1v9H3V8H2v3a1,1,0,0,0,1,1h7a1,1,0,0,0,1-1V2A1,1,0,0,0,10,1ZM6.5,2.25a.75.75,0,1,1,.75-.75A.76.76,0,0,1,6.5,2.25Z"></path><path d="M6.32,6.32,4.43,4.43A.25.25,0,0,0,4,4.6V8.4a.25.25,0,0,0,.43.17L6.32,6.68A.25.25,0,0,0,6.32,6.32Z"></path></svg><strong class="copy-button-label"></strong><span class="tooltip hidden"> Copy to Clipboard</span>
</div></button>
<div class="content">
<pre>	--framerate,	-fps		Specify the frames per second to record</pre>
</div>
</div>
<div class="paragraph">
<p>At present, the minimum frame rate allowed is 2fps, and the maximum is 30fps. This is likely to change in the future.</p>
</div>
<div class="listingblock">
<button class="copy-button hidden" aria-label="copy code to clipboard" type="button" aria-hidden="true"><div class="copy-button-inner">
<svg xmlns="http://www.w3.org/2000/svg" id="Layer_1" data-name="Layer 1" viewBox="0 0 12 12"><rect x="1" y="6" width="5" height="1"></rect><path d="M10,1H8A1,1,0,0,0,7,0H6A1,1,0,0,0,5,1H3A1,1,0,0,0,2,2V5H3V2H4V3H9V2h1v9H3V8H2v3a1,1,0,0,0,1,1h7a1,1,0,0,0,1-1V2A1,1,0,0,0,10,1ZM6.5,2.25a.75.75,0,1,1,.75-.75A.76.76,0,0,1,6.5,2.25Z"></path><path d="M6.32,6.32,4.43,4.43A.25.25,0,0,0,4,4.6V8.4a.25.25,0,0,0,.43.17L6.32,6.68A.25.25,0,0,0,6.32,6.32Z"></path></svg><strong class="copy-button-label"></strong><span class="tooltip hidden"> Copy to Clipboard</span>
</div></button>
<div class="content">
<pre>	--penc,	-e		Display preview image after encoding</pre>
</div>
</div>
<div class="paragraph">
<p>Switch on an option to display the preview after compression. This will show any compression artefacts in the preview window. In normal operation, the preview will show the camera output prior to being compressed. This option is not guaranteed to work in future releases.</p>
</div>
<div class="listingblock">
<button class="copy-button hidden" aria-label="copy code to clipboard" type="button" aria-hidden="true"><div class="copy-button-inner">
<svg xmlns="http://www.w3.org/2000/svg" id="Layer_1" data-name="Layer 1" viewBox="0 0 12 12"><rect x="1" y="6" width="5" height="1"></rect><path d="M10,1H8A1,1,0,0,0,7,0H6A1,1,0,0,0,5,1H3A1,1,0,0,0,2,2V5H3V2H4V3H9V2h1v9H3V8H2v3a1,1,0,0,0,1,1h7a1,1,0,0,0,1-1V2A1,1,0,0,0,10,1ZM6.5,2.25a.75.75,0,1,1,.75-.75A.76.76,0,0,1,6.5,2.25Z"></path><path d="M6.32,6.32,4.43,4.43A.25.25,0,0,0,4,4.6V8.4a.25.25,0,0,0,.43.17L6.32,6.68A.25.25,0,0,0,6.32,6.32Z"></path></svg><strong class="copy-button-label"></strong><span class="tooltip hidden"> Copy to Clipboard</span>
</div></button>
<div class="content">
<pre>	--intra,	-g		Specify the intra refresh period (key frame rate/GoP)</pre>
</div>
</div>
<div class="paragraph">
<p>Sets the intra refresh period (GoP) rate for the recorded video. H264 video uses a complete frame (I-frame) every intra refresh period, from which subsequent frames are based. This option specifies the number of frames between each I-frame. Larger numbers here will reduce the size of the resulting video, and smaller numbers make the stream less error-prone.</p>
</div>
<div class="listingblock">
<button class="copy-button hidden" aria-label="copy code to clipboard" type="button" aria-hidden="true"><div class="copy-button-inner">
<svg xmlns="http://www.w3.org/2000/svg" id="Layer_1" data-name="Layer 1" viewBox="0 0 12 12"><rect x="1" y="6" width="5" height="1"></rect><path d="M10,1H8A1,1,0,0,0,7,0H6A1,1,0,0,0,5,1H3A1,1,0,0,0,2,2V5H3V2H4V3H9V2h1v9H3V8H2v3a1,1,0,0,0,1,1h7a1,1,0,0,0,1-1V2A1,1,0,0,0,10,1ZM6.5,2.25a.75.75,0,1,1,.75-.75A.76.76,0,0,1,6.5,2.25Z"></path><path d="M6.32,6.32,4.43,4.43A.25.25,0,0,0,4,4.6V8.4a.25.25,0,0,0,.43.17L6.32,6.68A.25.25,0,0,0,6.32,6.32Z"></path></svg><strong class="copy-button-label"></strong><span class="tooltip hidden"> Copy to Clipboard</span>
</div></button>
<div class="content">
<pre>	--qp,	-qp		Set quantisation parameter</pre>
</div>
</div>
<div class="paragraph">
<p>Sets the initial quantisation parameter for the stream. Varies from approximately 10 to 40, and will greatly affect the quality of the recording. Higher values reduce quality and decrease file size. Combine this setting with a bitrate of 0 to set a completely variable bitrate.</p>
</div>
<div class="listingblock">
<button class="copy-button hidden" aria-label="copy code to clipboard" type="button" aria-hidden="true"><div class="copy-button-inner">
<svg xmlns="http://www.w3.org/2000/svg" id="Layer_1" data-name="Layer 1" viewBox="0 0 12 12"><rect x="1" y="6" width="5" height="1"></rect><path d="M10,1H8A1,1,0,0,0,7,0H6A1,1,0,0,0,5,1H3A1,1,0,0,0,2,2V5H3V2H4V3H9V2h1v9H3V8H2v3a1,1,0,0,0,1,1h7a1,1,0,0,0,1-1V2A1,1,0,0,0,10,1ZM6.5,2.25a.75.75,0,1,1,.75-.75A.76.76,0,0,1,6.5,2.25Z"></path><path d="M6.32,6.32,4.43,4.43A.25.25,0,0,0,4,4.6V8.4a.25.25,0,0,0,.43.17L6.32,6.68A.25.25,0,0,0,6.32,6.32Z"></path></svg><strong class="copy-button-label"></strong><span class="tooltip hidden"> Copy to Clipboard</span>
</div></button>
<div class="content">
<pre>	--profile,	-pf		Specify H264 profile to use for encoding</pre>
</div>
</div>
<div class="paragraph">
<p>Sets the H264 profile to be used for the encoding. Options are:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>baseline</p>
</li>
<li>
<p>main</p>
</li>
<li>
<p>high</p>
</li>
</ul>
</div>
<div class="listingblock">
<button class="copy-button hidden" aria-label="copy code to clipboard" type="button" aria-hidden="true"><div class="copy-button-inner">
<svg xmlns="http://www.w3.org/2000/svg" id="Layer_1" data-name="Layer 1" viewBox="0 0 12 12"><rect x="1" y="6" width="5" height="1"></rect><path d="M10,1H8A1,1,0,0,0,7,0H6A1,1,0,0,0,5,1H3A1,1,0,0,0,2,2V5H3V2H4V3H9V2h1v9H3V8H2v3a1,1,0,0,0,1,1h7a1,1,0,0,0,1-1V2A1,1,0,0,0,10,1ZM6.5,2.25a.75.75,0,1,1,.75-.75A.76.76,0,0,1,6.5,2.25Z"></path><path d="M6.32,6.32,4.43,4.43A.25.25,0,0,0,4,4.6V8.4a.25.25,0,0,0,.43.17L6.32,6.68A.25.25,0,0,0,6.32,6.32Z"></path></svg><strong class="copy-button-label"></strong><span class="tooltip hidden"> Copy to Clipboard</span>
</div></button>
<div class="content">
<pre>	--level,	-lev</pre>
</div>
</div>
<div class="paragraph">
<p>Specifies the H264 encoder level to use for encoding. Options are <code>4</code>, <code>4.1</code>, and <code>4.2</code>.</p>
</div>
<div class="listingblock">
<button class="copy-button hidden" aria-label="copy code to clipboard" type="button" aria-hidden="true"><div class="copy-button-inner">
<svg xmlns="http://www.w3.org/2000/svg" id="Layer_1" data-name="Layer 1" viewBox="0 0 12 12"><rect x="1" y="6" width="5" height="1"></rect><path d="M10,1H8A1,1,0,0,0,7,0H6A1,1,0,0,0,5,1H3A1,1,0,0,0,2,2V5H3V2H4V3H9V2h1v9H3V8H2v3a1,1,0,0,0,1,1h7a1,1,0,0,0,1-1V2A1,1,0,0,0,10,1ZM6.5,2.25a.75.75,0,1,1,.75-.75A.76.76,0,0,1,6.5,2.25Z"></path><path d="M6.32,6.32,4.43,4.43A.25.25,0,0,0,4,4.6V8.4a.25.25,0,0,0,.43.17L6.32,6.68A.25.25,0,0,0,6.32,6.32Z"></path></svg><strong class="copy-button-label"></strong><span class="tooltip hidden"> Copy to Clipboard</span>
</div></button>
<div class="content">
<pre>	--irefresh,	-if</pre>
</div>
</div>
<div class="paragraph">
<p>Sets the H264 intra-refresh type. Possible options are <code>cyclic</code>, <code>adaptive</code>, <code>both</code>, and <code>cyclicrows</code>.</p>
</div>
<div class="listingblock">
<button class="copy-button hidden" aria-label="copy code to clipboard" type="button" aria-hidden="true"><div class="copy-button-inner">
<svg xmlns="http://www.w3.org/2000/svg" id="Layer_1" data-name="Layer 1" viewBox="0 0 12 12"><rect x="1" y="6" width="5" height="1"></rect><path d="M10,1H8A1,1,0,0,0,7,0H6A1,1,0,0,0,5,1H3A1,1,0,0,0,2,2V5H3V2H4V3H9V2h1v9H3V8H2v3a1,1,0,0,0,1,1h7a1,1,0,0,0,1-1V2A1,1,0,0,0,10,1ZM6.5,2.25a.75.75,0,1,1,.75-.75A.76.76,0,0,1,6.5,2.25Z"></path><path d="M6.32,6.32,4.43,4.43A.25.25,0,0,0,4,4.6V8.4a.25.25,0,0,0,.43.17L6.32,6.68A.25.25,0,0,0,6.32,6.32Z"></path></svg><strong class="copy-button-label"></strong><span class="tooltip hidden"> Copy to Clipboard</span>
</div></button>
<div class="content">
<pre>	--inline,	-ih		Insert PPS, SPS headers</pre>
</div>
</div>
<div class="paragraph">
<p>Forces the stream to include PPS and SPS headers on every I-frame. Needed for certain streaming cases e.g. Apple HLS. These headers are small, so dont greatly increase the file size.</p>
</div>
<div class="listingblock">
<button class="copy-button hidden" aria-label="copy code to clipboard" type="button" aria-hidden="true"><div class="copy-button-inner">
<svg xmlns="http://www.w3.org/2000/svg" id="Layer_1" data-name="Layer 1" viewBox="0 0 12 12"><rect x="1" y="6" width="5" height="1"></rect><path d="M10,1H8A1,1,0,0,0,7,0H6A1,1,0,0,0,5,1H3A1,1,0,0,0,2,2V5H3V2H4V3H9V2h1v9H3V8H2v3a1,1,0,0,0,1,1h7a1,1,0,0,0,1-1V2A1,1,0,0,0,10,1ZM6.5,2.25a.75.75,0,1,1,.75-.75A.76.76,0,0,1,6.5,2.25Z"></path><path d="M6.32,6.32,4.43,4.43A.25.25,0,0,0,4,4.6V8.4a.25.25,0,0,0,.43.17L6.32,6.68A.25.25,0,0,0,6.32,6.32Z"></path></svg><strong class="copy-button-label"></strong><span class="tooltip hidden"> Copy to Clipboard</span>
</div></button>
<div class="content">
<pre>	--spstimings,	-stm</pre>
</div>
</div>
<div class="paragraph">
<p>Insert timing information into the SPS block.</p>
</div>
<div class="listingblock">
<button class="copy-button hidden" aria-label="copy code to clipboard" type="button" aria-hidden="true"><div class="copy-button-inner">
<svg xmlns="http://www.w3.org/2000/svg" id="Layer_1" data-name="Layer 1" viewBox="0 0 12 12"><rect x="1" y="6" width="5" height="1"></rect><path d="M10,1H8A1,1,0,0,0,7,0H6A1,1,0,0,0,5,1H3A1,1,0,0,0,2,2V5H3V2H4V3H9V2h1v9H3V8H2v3a1,1,0,0,0,1,1h7a1,1,0,0,0,1-1V2A1,1,0,0,0,10,1ZM6.5,2.25a.75.75,0,1,1,.75-.75A.76.76,0,0,1,6.5,2.25Z"></path><path d="M6.32,6.32,4.43,4.43A.25.25,0,0,0,4,4.6V8.4a.25.25,0,0,0,.43.17L6.32,6.68A.25.25,0,0,0,6.32,6.32Z"></path></svg><strong class="copy-button-label"></strong><span class="tooltip hidden"> Copy to Clipboard</span>
</div></button>
<div class="content">
<pre>	--timed,	-td		Do timed switches between capture and pause</pre>
</div>
</div>
<div class="paragraph">
<p>This options allows the video capture to be paused and restarted at particular time intervals. Two values are required: the on time and the off time. On time is the amount of time the video is captured, and off time is the amount it is paused. The total time of the recording is defined by the <code>timeout</code> option. Note that the recording may take slightly over the timeout setting depending on the on and off times.</p>
</div>
<div class="paragraph">
<p>For example:</p>
</div>
<div class="listingblock">
<button class="copy-button hidden" aria-label="copy code to clipboard" type="button" aria-hidden="true"><div class="copy-button-inner">
<svg xmlns="http://www.w3.org/2000/svg" id="Layer_1" data-name="Layer 1" viewBox="0 0 12 12"><rect x="1" y="6" width="5" height="1"></rect><path d="M10,1H8A1,1,0,0,0,7,0H6A1,1,0,0,0,5,1H3A1,1,0,0,0,2,2V5H3V2H4V3H9V2h1v9H3V8H2v3a1,1,0,0,0,1,1h7a1,1,0,0,0,1-1V2A1,1,0,0,0,10,1ZM6.5,2.25a.75.75,0,1,1,.75-.75A.76.76,0,0,1,6.5,2.25Z"></path><path d="M6.32,6.32,4.43,4.43A.25.25,0,0,0,4,4.6V8.4a.25.25,0,0,0,.43.17L6.32,6.68A.25.25,0,0,0,6.32,6.32Z"></path></svg><strong class="copy-button-label"></strong><span class="tooltip hidden"> Copy to Clipboard</span>
</div></button>
<div class="content">
<pre>raspivid -o test.h264 -t 25000 -timed 2500,5000</pre>
</div>
</div>
<div class="paragraph">
<p>will record for a period of 25 seconds. The recording will be over a timeframe consisting of 2500ms (2.5s) segments with 5000ms (5s) gaps, repeating over the 20s. So the entire recording will actually be only 10s long, since 4 segments of 2.5s = 10s separated by 5s gaps. So:</p>
</div>
<div class="paragraph">
<p>2.5 record5 pause - 2.5 record5 pause - 2.5 record5 pause2.5 record</p>
</div>
<div class="paragraph">
<p>gives a total recording period of 25s, but only 10s of actual recorded footage.</p>
</div>
<div class="listingblock">
<button class="copy-button hidden" aria-label="copy code to clipboard" type="button" aria-hidden="true"><div class="copy-button-inner">
<svg xmlns="http://www.w3.org/2000/svg" id="Layer_1" data-name="Layer 1" viewBox="0 0 12 12"><rect x="1" y="6" width="5" height="1"></rect><path d="M10,1H8A1,1,0,0,0,7,0H6A1,1,0,0,0,5,1H3A1,1,0,0,0,2,2V5H3V2H4V3H9V2h1v9H3V8H2v3a1,1,0,0,0,1,1h7a1,1,0,0,0,1-1V2A1,1,0,0,0,10,1ZM6.5,2.25a.75.75,0,1,1,.75-.75A.76.76,0,0,1,6.5,2.25Z"></path><path d="M6.32,6.32,4.43,4.43A.25.25,0,0,0,4,4.6V8.4a.25.25,0,0,0,.43.17L6.32,6.68A.25.25,0,0,0,6.32,6.32Z"></path></svg><strong class="copy-button-label"></strong><span class="tooltip hidden"> Copy to Clipboard</span>
</div></button>
<div class="content">
<pre>	--keypress,	-k		Toggle between record and pause on Enter keypress</pre>
</div>
</div>
<div class="paragraph">
<p>On each press of the Enter key, the recording will be paused or restarted. Pressing X then Enter will stop recording and close the application. Note that the timeout value will be used to signal the end of recording, but is only checked after each Enter keypress; so if the system is waiting for a keypress, even if the timeout has expired, it will still wait for the keypress before exiting.</p>
</div>
<div class="listingblock">
<button class="copy-button hidden" aria-label="copy code to clipboard" type="button" aria-hidden="true"><div class="copy-button-inner">
<svg xmlns="http://www.w3.org/2000/svg" id="Layer_1" data-name="Layer 1" viewBox="0 0 12 12"><rect x="1" y="6" width="5" height="1"></rect><path d="M10,1H8A1,1,0,0,0,7,0H6A1,1,0,0,0,5,1H3A1,1,0,0,0,2,2V5H3V2H4V3H9V2h1v9H3V8H2v3a1,1,0,0,0,1,1h7a1,1,0,0,0,1-1V2A1,1,0,0,0,10,1ZM6.5,2.25a.75.75,0,1,1,.75-.75A.76.76,0,0,1,6.5,2.25Z"></path><path d="M6.32,6.32,4.43,4.43A.25.25,0,0,0,4,4.6V8.4a.25.25,0,0,0,.43.17L6.32,6.68A.25.25,0,0,0,6.32,6.32Z"></path></svg><strong class="copy-button-label"></strong><span class="tooltip hidden"> Copy to Clipboard</span>
</div></button>
<div class="content">
<pre>	--signal,	-s		Toggle between record and pause according to SIGUSR1</pre>
</div>
</div>
<div class="paragraph">
<p>Sending a <code>USR1</code> signal to the <code>raspivid</code> process will toggle between recording and paused. This can be done using the <code>kill</code> command, as below. You can find the <code>raspivid</code> process ID using <code>pgrep raspivid</code>.</p>
</div>
<div class="paragraph">
<p><code>kill -USR1 &lt;process id of raspivid&gt;</code></p>
</div>
<div class="paragraph">
<p>Note that the timeout value will be used to indicate the end of recording, but is only checked after each receipt of the <code>SIGUSR1</code> signal; so if the system is waiting for a signal, even if the timeout has expired, it will still wait for the signal before exiting.</p>
</div>
<div class="listingblock">
<button class="copy-button hidden" aria-label="copy code to clipboard" type="button" aria-hidden="true"><div class="copy-button-inner">
<svg xmlns="http://www.w3.org/2000/svg" id="Layer_1" data-name="Layer 1" viewBox="0 0 12 12"><rect x="1" y="6" width="5" height="1"></rect><path d="M10,1H8A1,1,0,0,0,7,0H6A1,1,0,0,0,5,1H3A1,1,0,0,0,2,2V5H3V2H4V3H9V2h1v9H3V8H2v3a1,1,0,0,0,1,1h7a1,1,0,0,0,1-1V2A1,1,0,0,0,10,1ZM6.5,2.25a.75.75,0,1,1,.75-.75A.76.76,0,0,1,6.5,2.25Z"></path><path d="M6.32,6.32,4.43,4.43A.25.25,0,0,0,4,4.6V8.4a.25.25,0,0,0,.43.17L6.32,6.68A.25.25,0,0,0,6.32,6.32Z"></path></svg><strong class="copy-button-label"></strong><span class="tooltip hidden"> Copy to Clipboard</span>
</div></button>
<div class="content">
<pre>	--split,	-sp</pre>
</div>
</div>
<div class="paragraph">
<p>When in a signal or keypress mode, each time recording is restarted, a new file is created.</p>
</div>
<div class="listingblock">
<button class="copy-button hidden" aria-label="copy code to clipboard" type="button" aria-hidden="true"><div class="copy-button-inner">
<svg xmlns="http://www.w3.org/2000/svg" id="Layer_1" data-name="Layer 1" viewBox="0 0 12 12"><rect x="1" y="6" width="5" height="1"></rect><path d="M10,1H8A1,1,0,0,0,7,0H6A1,1,0,0,0,5,1H3A1,1,0,0,0,2,2V5H3V2H4V3H9V2h1v9H3V8H2v3a1,1,0,0,0,1,1h7a1,1,0,0,0,1-1V2A1,1,0,0,0,10,1ZM6.5,2.25a.75.75,0,1,1,.75-.75A.76.76,0,0,1,6.5,2.25Z"></path><path d="M6.32,6.32,4.43,4.43A.25.25,0,0,0,4,4.6V8.4a.25.25,0,0,0,.43.17L6.32,6.68A.25.25,0,0,0,6.32,6.32Z"></path></svg><strong class="copy-button-label"></strong><span class="tooltip hidden"> Copy to Clipboard</span>
</div></button>
<div class="content">
<pre>	--circular,	-c</pre>
</div>
</div>
<div class="paragraph">
<p>Select circular buffer mode. All encoded data is stored in a circular buffer until a trigger is activated, then the buffer is saved.</p>
</div>
<div class="listingblock">
<button class="copy-button hidden" aria-label="copy code to clipboard" type="button" aria-hidden="true"><div class="copy-button-inner">
<svg xmlns="http://www.w3.org/2000/svg" id="Layer_1" data-name="Layer 1" viewBox="0 0 12 12"><rect x="1" y="6" width="5" height="1"></rect><path d="M10,1H8A1,1,0,0,0,7,0H6A1,1,0,0,0,5,1H3A1,1,0,0,0,2,2V5H3V2H4V3H9V2h1v9H3V8H2v3a1,1,0,0,0,1,1h7a1,1,0,0,0,1-1V2A1,1,0,0,0,10,1ZM6.5,2.25a.75.75,0,1,1,.75-.75A.76.76,0,0,1,6.5,2.25Z"></path><path d="M6.32,6.32,4.43,4.43A.25.25,0,0,0,4,4.6V8.4a.25.25,0,0,0,.43.17L6.32,6.68A.25.25,0,0,0,6.32,6.32Z"></path></svg><strong class="copy-button-label"></strong><span class="tooltip hidden"> Copy to Clipboard</span>
</div></button>
<div class="content">
<pre>	--vectors,	-x</pre>
</div>
</div>
<div class="paragraph">
<p>Turns on output of motion vectors from the H264 encoder to the specified file name.</p>
</div>
<div class="listingblock">
<button class="copy-button hidden" aria-label="copy code to clipboard" type="button" aria-hidden="true"><div class="copy-button-inner">
<svg xmlns="http://www.w3.org/2000/svg" id="Layer_1" data-name="Layer 1" viewBox="0 0 12 12"><rect x="1" y="6" width="5" height="1"></rect><path d="M10,1H8A1,1,0,0,0,7,0H6A1,1,0,0,0,5,1H3A1,1,0,0,0,2,2V5H3V2H4V3H9V2h1v9H3V8H2v3a1,1,0,0,0,1,1h7a1,1,0,0,0,1-1V2A1,1,0,0,0,10,1ZM6.5,2.25a.75.75,0,1,1,.75-.75A.76.76,0,0,1,6.5,2.25Z"></path><path d="M6.32,6.32,4.43,4.43A.25.25,0,0,0,4,4.6V8.4a.25.25,0,0,0,.43.17L6.32,6.68A.25.25,0,0,0,6.32,6.32Z"></path></svg><strong class="copy-button-label"></strong><span class="tooltip hidden"> Copy to Clipboard</span>
</div></button>
<div class="content">
<pre>	--flush,	-fl</pre>
</div>
</div>
<div class="paragraph">
<p>Forces a flush of output data buffers as soon as video data is written. This bypasses any OS caching of written data, and can decrease latency.</p>
</div>
<div class="listingblock">
<button class="copy-button hidden" aria-label="copy code to clipboard" type="button" aria-hidden="true"><div class="copy-button-inner">
<svg xmlns="http://www.w3.org/2000/svg" id="Layer_1" data-name="Layer 1" viewBox="0 0 12 12"><rect x="1" y="6" width="5" height="1"></rect><path d="M10,1H8A1,1,0,0,0,7,0H6A1,1,0,0,0,5,1H3A1,1,0,0,0,2,2V5H3V2H4V3H9V2h1v9H3V8H2v3a1,1,0,0,0,1,1h7a1,1,0,0,0,1-1V2A1,1,0,0,0,10,1ZM6.5,2.25a.75.75,0,1,1,.75-.75A.76.76,0,0,1,6.5,2.25Z"></path><path d="M6.32,6.32,4.43,4.43A.25.25,0,0,0,4,4.6V8.4a.25.25,0,0,0,.43.17L6.32,6.68A.25.25,0,0,0,6.32,6.32Z"></path></svg><strong class="copy-button-label"></strong><span class="tooltip hidden"> Copy to Clipboard</span>
</div></button>
<div class="content">
<pre>	--save-pts,	-pts</pre>
</div>
</div>
<div class="paragraph">
<p>Saves timestamp information to the specified file. Useful as an input file to <code>mkvmerge</code>.</p>
</div>
<div class="listingblock">
<button class="copy-button hidden" aria-label="copy code to clipboard" type="button" aria-hidden="true"><div class="copy-button-inner">
<svg xmlns="http://www.w3.org/2000/svg" id="Layer_1" data-name="Layer 1" viewBox="0 0 12 12"><rect x="1" y="6" width="5" height="1"></rect><path d="M10,1H8A1,1,0,0,0,7,0H6A1,1,0,0,0,5,1H3A1,1,0,0,0,2,2V5H3V2H4V3H9V2h1v9H3V8H2v3a1,1,0,0,0,1,1h7a1,1,0,0,0,1-1V2A1,1,0,0,0,10,1ZM6.5,2.25a.75.75,0,1,1,.75-.75A.76.76,0,0,1,6.5,2.25Z"></path><path d="M6.32,6.32,4.43,4.43A.25.25,0,0,0,4,4.6V8.4a.25.25,0,0,0,.43.17L6.32,6.68A.25.25,0,0,0,6.32,6.32Z"></path></svg><strong class="copy-button-label"></strong><span class="tooltip hidden"> Copy to Clipboard</span>
</div></button>
<div class="content">
<pre>	--codec,	-cd</pre>
</div>
</div>
<div class="paragraph">
<p>Specifies the encoder codec to use. Options are <code>H264</code> and <code>MJPEG</code>. H264 can encode up to 1080p, whereas MJPEG can encode up to the sensor size, but at decreased framerates due to the higher processing and storage requirements.</p>
</div>
<div class="listingblock">
<button class="copy-button hidden" aria-label="copy code to clipboard" type="button" aria-hidden="true"><div class="copy-button-inner">
<svg xmlns="http://www.w3.org/2000/svg" id="Layer_1" data-name="Layer 1" viewBox="0 0 12 12"><rect x="1" y="6" width="5" height="1"></rect><path d="M10,1H8A1,1,0,0,0,7,0H6A1,1,0,0,0,5,1H3A1,1,0,0,0,2,2V5H3V2H4V3H9V2h1v9H3V8H2v3a1,1,0,0,0,1,1h7a1,1,0,0,0,1-1V2A1,1,0,0,0,10,1ZM6.5,2.25a.75.75,0,1,1,.75-.75A.76.76,0,0,1,6.5,2.25Z"></path><path d="M6.32,6.32,4.43,4.43A.25.25,0,0,0,4,4.6V8.4a.25.25,0,0,0,.43.17L6.32,6.68A.25.25,0,0,0,6.32,6.32Z"></path></svg><strong class="copy-button-label"></strong><span class="tooltip hidden"> Copy to Clipboard</span>
</div></button>
<div class="content">
<pre>	--initial,	-i		Define initial state on startup</pre>
</div>
</div>
<div class="paragraph">
<p>Define whether the camera will start paused or will immediately start recording. Options are <code>record</code> or <code>pause</code>. Note that if you are using a simple timeout, and <code>initial</code> is set to <code>pause</code>, no output will be recorded.</p>
</div>
<div class="listingblock">
<button class="copy-button hidden" aria-label="copy code to clipboard" type="button" aria-hidden="true"><div class="copy-button-inner">
<svg xmlns="http://www.w3.org/2000/svg" id="Layer_1" data-name="Layer 1" viewBox="0 0 12 12"><rect x="1" y="6" width="5" height="1"></rect><path d="M10,1H8A1,1,0,0,0,7,0H6A1,1,0,0,0,5,1H3A1,1,0,0,0,2,2V5H3V2H4V3H9V2h1v9H3V8H2v3a1,1,0,0,0,1,1h7a1,1,0,0,0,1-1V2A1,1,0,0,0,10,1ZM6.5,2.25a.75.75,0,1,1,.75-.75A.76.76,0,0,1,6.5,2.25Z"></path><path d="M6.32,6.32,4.43,4.43A.25.25,0,0,0,4,4.6V8.4a.25.25,0,0,0,.43.17L6.32,6.68A.25.25,0,0,0,6.32,6.32Z"></path></svg><strong class="copy-button-label"></strong><span class="tooltip hidden"> Copy to Clipboard</span>
</div></button>
<div class="content">
<pre>	--segment,	-sg		Segment the stream into multiple files</pre>
</div>
</div>
<div class="paragraph">
<p>Rather than creating a single file, the file is split into segments of approximately the number of milliseconds specified. In order to provide different filenames, you should add <code>%04d</code> or similar at the point in the filename where you want a segment count number to appear e.g:</p>
</div>
<div class="listingblock">
<button class="copy-button hidden" aria-label="copy code to clipboard" type="button" aria-hidden="true"><div class="copy-button-inner">
<svg xmlns="http://www.w3.org/2000/svg" id="Layer_1" data-name="Layer 1" viewBox="0 0 12 12"><rect x="1" y="6" width="5" height="1"></rect><path d="M10,1H8A1,1,0,0,0,7,0H6A1,1,0,0,0,5,1H3A1,1,0,0,0,2,2V5H3V2H4V3H9V2h1v9H3V8H2v3a1,1,0,0,0,1,1h7a1,1,0,0,0,1-1V2A1,1,0,0,0,10,1ZM6.5,2.25a.75.75,0,1,1,.75-.75A.76.76,0,0,1,6.5,2.25Z"></path><path d="M6.32,6.32,4.43,4.43A.25.25,0,0,0,4,4.6V8.4a.25.25,0,0,0,.43.17L6.32,6.68A.25.25,0,0,0,6.32,6.32Z"></path></svg><strong class="copy-button-label"></strong><span class="tooltip hidden"> Copy to Clipboard</span>
</div></button>
<div class="content">
<pre>--segment 3000 -o video%04d.h264</pre>
</div>
</div>
<div class="paragraph">
<p>will produce video clips of approximately 3000ms (3s) long, named <code>video0001.h264</code>, <code>video0002.h264</code> etc. The clips should be seamless (no frame drops between clips), but the accuracy of each clip length will depend on the intraframe period, as the segments will always start on an I-frame. They will therefore always be equal or longer to the specified period.</p>
</div>
<div class="paragraph">
<p>The most recent version of Raspivid will also allow the file name to be time-based, rather than using a segment number. For example:</p>
</div>
<div class="listingblock">
<button class="copy-button hidden" aria-label="copy code to clipboard" type="button" aria-hidden="true"><div class="copy-button-inner">
<svg xmlns="http://www.w3.org/2000/svg" id="Layer_1" data-name="Layer 1" viewBox="0 0 12 12"><rect x="1" y="6" width="5" height="1"></rect><path d="M10,1H8A1,1,0,0,0,7,0H6A1,1,0,0,0,5,1H3A1,1,0,0,0,2,2V5H3V2H4V3H9V2h1v9H3V8H2v3a1,1,0,0,0,1,1h7a1,1,0,0,0,1-1V2A1,1,0,0,0,10,1ZM6.5,2.25a.75.75,0,1,1,.75-.75A.76.76,0,0,1,6.5,2.25Z"></path><path d="M6.32,6.32,4.43,4.43A.25.25,0,0,0,4,4.6V8.4a.25.25,0,0,0,.43.17L6.32,6.68A.25.25,0,0,0,6.32,6.32Z"></path></svg><strong class="copy-button-label"></strong><span class="tooltip hidden"> Copy to Clipboard</span>
</div></button>
<div class="content">
<pre>--segment 3000 -o video_%c.h264</pre>
</div>
</div>
<div class="paragraph">
<p>will produce file names formatted like so: <code>video_Fri Jul 20 16:23:48 2018.h264</code></p>
</div>
<div class="paragraph">
<p>There are <a href="http://man7.org/linux/man-pages/man3/strftime.3.html">many different formatting options</a> available. Note than the <code>%d</code> and <code>%u</code> options are not available, as they are used for the segment number formatting, and that some combinations may produce invalid file names.</p>
</div>
<div class="listingblock">
<button class="copy-button hidden" aria-label="copy code to clipboard" type="button" aria-hidden="true"><div class="copy-button-inner">
<svg xmlns="http://www.w3.org/2000/svg" id="Layer_1" data-name="Layer 1" viewBox="0 0 12 12"><rect x="1" y="6" width="5" height="1"></rect><path d="M10,1H8A1,1,0,0,0,7,0H6A1,1,0,0,0,5,1H3A1,1,0,0,0,2,2V5H3V2H4V3H9V2h1v9H3V8H2v3a1,1,0,0,0,1,1h7a1,1,0,0,0,1-1V2A1,1,0,0,0,10,1ZM6.5,2.25a.75.75,0,1,1,.75-.75A.76.76,0,0,1,6.5,2.25Z"></path><path d="M6.32,6.32,4.43,4.43A.25.25,0,0,0,4,4.6V8.4a.25.25,0,0,0,.43.17L6.32,6.68A.25.25,0,0,0,6.32,6.32Z"></path></svg><strong class="copy-button-label"></strong><span class="tooltip hidden"> Copy to Clipboard</span>
</div></button>
<div class="content">
<pre>	--wrap,	-wr		Set the maximum value for segment number</pre>
</div>
</div>
<div class="paragraph">
<p>When outputting segments, this is the maximum the segment number can reach before its reset to 1, giving the ability to keep recording segments, but overwriting the oldest one. So if set to 4, in the segment example above, the files produced will be <code>video0001.h264</code>, <code>video0002.h264</code>, <code>video0003.h264</code>, and <code>video0004.h264</code>. Once <code>video0004.h264</code> is recorded, the count will reset to 1, and <code>video0001.h264</code> will be overwritten.</p>
</div>
<div class="listingblock">
<button class="copy-button hidden" aria-label="copy code to clipboard" type="button" aria-hidden="true"><div class="copy-button-inner">
<svg xmlns="http://www.w3.org/2000/svg" id="Layer_1" data-name="Layer 1" viewBox="0 0 12 12"><rect x="1" y="6" width="5" height="1"></rect><path d="M10,1H8A1,1,0,0,0,7,0H6A1,1,0,0,0,5,1H3A1,1,0,0,0,2,2V5H3V2H4V3H9V2h1v9H3V8H2v3a1,1,0,0,0,1,1h7a1,1,0,0,0,1-1V2A1,1,0,0,0,10,1ZM6.5,2.25a.75.75,0,1,1,.75-.75A.76.76,0,0,1,6.5,2.25Z"></path><path d="M6.32,6.32,4.43,4.43A.25.25,0,0,0,4,4.6V8.4a.25.25,0,0,0,.43.17L6.32,6.68A.25.25,0,0,0,6.32,6.32Z"></path></svg><strong class="copy-button-label"></strong><span class="tooltip hidden"> Copy to Clipboard</span>
</div></button>
<div class="content">
<pre>	--start,	-sn		Set the initial segment number</pre>
</div>
</div>
<div class="paragraph">
<p>When outputting segments, this is the initial segment number, giving the ability to resume a previous recording from a given segment. The default value is 1.</p>
</div>
<div class="listingblock">
<button class="copy-button hidden" aria-label="copy code to clipboard" type="button" aria-hidden="true"><div class="copy-button-inner">
<svg xmlns="http://www.w3.org/2000/svg" id="Layer_1" data-name="Layer 1" viewBox="0 0 12 12"><rect x="1" y="6" width="5" height="1"></rect><path d="M10,1H8A1,1,0,0,0,7,0H6A1,1,0,0,0,5,1H3A1,1,0,0,0,2,2V5H3V2H4V3H9V2h1v9H3V8H2v3a1,1,0,0,0,1,1h7a1,1,0,0,0,1-1V2A1,1,0,0,0,10,1ZM6.5,2.25a.75.75,0,1,1,.75-.75A.76.76,0,0,1,6.5,2.25Z"></path><path d="M6.32,6.32,4.43,4.43A.25.25,0,0,0,4,4.6V8.4a.25.25,0,0,0,.43.17L6.32,6.68A.25.25,0,0,0,6.32,6.32Z"></path></svg><strong class="copy-button-label"></strong><span class="tooltip hidden"> Copy to Clipboard</span>
</div></button>
<div class="content">
<pre>	--raw,	-r</pre>
</div>
</div>
<div class="paragraph">
<p>Specify the output file name for any raw data files requested.</p>
</div>
<div class="listingblock">
<button class="copy-button hidden" aria-label="copy code to clipboard" type="button" aria-hidden="true"><div class="copy-button-inner">
<svg xmlns="http://www.w3.org/2000/svg" id="Layer_1" data-name="Layer 1" viewBox="0 0 12 12"><rect x="1" y="6" width="5" height="1"></rect><path d="M10,1H8A1,1,0,0,0,7,0H6A1,1,0,0,0,5,1H3A1,1,0,0,0,2,2V5H3V2H4V3H9V2h1v9H3V8H2v3a1,1,0,0,0,1,1h7a1,1,0,0,0,1-1V2A1,1,0,0,0,10,1ZM6.5,2.25a.75.75,0,1,1,.75-.75A.76.76,0,0,1,6.5,2.25Z"></path><path d="M6.32,6.32,4.43,4.43A.25.25,0,0,0,4,4.6V8.4a.25.25,0,0,0,.43.17L6.32,6.68A.25.25,0,0,0,6.32,6.32Z"></path></svg><strong class="copy-button-label"></strong><span class="tooltip hidden"> Copy to Clipboard</span>
</div></button>
<div class="content">
<pre>	--raw-format,	-rf</pre>
</div>
</div>
<div class="paragraph">
<p>Specify the raw format to be used if raw output requested. Options as <code>yuv</code>, <code>rgb</code>, and <code>grey</code>. <code>grey</code> simply saves the Y channel of the YUV image.</p>
</div>
</div>
<div class="sect3">
<h4 id="raspiyuv-2">
<a class="anchor" href="https://www.raspberrypi.com/documentation/accessories/camera.html#raspiyuv-2"></a><code>raspiyuv</code>
</h4>
<div class="paragraph">
<p>Many of the options for <code>raspiyuv</code> are the same as those for <code>raspistill</code>. This section shows the differences.</p>
</div>
<div class="paragraph">
<p>Unsupported options:</p>
</div>
<div class="listingblock">
<button class="copy-button hidden" aria-label="copy code to clipboard" type="button" aria-hidden="true"><div class="copy-button-inner">
<svg xmlns="http://www.w3.org/2000/svg" id="Layer_1" data-name="Layer 1" viewBox="0 0 12 12"><rect x="1" y="6" width="5" height="1"></rect><path d="M10,1H8A1,1,0,0,0,7,0H6A1,1,0,0,0,5,1H3A1,1,0,0,0,2,2V5H3V2H4V3H9V2h1v9H3V8H2v3a1,1,0,0,0,1,1h7a1,1,0,0,0,1-1V2A1,1,0,0,0,10,1ZM6.5,2.25a.75.75,0,1,1,.75-.75A.76.76,0,0,1,6.5,2.25Z"></path><path d="M6.32,6.32,4.43,4.43A.25.25,0,0,0,4,4.6V8.4a.25.25,0,0,0,.43.17L6.32,6.68A.25.25,0,0,0,6.32,6.32Z"></path></svg><strong class="copy-button-label"></strong><span class="tooltip hidden"> Copy to Clipboard</span>
</div></button>
<div class="content">
<pre>--exif, --encoding, --thumb, --raw, --quality</pre>
</div>
</div>
<div class="paragraph">
<p>Extra options :</p>
</div>
<div class="listingblock">
<button class="copy-button hidden" aria-label="copy code to clipboard" type="button" aria-hidden="true"><div class="copy-button-inner">
<svg xmlns="http://www.w3.org/2000/svg" id="Layer_1" data-name="Layer 1" viewBox="0 0 12 12"><rect x="1" y="6" width="5" height="1"></rect><path d="M10,1H8A1,1,0,0,0,7,0H6A1,1,0,0,0,5,1H3A1,1,0,0,0,2,2V5H3V2H4V3H9V2h1v9H3V8H2v3a1,1,0,0,0,1,1h7a1,1,0,0,0,1-1V2A1,1,0,0,0,10,1ZM6.5,2.25a.75.75,0,1,1,.75-.75A.76.76,0,0,1,6.5,2.25Z"></path><path d="M6.32,6.32,4.43,4.43A.25.25,0,0,0,4,4.6V8.4a.25.25,0,0,0,.43.17L6.32,6.68A.25.25,0,0,0,6.32,6.32Z"></path></svg><strong class="copy-button-label"></strong><span class="tooltip hidden"> Copy to Clipboard</span>
</div></button>
<div class="content">
<pre>	--rgb,	-rgb		Save uncompressed data as RGB888</pre>
</div>
</div>
<div class="paragraph">
<p>This option forces the image to be saved as RGB data with 8 bits per channel, rather than YUV420.</p>
</div>
<div class="paragraph">
<p>Note that the image buffers saved in <code>raspiyuv</code> are padded to a horizontal size divisible by 32, so there may be unused bytes at the end of each line. Buffers are also padded vertically to be divisible by 16, and in the YUV mode, each plane of Y,U,V is padded in this way.</p>
</div>
<div class="listingblock">
<button class="copy-button hidden" aria-label="copy code to clipboard" type="button" aria-hidden="true"><div class="copy-button-inner">
<svg xmlns="http://www.w3.org/2000/svg" id="Layer_1" data-name="Layer 1" viewBox="0 0 12 12"><rect x="1" y="6" width="5" height="1"></rect><path d="M10,1H8A1,1,0,0,0,7,0H6A1,1,0,0,0,5,1H3A1,1,0,0,0,2,2V5H3V2H4V3H9V2h1v9H3V8H2v3a1,1,0,0,0,1,1h7a1,1,0,0,0,1-1V2A1,1,0,0,0,10,1ZM6.5,2.25a.75.75,0,1,1,.75-.75A.76.76,0,0,1,6.5,2.25Z"></path><path d="M6.32,6.32,4.43,4.43A.25.25,0,0,0,4,4.6V8.4a.25.25,0,0,0,.43.17L6.32,6.68A.25.25,0,0,0,6.32,6.32Z"></path></svg><strong class="copy-button-label"></strong><span class="tooltip hidden"> Copy to Clipboard</span>
</div></button>
<div class="content">
<pre>	--luma,	-y</pre>
</div>
</div>
<div class="paragraph">
<p>Only outputs the luma (Y) channel of the YUV image. This is effectively the black and white, or intensity, part of the image.</p>
</div>
<div class="listingblock">
<button class="copy-button hidden" aria-label="copy code to clipboard" type="button" aria-hidden="true"><div class="copy-button-inner">
<svg xmlns="http://www.w3.org/2000/svg" id="Layer_1" data-name="Layer 1" viewBox="0 0 12 12"><rect x="1" y="6" width="5" height="1"></rect><path d="M10,1H8A1,1,0,0,0,7,0H6A1,1,0,0,0,5,1H3A1,1,0,0,0,2,2V5H3V2H4V3H9V2h1v9H3V8H2v3a1,1,0,0,0,1,1h7a1,1,0,0,0,1-1V2A1,1,0,0,0,10,1ZM6.5,2.25a.75.75,0,1,1,.75-.75A.76.76,0,0,1,6.5,2.25Z"></path><path d="M6.32,6.32,4.43,4.43A.25.25,0,0,0,4,4.6V8.4a.25.25,0,0,0,.43.17L6.32,6.68A.25.25,0,0,0,6.32,6.32Z"></path></svg><strong class="copy-button-label"></strong><span class="tooltip hidden"> Copy to Clipboard</span>
</div></button>
<div class="content">
<pre>	--bgr,	-bgr</pre>
</div>
</div>
<div class="paragraph">
<p>Saves the image data as BGR data rather than YUV.</p>
</div>
</div>
</div>
<div class="sect2">
<div name="command-line-examples" data-unique="command-line-examples"></div><h3 id="command-line-examples">
<a class="anchor" href="https://www.raspberrypi.com/documentation/accessories/camera.html#command-line-examples"></a>Command Line Examples</h3>
<div class="sect3">
<h4 id="still-captures">
<a class="anchor" href="https://www.raspberrypi.com/documentation/accessories/camera.html#still-captures"></a>Still Captures</h4>
<div class="paragraph">
<p>By default, captures are done at the highest resolution supported by the sensor. This can be changed using the <code>-w</code> and <code>-h</code> command line options.</p>
</div>
<div class="paragraph">
<p>Take a default capture after 2s (times are specified in milliseconds) on the viewfinder, saving in <code>image.jpg</code>:</p>
</div>
<div class="listingblock">
<button class="copy-button hidden" aria-label="copy code to clipboard" type="button" aria-hidden="true"><div class="copy-button-inner">
<svg xmlns="http://www.w3.org/2000/svg" id="Layer_1" data-name="Layer 1" viewBox="0 0 12 12"><rect x="1" y="6" width="5" height="1"></rect><path d="M10,1H8A1,1,0,0,0,7,0H6A1,1,0,0,0,5,1H3A1,1,0,0,0,2,2V5H3V2H4V3H9V2h1v9H3V8H2v3a1,1,0,0,0,1,1h7a1,1,0,0,0,1-1V2A1,1,0,0,0,10,1ZM6.5,2.25a.75.75,0,1,1,.75-.75A.76.76,0,0,1,6.5,2.25Z"></path><path d="M6.32,6.32,4.43,4.43A.25.25,0,0,0,4,4.6V8.4a.25.25,0,0,0,.43.17L6.32,6.68A.25.25,0,0,0,6.32,6.32Z"></path></svg><strong class="copy-button-label"></strong><span class="tooltip hidden"> Copy to Clipboard</span>
</div></button>
<div class="content">
<pre class="highlight"><code class="language-bash" data-lang="bash">raspistill -t 2000 -o image.jpg</code></pre>
</div>
</div>
<div class="paragraph">
<p>Take a capture at a different resolution:</p>
</div>
<div class="listingblock">
<button class="copy-button hidden" aria-label="copy code to clipboard" type="button" aria-hidden="true"><div class="copy-button-inner">
<svg xmlns="http://www.w3.org/2000/svg" id="Layer_1" data-name="Layer 1" viewBox="0 0 12 12"><rect x="1" y="6" width="5" height="1"></rect><path d="M10,1H8A1,1,0,0,0,7,0H6A1,1,0,0,0,5,1H3A1,1,0,0,0,2,2V5H3V2H4V3H9V2h1v9H3V8H2v3a1,1,0,0,0,1,1h7a1,1,0,0,0,1-1V2A1,1,0,0,0,10,1ZM6.5,2.25a.75.75,0,1,1,.75-.75A.76.76,0,0,1,6.5,2.25Z"></path><path d="M6.32,6.32,4.43,4.43A.25.25,0,0,0,4,4.6V8.4a.25.25,0,0,0,.43.17L6.32,6.68A.25.25,0,0,0,6.32,6.32Z"></path></svg><strong class="copy-button-label"></strong><span class="tooltip hidden"> Copy to Clipboard</span>
</div></button>
<div class="content">
<pre class="highlight"><code class="language-bash" data-lang="bash">raspistill -t 2000 -o image.jpg -w 640 -h 480</code></pre>
</div>
</div>
<div class="paragraph">
<p>Reduce the quality considerably to reduce file size:</p>
</div>
<div class="listingblock">
<button class="copy-button hidden" aria-label="copy code to clipboard" type="button" aria-hidden="true"><div class="copy-button-inner">
<svg xmlns="http://www.w3.org/2000/svg" id="Layer_1" data-name="Layer 1" viewBox="0 0 12 12"><rect x="1" y="6" width="5" height="1"></rect><path d="M10,1H8A1,1,0,0,0,7,0H6A1,1,0,0,0,5,1H3A1,1,0,0,0,2,2V5H3V2H4V3H9V2h1v9H3V8H2v3a1,1,0,0,0,1,1h7a1,1,0,0,0,1-1V2A1,1,0,0,0,10,1ZM6.5,2.25a.75.75,0,1,1,.75-.75A.76.76,0,0,1,6.5,2.25Z"></path><path d="M6.32,6.32,4.43,4.43A.25.25,0,0,0,4,4.6V8.4a.25.25,0,0,0,.43.17L6.32,6.68A.25.25,0,0,0,6.32,6.32Z"></path></svg><strong class="copy-button-label"></strong><span class="tooltip hidden"> Copy to Clipboard</span>
</div></button>
<div class="content">
<pre class="highlight"><code class="language-bash" data-lang="bash">raspistill -t 2000 -o image.jpg -q 5</code></pre>
</div>
</div>
<div class="paragraph">
<p>Force the preview to appear at coordinate 100,100, with width 300 pixels and height 200 pixels:</p>
</div>
<div class="listingblock">
<button class="copy-button hidden" aria-label="copy code to clipboard" type="button" aria-hidden="true"><div class="copy-button-inner">
<svg xmlns="http://www.w3.org/2000/svg" id="Layer_1" data-name="Layer 1" viewBox="0 0 12 12"><rect x="1" y="6" width="5" height="1"></rect><path d="M10,1H8A1,1,0,0,0,7,0H6A1,1,0,0,0,5,1H3A1,1,0,0,0,2,2V5H3V2H4V3H9V2h1v9H3V8H2v3a1,1,0,0,0,1,1h7a1,1,0,0,0,1-1V2A1,1,0,0,0,10,1ZM6.5,2.25a.75.75,0,1,1,.75-.75A.76.76,0,0,1,6.5,2.25Z"></path><path d="M6.32,6.32,4.43,4.43A.25.25,0,0,0,4,4.6V8.4a.25.25,0,0,0,.43.17L6.32,6.68A.25.25,0,0,0,6.32,6.32Z"></path></svg><strong class="copy-button-label"></strong><span class="tooltip hidden"> Copy to Clipboard</span>
</div></button>
<div class="content">
<pre class="highlight"><code class="language-bash" data-lang="bash">raspistill -t 2000 -o image.jpg -p 100,100,300,200</code></pre>
</div>
</div>
<div class="paragraph">
<p>Disable preview entirely:</p>
</div>
<div class="listingblock">
<button class="copy-button hidden" aria-label="copy code to clipboard" type="button" aria-hidden="true"><div class="copy-button-inner">
<svg xmlns="http://www.w3.org/2000/svg" id="Layer_1" data-name="Layer 1" viewBox="0 0 12 12"><rect x="1" y="6" width="5" height="1"></rect><path d="M10,1H8A1,1,0,0,0,7,0H6A1,1,0,0,0,5,1H3A1,1,0,0,0,2,2V5H3V2H4V3H9V2h1v9H3V8H2v3a1,1,0,0,0,1,1h7a1,1,0,0,0,1-1V2A1,1,0,0,0,10,1ZM6.5,2.25a.75.75,0,1,1,.75-.75A.76.76,0,0,1,6.5,2.25Z"></path><path d="M6.32,6.32,4.43,4.43A.25.25,0,0,0,4,4.6V8.4a.25.25,0,0,0,.43.17L6.32,6.68A.25.25,0,0,0,6.32,6.32Z"></path></svg><strong class="copy-button-label"></strong><span class="tooltip hidden"> Copy to Clipboard</span>
</div></button>
<div class="content">
<pre class="highlight"><code class="language-bash" data-lang="bash">raspistill -t 2000 -o image.jpg -n</code></pre>
</div>
</div>
<div class="paragraph">
<p>Save the image as a PNG file (lossless compression, but slower than JPEG). Note that the filename suffix is ignored when choosing the image encoding:</p>
</div>
<div class="listingblock">
<button class="copy-button hidden" aria-label="copy code to clipboard" type="button" aria-hidden="true"><div class="copy-button-inner">
<svg xmlns="http://www.w3.org/2000/svg" id="Layer_1" data-name="Layer 1" viewBox="0 0 12 12"><rect x="1" y="6" width="5" height="1"></rect><path d="M10,1H8A1,1,0,0,0,7,0H6A1,1,0,0,0,5,1H3A1,1,0,0,0,2,2V5H3V2H4V3H9V2h1v9H3V8H2v3a1,1,0,0,0,1,1h7a1,1,0,0,0,1-1V2A1,1,0,0,0,10,1ZM6.5,2.25a.75.75,0,1,1,.75-.75A.76.76,0,0,1,6.5,2.25Z"></path><path d="M6.32,6.32,4.43,4.43A.25.25,0,0,0,4,4.6V8.4a.25.25,0,0,0,.43.17L6.32,6.68A.25.25,0,0,0,6.32,6.32Z"></path></svg><strong class="copy-button-label"></strong><span class="tooltip hidden"> Copy to Clipboard</span>
</div></button>
<div class="content">
<pre class="highlight"><code class="language-bash" data-lang="bash">raspistill -t 2000 -o image.png e png</code></pre>
</div>
</div>
<div class="paragraph">
<p>Add some EXIF information to the JPEG. This sets the Artist tag name to Boris, and the GPS altitude to 123.5m. Note that if setting GPS tags you should set as a minimum GPSLatitude, GPSLatitudeRef, GPSLongitude, GPSLongitudeRef, GPSAltitude, and GPSAltitudeRef:</p>
</div>
<div class="listingblock">
<button class="copy-button hidden" aria-label="copy code to clipboard" type="button" aria-hidden="true"><div class="copy-button-inner">
<svg xmlns="http://www.w3.org/2000/svg" id="Layer_1" data-name="Layer 1" viewBox="0 0 12 12"><rect x="1" y="6" width="5" height="1"></rect><path d="M10,1H8A1,1,0,0,0,7,0H6A1,1,0,0,0,5,1H3A1,1,0,0,0,2,2V5H3V2H4V3H9V2h1v9H3V8H2v3a1,1,0,0,0,1,1h7a1,1,0,0,0,1-1V2A1,1,0,0,0,10,1ZM6.5,2.25a.75.75,0,1,1,.75-.75A.76.76,0,0,1,6.5,2.25Z"></path><path d="M6.32,6.32,4.43,4.43A.25.25,0,0,0,4,4.6V8.4a.25.25,0,0,0,.43.17L6.32,6.68A.25.25,0,0,0,6.32,6.32Z"></path></svg><strong class="copy-button-label"></strong><span class="tooltip hidden"> Copy to Clipboard</span>
</div></button>
<div class="content">
<pre class="highlight"><code class="language-bash" data-lang="bash">raspistill -t 2000 -o image.jpg -x IFD0.Artist=Boris -x GPS.GPSAltitude=1235/10</code></pre>
</div>
</div>
<div class="paragraph">
<p>Set an emboss image effect:</p>
</div>
<div class="listingblock">
<button class="copy-button hidden" aria-label="copy code to clipboard" type="button" aria-hidden="true"><div class="copy-button-inner">
<svg xmlns="http://www.w3.org/2000/svg" id="Layer_1" data-name="Layer 1" viewBox="0 0 12 12"><rect x="1" y="6" width="5" height="1"></rect><path d="M10,1H8A1,1,0,0,0,7,0H6A1,1,0,0,0,5,1H3A1,1,0,0,0,2,2V5H3V2H4V3H9V2h1v9H3V8H2v3a1,1,0,0,0,1,1h7a1,1,0,0,0,1-1V2A1,1,0,0,0,10,1ZM6.5,2.25a.75.75,0,1,1,.75-.75A.76.76,0,0,1,6.5,2.25Z"></path><path d="M6.32,6.32,4.43,4.43A.25.25,0,0,0,4,4.6V8.4a.25.25,0,0,0,.43.17L6.32,6.68A.25.25,0,0,0,6.32,6.32Z"></path></svg><strong class="copy-button-label"></strong><span class="tooltip hidden"> Copy to Clipboard</span>
</div></button>
<div class="content">
<pre class="highlight"><code class="language-bash" data-lang="bash">raspistill -t 2000 -o image.jpg -ifx emboss</code></pre>
</div>
</div>
<div class="paragraph">
<p>Set the U and V channels of the YUV image to specific values (128:128 produces a greyscale image):</p>
</div>
<div class="listingblock">
<button class="copy-button hidden" aria-label="copy code to clipboard" type="button" aria-hidden="true"><div class="copy-button-inner">
<svg xmlns="http://www.w3.org/2000/svg" id="Layer_1" data-name="Layer 1" viewBox="0 0 12 12"><rect x="1" y="6" width="5" height="1"></rect><path d="M10,1H8A1,1,0,0,0,7,0H6A1,1,0,0,0,5,1H3A1,1,0,0,0,2,2V5H3V2H4V3H9V2h1v9H3V8H2v3a1,1,0,0,0,1,1h7a1,1,0,0,0,1-1V2A1,1,0,0,0,10,1ZM6.5,2.25a.75.75,0,1,1,.75-.75A.76.76,0,0,1,6.5,2.25Z"></path><path d="M6.32,6.32,4.43,4.43A.25.25,0,0,0,4,4.6V8.4a.25.25,0,0,0,.43.17L6.32,6.68A.25.25,0,0,0,6.32,6.32Z"></path></svg><strong class="copy-button-label"></strong><span class="tooltip hidden"> Copy to Clipboard</span>
</div></button>
<div class="content">
<pre class="highlight"><code class="language-bash" data-lang="bash">raspistill -t 2000 -o image.jpg -cfx 128:128</code></pre>
</div>
</div>
<div class="paragraph">
<p>Run preview for 2s, with no saved image:</p>
</div>
<div class="listingblock">
<button class="copy-button hidden" aria-label="copy code to clipboard" type="button" aria-hidden="true"><div class="copy-button-inner">
<svg xmlns="http://www.w3.org/2000/svg" id="Layer_1" data-name="Layer 1" viewBox="0 0 12 12"><rect x="1" y="6" width="5" height="1"></rect><path d="M10,1H8A1,1,0,0,0,7,0H6A1,1,0,0,0,5,1H3A1,1,0,0,0,2,2V5H3V2H4V3H9V2h1v9H3V8H2v3a1,1,0,0,0,1,1h7a1,1,0,0,0,1-1V2A1,1,0,0,0,10,1ZM6.5,2.25a.75.75,0,1,1,.75-.75A.76.76,0,0,1,6.5,2.25Z"></path><path d="M6.32,6.32,4.43,4.43A.25.25,0,0,0,4,4.6V8.4a.25.25,0,0,0,.43.17L6.32,6.68A.25.25,0,0,0,6.32,6.32Z"></path></svg><strong class="copy-button-label"></strong><span class="tooltip hidden"> Copy to Clipboard</span>
</div></button>
<div class="content">
<pre class="highlight"><code class="language-bash" data-lang="bash">raspistill -t 2000</code></pre>
</div>
</div>
<div class="paragraph">
<p>Take a time-lapse picture, every 10 seconds for 10 minutes (10 minutes = 600000ms), naming the files <code>image_num_001_today.jpg</code>, <code>image_num_002_today.jpg</code> and so on, with the latest picture also available under the name <code>latest.jpg</code>:</p>
</div>
<div class="listingblock">
<button class="copy-button hidden" aria-label="copy code to clipboard" type="button" aria-hidden="true"><div class="copy-button-inner">
<svg xmlns="http://www.w3.org/2000/svg" id="Layer_1" data-name="Layer 1" viewBox="0 0 12 12"><rect x="1" y="6" width="5" height="1"></rect><path d="M10,1H8A1,1,0,0,0,7,0H6A1,1,0,0,0,5,1H3A1,1,0,0,0,2,2V5H3V2H4V3H9V2h1v9H3V8H2v3a1,1,0,0,0,1,1h7a1,1,0,0,0,1-1V2A1,1,0,0,0,10,1ZM6.5,2.25a.75.75,0,1,1,.75-.75A.76.76,0,0,1,6.5,2.25Z"></path><path d="M6.32,6.32,4.43,4.43A.25.25,0,0,0,4,4.6V8.4a.25.25,0,0,0,.43.17L6.32,6.68A.25.25,0,0,0,6.32,6.32Z"></path></svg><strong class="copy-button-label"></strong><span class="tooltip hidden"> Copy to Clipboard</span>
</div></button>
<div class="content">
<pre class="highlight"><code class="language-bash" data-lang="bash">raspistill -t 600000 -tl 10000 -o image_num_%03d_today.jpg -l latest.jpg</code></pre>
</div>
</div>
<div class="paragraph">
<p>Take a picture and send the image data to stdout:</p>
</div>
<div class="listingblock">
<button class="copy-button hidden" aria-label="copy code to clipboard" type="button" aria-hidden="true"><div class="copy-button-inner">
<svg xmlns="http://www.w3.org/2000/svg" id="Layer_1" data-name="Layer 1" viewBox="0 0 12 12"><rect x="1" y="6" width="5" height="1"></rect><path d="M10,1H8A1,1,0,0,0,7,0H6A1,1,0,0,0,5,1H3A1,1,0,0,0,2,2V5H3V2H4V3H9V2h1v9H3V8H2v3a1,1,0,0,0,1,1h7a1,1,0,0,0,1-1V2A1,1,0,0,0,10,1ZM6.5,2.25a.75.75,0,1,1,.75-.75A.76.76,0,0,1,6.5,2.25Z"></path><path d="M6.32,6.32,4.43,4.43A.25.25,0,0,0,4,4.6V8.4a.25.25,0,0,0,.43.17L6.32,6.68A.25.25,0,0,0,6.32,6.32Z"></path></svg><strong class="copy-button-label"></strong><span class="tooltip hidden"> Copy to Clipboard</span>
</div></button>
<div class="content">
<pre class="highlight"><code class="language-bash" data-lang="bash">raspistill -t 2000 -o -</code></pre>
</div>
</div>
<div class="paragraph">
<p>Take a picture and send the image data to a file:</p>
</div>
<div class="listingblock">
<button class="copy-button hidden" aria-label="copy code to clipboard" type="button" aria-hidden="true"><div class="copy-button-inner">
<svg xmlns="http://www.w3.org/2000/svg" id="Layer_1" data-name="Layer 1" viewBox="0 0 12 12"><rect x="1" y="6" width="5" height="1"></rect><path d="M10,1H8A1,1,0,0,0,7,0H6A1,1,0,0,0,5,1H3A1,1,0,0,0,2,2V5H3V2H4V3H9V2h1v9H3V8H2v3a1,1,0,0,0,1,1h7a1,1,0,0,0,1-1V2A1,1,0,0,0,10,1ZM6.5,2.25a.75.75,0,1,1,.75-.75A.76.76,0,0,1,6.5,2.25Z"></path><path d="M6.32,6.32,4.43,4.43A.25.25,0,0,0,4,4.6V8.4a.25.25,0,0,0,.43.17L6.32,6.68A.25.25,0,0,0,6.32,6.32Z"></path></svg><strong class="copy-button-label"></strong><span class="tooltip hidden"> Copy to Clipboard</span>
</div></button>
<div class="content">
<pre class="highlight"><code class="language-bash" data-lang="bash">raspistill -t 2000 -o - &gt; my_file.jpg</code></pre>
</div>
</div>
<div class="paragraph">
<p>Run the camera forever, taking a picture when Enter is pressed:</p>
</div>
<div class="listingblock">
<button class="copy-button hidden" aria-label="copy code to clipboard" type="button" aria-hidden="true"><div class="copy-button-inner">
<svg xmlns="http://www.w3.org/2000/svg" id="Layer_1" data-name="Layer 1" viewBox="0 0 12 12"><rect x="1" y="6" width="5" height="1"></rect><path d="M10,1H8A1,1,0,0,0,7,0H6A1,1,0,0,0,5,1H3A1,1,0,0,0,2,2V5H3V2H4V3H9V2h1v9H3V8H2v3a1,1,0,0,0,1,1h7a1,1,0,0,0,1-1V2A1,1,0,0,0,10,1ZM6.5,2.25a.75.75,0,1,1,.75-.75A.76.76,0,0,1,6.5,2.25Z"></path><path d="M6.32,6.32,4.43,4.43A.25.25,0,0,0,4,4.6V8.4a.25.25,0,0,0,.43.17L6.32,6.68A.25.25,0,0,0,6.32,6.32Z"></path></svg><strong class="copy-button-label"></strong><span class="tooltip hidden"> Copy to Clipboard</span>
</div></button>
<div class="content">
<pre class="highlight"><code class="language-bash" data-lang="bash">raspistill -t 0 -k -o my_pics%02d.jpg</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="video-captures">
<a class="anchor" href="https://www.raspberrypi.com/documentation/accessories/camera.html#video-captures"></a>Video captures</h4>
<div class="paragraph">
<p>Image size and preview settings are the same as for stills capture. Default size for video recording is 1080p (1920x1080).</p>
</div>
<div class="paragraph">
<p>Record a 5s clip with default settings (1080p30):</p>
</div>
<div class="listingblock">
<button class="copy-button hidden" aria-label="copy code to clipboard" type="button" aria-hidden="true"><div class="copy-button-inner">
<svg xmlns="http://www.w3.org/2000/svg" id="Layer_1" data-name="Layer 1" viewBox="0 0 12 12"><rect x="1" y="6" width="5" height="1"></rect><path d="M10,1H8A1,1,0,0,0,7,0H6A1,1,0,0,0,5,1H3A1,1,0,0,0,2,2V5H3V2H4V3H9V2h1v9H3V8H2v3a1,1,0,0,0,1,1h7a1,1,0,0,0,1-1V2A1,1,0,0,0,10,1ZM6.5,2.25a.75.75,0,1,1,.75-.75A.76.76,0,0,1,6.5,2.25Z"></path><path d="M6.32,6.32,4.43,4.43A.25.25,0,0,0,4,4.6V8.4a.25.25,0,0,0,.43.17L6.32,6.68A.25.25,0,0,0,6.32,6.32Z"></path></svg><strong class="copy-button-label"></strong><span class="tooltip hidden"> Copy to Clipboard</span>
</div></button>
<div class="content">
<pre class="highlight"><code class="language-bash" data-lang="bash">raspivid -t 5000 -o video.h264</code></pre>
</div>
</div>
<div class="paragraph">
<p>Record a 5s clip at a specified bitrate (3.5Mbps):</p>
</div>
<div class="listingblock">
<button class="copy-button hidden" aria-label="copy code to clipboard" type="button" aria-hidden="true"><div class="copy-button-inner">
<svg xmlns="http://www.w3.org/2000/svg" id="Layer_1" data-name="Layer 1" viewBox="0 0 12 12"><rect x="1" y="6" width="5" height="1"></rect><path d="M10,1H8A1,1,0,0,0,7,0H6A1,1,0,0,0,5,1H3A1,1,0,0,0,2,2V5H3V2H4V3H9V2h1v9H3V8H2v3a1,1,0,0,0,1,1h7a1,1,0,0,0,1-1V2A1,1,0,0,0,10,1ZM6.5,2.25a.75.75,0,1,1,.75-.75A.76.76,0,0,1,6.5,2.25Z"></path><path d="M6.32,6.32,4.43,4.43A.25.25,0,0,0,4,4.6V8.4a.25.25,0,0,0,.43.17L6.32,6.68A.25.25,0,0,0,6.32,6.32Z"></path></svg><strong class="copy-button-label"></strong><span class="tooltip hidden"> Copy to Clipboard</span>
</div></button>
<div class="content">
<pre class="highlight"><code class="language-bash" data-lang="bash">raspivid -t 5000 -o video.h264 -b 3500000</code></pre>
</div>
</div>
<div class="paragraph">
<p>Record a 5s clip at a specified framerate (5fps):</p>
</div>
<div class="listingblock">
<button class="copy-button hidden" aria-label="copy code to clipboard" type="button" aria-hidden="true"><div class="copy-button-inner">
<svg xmlns="http://www.w3.org/2000/svg" id="Layer_1" data-name="Layer 1" viewBox="0 0 12 12"><rect x="1" y="6" width="5" height="1"></rect><path d="M10,1H8A1,1,0,0,0,7,0H6A1,1,0,0,0,5,1H3A1,1,0,0,0,2,2V5H3V2H4V3H9V2h1v9H3V8H2v3a1,1,0,0,0,1,1h7a1,1,0,0,0,1-1V2A1,1,0,0,0,10,1ZM6.5,2.25a.75.75,0,1,1,.75-.75A.76.76,0,0,1,6.5,2.25Z"></path><path d="M6.32,6.32,4.43,4.43A.25.25,0,0,0,4,4.6V8.4a.25.25,0,0,0,.43.17L6.32,6.68A.25.25,0,0,0,6.32,6.32Z"></path></svg><strong class="copy-button-label"></strong><span class="tooltip hidden"> Copy to Clipboard</span>
</div></button>
<div class="content">
<pre class="highlight"><code class="language-bash" data-lang="bash">raspivid -t 5000 -o video.h264 -f 5</code></pre>
</div>
</div>
<div class="paragraph">
<p>Encode a 5s camera stream and send the image data to stdout:</p>
</div>
<div class="listingblock">
<button class="copy-button hidden" aria-label="copy code to clipboard" type="button" aria-hidden="true"><div class="copy-button-inner">
<svg xmlns="http://www.w3.org/2000/svg" id="Layer_1" data-name="Layer 1" viewBox="0 0 12 12"><rect x="1" y="6" width="5" height="1"></rect><path d="M10,1H8A1,1,0,0,0,7,0H6A1,1,0,0,0,5,1H3A1,1,0,0,0,2,2V5H3V2H4V3H9V2h1v9H3V8H2v3a1,1,0,0,0,1,1h7a1,1,0,0,0,1-1V2A1,1,0,0,0,10,1ZM6.5,2.25a.75.75,0,1,1,.75-.75A.76.76,0,0,1,6.5,2.25Z"></path><path d="M6.32,6.32,4.43,4.43A.25.25,0,0,0,4,4.6V8.4a.25.25,0,0,0,.43.17L6.32,6.68A.25.25,0,0,0,6.32,6.32Z"></path></svg><strong class="copy-button-label"></strong><span class="tooltip hidden"> Copy to Clipboard</span>
</div></button>
<div class="content">
<pre class="highlight"><code class="language-bash" data-lang="bash">raspivid -t 5000 -o -</code></pre>
</div>
</div>
<div class="paragraph">
<p>Encode a 5s camera stream and send the image data to a file:</p>
</div>
<div class="listingblock">
<button class="copy-button hidden" aria-label="copy code to clipboard" type="button" aria-hidden="true"><div class="copy-button-inner">
<svg xmlns="http://www.w3.org/2000/svg" id="Layer_1" data-name="Layer 1" viewBox="0 0 12 12"><rect x="1" y="6" width="5" height="1"></rect><path d="M10,1H8A1,1,0,0,0,7,0H6A1,1,0,0,0,5,1H3A1,1,0,0,0,2,2V5H3V2H4V3H9V2h1v9H3V8H2v3a1,1,0,0,0,1,1h7a1,1,0,0,0,1-1V2A1,1,0,0,0,10,1ZM6.5,2.25a.75.75,0,1,1,.75-.75A.76.76,0,0,1,6.5,2.25Z"></path><path d="M6.32,6.32,4.43,4.43A.25.25,0,0,0,4,4.6V8.4a.25.25,0,0,0,.43.17L6.32,6.68A.25.25,0,0,0,6.32,6.32Z"></path></svg><strong class="copy-button-label"></strong><span class="tooltip hidden"> Copy to Clipboard</span>
</div></button>
<div class="content">
<pre class="highlight"><code class="language-bash" data-lang="bash">raspivid -t 5000 -o - &gt; my_file.h264</code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<div name="shell-error-codes" data-unique="shell-error-codes"></div><h3 id="shell-error-codes">
<a class="anchor" href="https://www.raspberrypi.com/documentation/accessories/camera.html#shell-error-codes"></a>Shell Error Codes</h3>
<div class="paragraph">
<p>The applications described here will return a standard error code to the shell on completion. Possible error codes are:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">C Define</th>
<th class="tableblock halign-left valign-top">Code</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">EX_OK</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Application ran successfully</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">EX_USAGE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">64</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Bad command line parameter</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">EX_SOFTWARE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">70</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Software or camera error</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">130</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Application terminated by Ctrl-C</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<div name="long-exposures" data-unique="long-exposures"></div><h3 id="long-exposures">
<a class="anchor" href="https://www.raspberrypi.com/documentation/accessories/camera.html#long-exposures"></a>Long Exposures</h3>
<div class="paragraph">
<p>The maximum exposure times of the three official Raspberry Pi cameras can be found in <a href="https://www.raspberrypi.com/documentation/accessories/camera.html#maximum-exposure-times">this table</a>.</p>
</div>
<div class="paragraph">
<p>Due to the way the ISP works, by default asking for a long exposure can result in the capture process taking up to 7 times the exposure time, so a 200 second exposure on the HQ camera could take 1400 seconds to actually return an image. This is due to the way the camera system works out the correct exposures and gains to use in the image, using its AGC (automatic gain control) and AWB (automatic white balance) algorithms. The system needs a few frames to calculate these numbers in order to produce a decent image. When combined with frame discards at the start of processing (in case they are corrupt), and the switching between preview and captures modes, this can result in up to 7 frames needed to produce a final image. With long exposures, that can take a long time.</p>
</div>
<div class="paragraph">
<p>Fortunately, the camera parameters can be altered to reduce frame time dramatically; however this means turning off the automatic algorithms and manually providing values for the AGC.</p>
</div>
<div class="paragraph">
<p>The AWB gains can usually be omitted as the legacy stack is able to reprocess the camera data to work them out (the <code>-st</code> option), though it is fine to specify them as well. Additionally, burst mode (<code>-bm</code>) with a short timeout should be requested to suppress the initial preview phase, and the exposure mode also needs disabling (<code>-ex off</code>).</p>
</div>
<div class="paragraph">
<p>The following example will perform a 100 second exposure capture</p>
</div>
<div class="paragraph">
<p><code>raspistill -t 10 -bm -ex off -ag 1 -ss 100000000 -st -o long_exposure.jpg</code></p>
</div>
</div>
<div class="sect2">
<div name="shooting-raw-using-the-camera-modules" data-unique="shooting-raw-using-the-camera-modules"></div><h3 id="shooting-raw-using-the-camera-modules">
<a class="anchor" href="https://www.raspberrypi.com/documentation/accessories/camera.html#shooting-raw-using-the-camera-modules"></a>Shooting RAW using the Camera Modules</h3>
<div class="paragraph">
<p>The definition of raw images can vary. The usual meaning is raw Bayer data directly from the sensor, although some may regard an uncompressed image that has passed through the ISP (and has therefore been processed) as raw. For the latter, we recommend using the term <em>unencoded</em> so as to be clear about the difference.</p>
</div>
<div class="paragraph">
<p>Both options are available from the Raspberry Pi cameras.</p>
</div>
<div class="sect3">
<h4 id="processed-non-lossy-images">
<a class="anchor" href="https://www.raspberrypi.com/documentation/accessories/camera.html#processed-non-lossy-images"></a>Processed, Non-Lossy Images</h4>
<div class="paragraph">
<p>The usual output from <code>raspistill</code> is a compressed JPEG file that has passed through all the stages of image processing to produce a high-quality image. However, JPEG, being a lossy format does throw away some information that the user may want.</p>
</div>
<div class="paragraph">
<p><code>raspistill</code> has an <code>encoding</code> option that allows you to specify the output format: either <code>jpg</code>, <code>bmp</code>, <code>png</code> or <code>gif</code>. All but <code>jpg</code> are lossless, so no data is thrown away in an effort to improve compression, but do require conversion from the original YUV, and because these formats do not have hardware support they produce images slightly more slowly than JPEG.</p>
</div>
<div class="paragraph">
<p>e.g.</p>
</div>
<div class="paragraph">
<p><code>raspistill --encoding png -o fred.png</code></p>
</div>
<div class="paragraph">
<p>Another option is to output completely formatted YUV420 or RGB data using the <a href="https://www.raspberrypi.com/documentation/accessories/camera.html#raspiyuv"><code>raspiyuv</code></a> application.</p>
</div>
</div>
<div class="sect3">
<h4 id="unprocessed-images">
<a class="anchor" href="https://www.raspberrypi.com/documentation/accessories/camera.html#unprocessed-images"></a>Unprocessed Images</h4>
<div class="paragraph">
<p>For some applications, such as astrophotography, having the raw Bayer data direct from the sensor can be useful. This data will need to be post-processed to produce a useful image.</p>
</div>
<div class="paragraph">
<p><code>raspistill</code> has a raw option that will cause the Bayer data to be output.</p>
</div>
<div class="paragraph">
<p><code>raspistill --raw -o fred.jpg</code></p>
</div>
<div class="paragraph">
<p>The raw data is appended to the end of the JPEG file and will <a href="https://www.raspberrypi.com/news/processing-raw-image-files-from-a-raspberry-pi-high-quality-camera/">need to be extracted</a>.</p>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<div name="application-notes" data-unique="application-notes"></div><h2 id="application-notes">
<a class="anchor" href="https://www.raspberrypi.com/documentation/accessories/camera.html#application-notes"></a>Application Notes</h2>
<div class="sectionbody">
<div class="paragraph edit-link">
<p>Edit this <a href="https://github.com/raspberrypi/documentation/blob/develop/documentation/asciidoc/accessories/camera/timelapse.adoc">on GitHub</a></p>
</div>
<div class="sect2">
<div name="creating-timelapse-video" data-unique="creating-timelapse-video"></div><h3 id="creating-timelapse-video">
<a class="anchor" href="https://www.raspberrypi.com/documentation/accessories/camera.html#creating-timelapse-video"></a>Creating Timelapse Video</h3>
<div class="paragraph">
<p>To create a time-lapse video, you simply configure the Raspberry Pi to take a picture at a regular interval, such as once a minute, then use an application to stitch the pictures together into a video. There are a couple of ways of doing this.</p>
</div>
<div class="sect3">
<h4 id="using-libcamera-still-or-raspistill-timelapse-mode">
<a class="anchor" href="https://www.raspberrypi.com/documentation/accessories/camera.html#using-libcamera-still-or-raspistill-timelapse-mode"></a>Using <code>libcamera-still</code> or <code>raspistill</code> Timelapse Mode</h4>
<div class="paragraph">
<p>Both <code>libcamera-still</code> and <code>raspistill</code> have a built in time-lapse mode, using the <code>--timelapse</code> command line switch. The value that follows the switch is the time between shots in milliseconds:</p>
</div>
<div class="listingblock">
<button class="copy-button hidden" aria-label="copy code to clipboard" type="button" aria-hidden="true"><div class="copy-button-inner">
<svg xmlns="http://www.w3.org/2000/svg" id="Layer_1" data-name="Layer 1" viewBox="0 0 12 12"><rect x="1" y="6" width="5" height="1"></rect><path d="M10,1H8A1,1,0,0,0,7,0H6A1,1,0,0,0,5,1H3A1,1,0,0,0,2,2V5H3V2H4V3H9V2h1v9H3V8H2v3a1,1,0,0,0,1,1h7a1,1,0,0,0,1-1V2A1,1,0,0,0,10,1ZM6.5,2.25a.75.75,0,1,1,.75-.75A.76.76,0,0,1,6.5,2.25Z"></path><path d="M6.32,6.32,4.43,4.43A.25.25,0,0,0,4,4.6V8.4a.25.25,0,0,0,.43.17L6.32,6.68A.25.25,0,0,0,6.32,6.32Z"></path></svg><strong class="copy-button-label"></strong><span class="tooltip hidden"> Copy to Clipboard</span>
</div></button>
<div class="content">
<pre>libcamera-still -t 30000 --timelapse 2000 -o image%04d.jpg</pre>
</div>
</div>
<div class="paragraph">
<p>or</p>
</div>
<div class="listingblock">
<button class="copy-button hidden" aria-label="copy code to clipboard" type="button" aria-hidden="true"><div class="copy-button-inner">
<svg xmlns="http://www.w3.org/2000/svg" id="Layer_1" data-name="Layer 1" viewBox="0 0 12 12"><rect x="1" y="6" width="5" height="1"></rect><path d="M10,1H8A1,1,0,0,0,7,0H6A1,1,0,0,0,5,1H3A1,1,0,0,0,2,2V5H3V2H4V3H9V2h1v9H3V8H2v3a1,1,0,0,0,1,1h7a1,1,0,0,0,1-1V2A1,1,0,0,0,10,1ZM6.5,2.25a.75.75,0,1,1,.75-.75A.76.76,0,0,1,6.5,2.25Z"></path><path d="M6.32,6.32,4.43,4.43A.25.25,0,0,0,4,4.6V8.4a.25.25,0,0,0,.43.17L6.32,6.68A.25.25,0,0,0,6.32,6.32Z"></path></svg><strong class="copy-button-label"></strong><span class="tooltip hidden"> Copy to Clipboard</span>
</div></button>
<div class="content">
<pre>raspistill -t 30000 --timelapse 2000 -o image%04d.jpg</pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tbody><tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
<div class="paragraph">
<p>The <code>%04d</code> in the output filename: this indicates the point in the filename where you want a frame count number to appear. So, for example, the command above will produce a capture every two seconds (2000ms), over a total period of 30 seconds (30000ms), named image0001.jpg, image0002.jpg, and so on, through to image0015.jpg.</p>
</div>
<div class="paragraph">
<p>The <code>%04d</code> indicates a four-digit number, with leading zeros added to make up the required number of digits. So, for example, <code>%08d</code> would result in an eight-digit number. You can miss out the <code>0</code> if you dont want leading zeros.</p>
</div>
<div class="paragraph">
<p>If a timelapse value of 0 is entered, the application will take pictures as fast as possible. Note that theres an minimum enforced pause of approximately 30 milliseconds between captures to ensure that exposure calculations can be made.</p>
</div>
</td>
</tr>
</tbody></table>
</div>
</div>
<div class="sect3">
<h4 id="automating-using-cron-jobs">
<a class="anchor" href="https://www.raspberrypi.com/documentation/accessories/camera.html#automating-using-cron-jobs"></a>Automating using <code>cron</code> Jobs</h4>
<div class="paragraph">
<p>A good way to automate taking a picture at a regular interval is using <code>cron</code>. Open the cron table for editing:</p>
</div>
<div class="listingblock">
<button class="copy-button hidden" aria-label="copy code to clipboard" type="button" aria-hidden="true"><div class="copy-button-inner">
<svg xmlns="http://www.w3.org/2000/svg" id="Layer_1" data-name="Layer 1" viewBox="0 0 12 12"><rect x="1" y="6" width="5" height="1"></rect><path d="M10,1H8A1,1,0,0,0,7,0H6A1,1,0,0,0,5,1H3A1,1,0,0,0,2,2V5H3V2H4V3H9V2h1v9H3V8H2v3a1,1,0,0,0,1,1h7a1,1,0,0,0,1-1V2A1,1,0,0,0,10,1ZM6.5,2.25a.75.75,0,1,1,.75-.75A.76.76,0,0,1,6.5,2.25Z"></path><path d="M6.32,6.32,4.43,4.43A.25.25,0,0,0,4,4.6V8.4a.25.25,0,0,0,.43.17L6.32,6.68A.25.25,0,0,0,6.32,6.32Z"></path></svg><strong class="copy-button-label"></strong><span class="tooltip hidden"> Copy to Clipboard</span>
</div></button>
<div class="content">
<pre>crontab -e</pre>
</div>
</div>
<div class="paragraph">
<p>This will either ask which editor you would like to use, or open in your default editor. Once you have the file open in an editor, add the following line to schedule taking a picture every minute (referring to the Bash script from the <a href="https://www.raspberrypi.com/documentation/accessories/camera.html#raspistill">raspistill page</a>, though you can use <code>libcamera-still</code> in exactly the same way):</p>
</div>
<div class="listingblock">
<button class="copy-button hidden" aria-label="copy code to clipboard" type="button" aria-hidden="true"><div class="copy-button-inner">
<svg xmlns="http://www.w3.org/2000/svg" id="Layer_1" data-name="Layer 1" viewBox="0 0 12 12"><rect x="1" y="6" width="5" height="1"></rect><path d="M10,1H8A1,1,0,0,0,7,0H6A1,1,0,0,0,5,1H3A1,1,0,0,0,2,2V5H3V2H4V3H9V2h1v9H3V8H2v3a1,1,0,0,0,1,1h7a1,1,0,0,0,1-1V2A1,1,0,0,0,10,1ZM6.5,2.25a.75.75,0,1,1,.75-.75A.76.76,0,0,1,6.5,2.25Z"></path><path d="M6.32,6.32,4.43,4.43A.25.25,0,0,0,4,4.6V8.4a.25.25,0,0,0,.43.17L6.32,6.68A.25.25,0,0,0,6.32,6.32Z"></path></svg><strong class="copy-button-label"></strong><span class="tooltip hidden"> Copy to Clipboard</span>
</div></button>
<div class="content">
<pre>* * * * * /home/pi/camera.sh 2&gt;&amp;1</pre>
</div>
</div>
<div class="paragraph">
<p>Save and exit and you should see the message:</p>
</div>
<div class="listingblock">
<button class="copy-button hidden" aria-label="copy code to clipboard" type="button" aria-hidden="true"><div class="copy-button-inner">
<svg xmlns="http://www.w3.org/2000/svg" id="Layer_1" data-name="Layer 1" viewBox="0 0 12 12"><rect x="1" y="6" width="5" height="1"></rect><path d="M10,1H8A1,1,0,0,0,7,0H6A1,1,0,0,0,5,1H3A1,1,0,0,0,2,2V5H3V2H4V3H9V2h1v9H3V8H2v3a1,1,0,0,0,1,1h7a1,1,0,0,0,1-1V2A1,1,0,0,0,10,1ZM6.5,2.25a.75.75,0,1,1,.75-.75A.76.76,0,0,1,6.5,2.25Z"></path><path d="M6.32,6.32,4.43,4.43A.25.25,0,0,0,4,4.6V8.4a.25.25,0,0,0,.43.17L6.32,6.68A.25.25,0,0,0,6.32,6.32Z"></path></svg><strong class="copy-button-label"></strong><span class="tooltip hidden"> Copy to Clipboard</span>
</div></button>
<div class="content">
<pre>crontab: installing new crontab</pre>
</div>
</div>
<div class="paragraph">
<p>Make sure that you use e.g. <code>%04d</code> to ensure that each image is written to a new file: if you dont, then each new image will overwrite the previous file.</p>
</div>
</div>
<div class="sect3">
<h4 id="stitching-images-together">
<a class="anchor" href="https://www.raspberrypi.com/documentation/accessories/camera.html#stitching-images-together"></a>Stitching Images Together</h4>
<div class="paragraph">
<p>Now youll need to stitch the photos together into a video. You can do this on the Raspberry Pi using <code>ffmpeg</code> but the processing will be slow. You may prefer to transfer the image files to your desktop computer or laptop and produce the video there.</p>
</div>
<div class="paragraph">
<p>First you will need to install <code>ffmpeg</code> if its not already installed.</p>
</div>
<div class="listingblock">
<button class="copy-button hidden" aria-label="copy code to clipboard" type="button" aria-hidden="true"><div class="copy-button-inner">
<svg xmlns="http://www.w3.org/2000/svg" id="Layer_1" data-name="Layer 1" viewBox="0 0 12 12"><rect x="1" y="6" width="5" height="1"></rect><path d="M10,1H8A1,1,0,0,0,7,0H6A1,1,0,0,0,5,1H3A1,1,0,0,0,2,2V5H3V2H4V3H9V2h1v9H3V8H2v3a1,1,0,0,0,1,1h7a1,1,0,0,0,1-1V2A1,1,0,0,0,10,1ZM6.5,2.25a.75.75,0,1,1,.75-.75A.76.76,0,0,1,6.5,2.25Z"></path><path d="M6.32,6.32,4.43,4.43A.25.25,0,0,0,4,4.6V8.4a.25.25,0,0,0,.43.17L6.32,6.68A.25.25,0,0,0,6.32,6.32Z"></path></svg><strong class="copy-button-label"></strong><span class="tooltip hidden"> Copy to Clipboard</span>
</div></button>
<div class="content">
<pre>sudo apt install ffmpeg</pre>
</div>
</div>
<div class="paragraph">
<p>Now you can use the <code>ffmpeg</code> tool to convert your JPEG files into an mp4 video:</p>
</div>
<div class="listingblock">
<button class="copy-button hidden" aria-label="copy code to clipboard" type="button" aria-hidden="true"><div class="copy-button-inner">
<svg xmlns="http://www.w3.org/2000/svg" id="Layer_1" data-name="Layer 1" viewBox="0 0 12 12"><rect x="1" y="6" width="5" height="1"></rect><path d="M10,1H8A1,1,0,0,0,7,0H6A1,1,0,0,0,5,1H3A1,1,0,0,0,2,2V5H3V2H4V3H9V2h1v9H3V8H2v3a1,1,0,0,0,1,1h7a1,1,0,0,0,1-1V2A1,1,0,0,0,10,1ZM6.5,2.25a.75.75,0,1,1,.75-.75A.76.76,0,0,1,6.5,2.25Z"></path><path d="M6.32,6.32,4.43,4.43A.25.25,0,0,0,4,4.6V8.4a.25.25,0,0,0,.43.17L6.32,6.68A.25.25,0,0,0,6.32,6.32Z"></path></svg><strong class="copy-button-label"></strong><span class="tooltip hidden"> Copy to Clipboard</span>
</div></button>
<div class="content">
<pre>ffmpeg -r 10 -f image2 -pattern_type glob -i 'image*.jpg' -s 1280x720 -vcodec libx264 timelapse.mp4</pre>
</div>
</div>
<div class="paragraph">
<p>On a Raspberry Pi 3, this can encode a little more than two frames per second. The performance of other Raspberry Pi models will vary. The parameters used are:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>-r 10</code> Set frame rate (Hz value) to ten frames per second in the output video.</p>
</li>
<li>
<p><code>-f image2</code> Set ffmpeg to read from a list of image files specified by a pattern.</p>
</li>
<li>
<p><code>-pattern_type glob</code> When importing the image files, use wildcard patterns (globbing) to interpret the filename input by <code>-i</code>, in this case <code>image*.jpg</code>, where <code>*</code> would be the image number.</p>
</li>
<li>
<p><code>-i 'image*.jpg'</code> The input file specification (to match the files produced during the capture).</p>
</li>
<li>
<p><code>-s 1280x720</code> Scale to 720p. You can also use 1920x1080, or lower resolutions, depending on your requirements.</p>
</li>
<li>
<p><code>-vcodec libx264</code> Use the software x264 encoder.</p>
</li>
<li>
<p><code>timelapse.mp4</code> The name of the output video file.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><code>ffmpeg</code> has a comprehensive parameter set for varying encoding options and other settings. These can be listed using <code>ffmpeg --help</code>.</p>
</div>
</div>
</div>
<div class="sect2">
<div name="using-gstreamer" data-unique="using-gstreamer"></div><h3 id="using-gstreamer">
<a class="anchor" href="https://www.raspberrypi.com/documentation/accessories/camera.html#using-gstreamer"></a>Using Gstreamer</h3>
<div class="paragraph">
<p><em>Gstreamer</em> is a Linux framework for reading, processing and playing multimedia files. There is a lot of information and many tutorials at the <a href="https://gstreamer.freedesktop.org/"><em>gstreamer</em> website</a>. Here we show how <code>libcamera-vid</code> (and similarly <code>raspivid</code>) can be used to stream video over a network.</p>
</div>
<div class="paragraph">
<p>On the server we need <code>libcamera-vid</code> to output an encoded h.264 bitstream to <em>stdout</em> and can use the <em>gstreamer</em> <code>fdsrc</code> element to receive it. Then extra <em>gstreamer</em> elements can send this over the network. As an example we can simply send and receive the stream on the same device over a UDP link. On the server:</p>
</div>
<div class="listingblock">
<button class="copy-button hidden" aria-label="copy code to clipboard" type="button" aria-hidden="true"><div class="copy-button-inner">
<svg xmlns="http://www.w3.org/2000/svg" id="Layer_1" data-name="Layer 1" viewBox="0 0 12 12"><rect x="1" y="6" width="5" height="1"></rect><path d="M10,1H8A1,1,0,0,0,7,0H6A1,1,0,0,0,5,1H3A1,1,0,0,0,2,2V5H3V2H4V3H9V2h1v9H3V8H2v3a1,1,0,0,0,1,1h7a1,1,0,0,0,1-1V2A1,1,0,0,0,10,1ZM6.5,2.25a.75.75,0,1,1,.75-.75A.76.76,0,0,1,6.5,2.25Z"></path><path d="M6.32,6.32,4.43,4.43A.25.25,0,0,0,4,4.6V8.4a.25.25,0,0,0,.43.17L6.32,6.68A.25.25,0,0,0,6.32,6.32Z"></path></svg><strong class="copy-button-label"></strong><span class="tooltip hidden"> Copy to Clipboard</span>
</div></button>
<div class="content">
<pre class="highlight"><code class="language-bash" data-lang="bash">libcamera-vid -t 0 -n --inline -o - | gst-launch-1.0 fdsrc fd=0 ! udpsink host=localhost port=5000</code></pre>
</div>
</div>
<div class="paragraph">
<p>For the client (type this into another console window) we can use:</p>
</div>
<div class="listingblock">
<button class="copy-button hidden" aria-label="copy code to clipboard" type="button" aria-hidden="true"><div class="copy-button-inner">
<svg xmlns="http://www.w3.org/2000/svg" id="Layer_1" data-name="Layer 1" viewBox="0 0 12 12"><rect x="1" y="6" width="5" height="1"></rect><path d="M10,1H8A1,1,0,0,0,7,0H6A1,1,0,0,0,5,1H3A1,1,0,0,0,2,2V5H3V2H4V3H9V2h1v9H3V8H2v3a1,1,0,0,0,1,1h7a1,1,0,0,0,1-1V2A1,1,0,0,0,10,1ZM6.5,2.25a.75.75,0,1,1,.75-.75A.76.76,0,0,1,6.5,2.25Z"></path><path d="M6.32,6.32,4.43,4.43A.25.25,0,0,0,4,4.6V8.4a.25.25,0,0,0,.43.17L6.32,6.68A.25.25,0,0,0,6.32,6.32Z"></path></svg><strong class="copy-button-label"></strong><span class="tooltip hidden"> Copy to Clipboard</span>
</div></button>
<div class="content">
<pre class="highlight"><code class="language-bash" data-lang="bash">gst-launch-1.0 udpsrc address=localhost port=5000 ! h264parse ! v4l2h264dec ! autovideosink</code></pre>
</div>
</div>
<div class="sect3">
<h4 id="using-rtp">
<a class="anchor" href="https://www.raspberrypi.com/documentation/accessories/camera.html#using-rtp"></a>Using RTP</h4>
<div class="paragraph">
<p>To stream using the RTP protocol, on the server you could use:</p>
</div>
<div class="listingblock">
<button class="copy-button hidden" aria-label="copy code to clipboard" type="button" aria-hidden="true"><div class="copy-button-inner">
<svg xmlns="http://www.w3.org/2000/svg" id="Layer_1" data-name="Layer 1" viewBox="0 0 12 12"><rect x="1" y="6" width="5" height="1"></rect><path d="M10,1H8A1,1,0,0,0,7,0H6A1,1,0,0,0,5,1H3A1,1,0,0,0,2,2V5H3V2H4V3H9V2h1v9H3V8H2v3a1,1,0,0,0,1,1h7a1,1,0,0,0,1-1V2A1,1,0,0,0,10,1ZM6.5,2.25a.75.75,0,1,1,.75-.75A.76.76,0,0,1,6.5,2.25Z"></path><path d="M6.32,6.32,4.43,4.43A.25.25,0,0,0,4,4.6V8.4a.25.25,0,0,0,.43.17L6.32,6.68A.25.25,0,0,0,6.32,6.32Z"></path></svg><strong class="copy-button-label"></strong><span class="tooltip hidden"> Copy to Clipboard</span>
</div></button>
<div class="content">
<pre class="highlight"><code class="language-bash" data-lang="bash">libcamera-vid -t 0 -n --inline -o - | gst-launch-1.0 fdsrc fd=0 ! h264parse ! rtph264pay ! udpsink host=localhost port=5000</code></pre>
</div>
</div>
<div class="paragraph">
<p>And in the client window:</p>
</div>
<div class="listingblock">
<button class="copy-button hidden" aria-label="copy code to clipboard" type="button" aria-hidden="true"><div class="copy-button-inner">
<svg xmlns="http://www.w3.org/2000/svg" id="Layer_1" data-name="Layer 1" viewBox="0 0 12 12"><rect x="1" y="6" width="5" height="1"></rect><path d="M10,1H8A1,1,0,0,0,7,0H6A1,1,0,0,0,5,1H3A1,1,0,0,0,2,2V5H3V2H4V3H9V2h1v9H3V8H2v3a1,1,0,0,0,1,1h7a1,1,0,0,0,1-1V2A1,1,0,0,0,10,1ZM6.5,2.25a.75.75,0,1,1,.75-.75A.76.76,0,0,1,6.5,2.25Z"></path><path d="M6.32,6.32,4.43,4.43A.25.25,0,0,0,4,4.6V8.4a.25.25,0,0,0,.43.17L6.32,6.68A.25.25,0,0,0,6.32,6.32Z"></path></svg><strong class="copy-button-label"></strong><span class="tooltip hidden"> Copy to Clipboard</span>
</div></button>
<div class="content">
<pre class="highlight"><code class="language-bash" data-lang="bash">gst-launch-1.0 udpsrc address=localhost port=5000 caps=application/x-rtp ! rtph264depay ! h264parse ! v4l2h264dec ! autovideosink</code></pre>
</div>
</div>
<div class="paragraph">
<p>We conclude with an example that streams from one machine to another. Let us assume that the client machine has the IP address <code>192.168.0.3</code>. On the server (a Raspberry Pi) the pipeline is identical, but for the destination address:</p>
</div>
<div class="listingblock">
<button class="copy-button hidden" aria-label="copy code to clipboard" type="button" aria-hidden="true"><div class="copy-button-inner">
<svg xmlns="http://www.w3.org/2000/svg" id="Layer_1" data-name="Layer 1" viewBox="0 0 12 12"><rect x="1" y="6" width="5" height="1"></rect><path d="M10,1H8A1,1,0,0,0,7,0H6A1,1,0,0,0,5,1H3A1,1,0,0,0,2,2V5H3V2H4V3H9V2h1v9H3V8H2v3a1,1,0,0,0,1,1h7a1,1,0,0,0,1-1V2A1,1,0,0,0,10,1ZM6.5,2.25a.75.75,0,1,1,.75-.75A.76.76,0,0,1,6.5,2.25Z"></path><path d="M6.32,6.32,4.43,4.43A.25.25,0,0,0,4,4.6V8.4a.25.25,0,0,0,.43.17L6.32,6.68A.25.25,0,0,0,6.32,6.32Z"></path></svg><strong class="copy-button-label"></strong><span class="tooltip hidden"> Copy to Clipboard</span>
</div></button>
<div class="content">
<pre class="highlight"><code class="language-bash" data-lang="bash">libcamera-vid -t 0 -n --inline -o - | gst-launch-1.0 fdsrc fd=0 ! h264parse ! rtph264pay ! udpsink host=192.168.0.3 port=5000</code></pre>
</div>
</div>
<div class="paragraph">
<p>If the client is not a Raspberry Pi it may have different <em>gstreamer</em> elements available. For a Linux PC we might use:</p>
</div>
<div class="listingblock">
<button class="copy-button hidden" aria-label="copy code to clipboard" type="button" aria-hidden="true"><div class="copy-button-inner">
<svg xmlns="http://www.w3.org/2000/svg" id="Layer_1" data-name="Layer 1" viewBox="0 0 12 12"><rect x="1" y="6" width="5" height="1"></rect><path d="M10,1H8A1,1,0,0,0,7,0H6A1,1,0,0,0,5,1H3A1,1,0,0,0,2,2V5H3V2H4V3H9V2h1v9H3V8H2v3a1,1,0,0,0,1,1h7a1,1,0,0,0,1-1V2A1,1,0,0,0,10,1ZM6.5,2.25a.75.75,0,1,1,.75-.75A.76.76,0,0,1,6.5,2.25Z"></path><path d="M6.32,6.32,4.43,4.43A.25.25,0,0,0,4,4.6V8.4a.25.25,0,0,0,.43.17L6.32,6.68A.25.25,0,0,0,6.32,6.32Z"></path></svg><strong class="copy-button-label"></strong><span class="tooltip hidden"> Copy to Clipboard</span>
</div></button>
<div class="content">
<pre class="highlight"><code class="language-bash" data-lang="bash">gst-launch-1.0 udpsrc address=192.168.0.3 port=5000 caps=application/x-rtp ! rtph264depay ! h264parse ! avdec_h264 ! autovideosink</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="the-libcamerasrc-element">
<a class="anchor" href="https://www.raspberrypi.com/documentation/accessories/camera.html#the-libcamerasrc-element"></a>The <code>libcamerasrc</code> element</h4>
<div class="paragraph">
<p><code>libcamera</code> provides a <code>libcamerasrc</code> <em>gstreamer</em> element which can be used directly instead of <code>libcamera-vid</code>. On the server you could use:</p>
</div>
<div class="listingblock">
<button class="copy-button hidden" aria-label="copy code to clipboard" type="button" aria-hidden="true"><div class="copy-button-inner">
<svg xmlns="http://www.w3.org/2000/svg" id="Layer_1" data-name="Layer 1" viewBox="0 0 12 12"><rect x="1" y="6" width="5" height="1"></rect><path d="M10,1H8A1,1,0,0,0,7,0H6A1,1,0,0,0,5,1H3A1,1,0,0,0,2,2V5H3V2H4V3H9V2h1v9H3V8H2v3a1,1,0,0,0,1,1h7a1,1,0,0,0,1-1V2A1,1,0,0,0,10,1ZM6.5,2.25a.75.75,0,1,1,.75-.75A.76.76,0,0,1,6.5,2.25Z"></path><path d="M6.32,6.32,4.43,4.43A.25.25,0,0,0,4,4.6V8.4a.25.25,0,0,0,.43.17L6.32,6.68A.25.25,0,0,0,6.32,6.32Z"></path></svg><strong class="copy-button-label"></strong><span class="tooltip hidden"> Copy to Clipboard</span>
</div></button>
<div class="content">
<pre class="highlight"><code class="language-bash" data-lang="bash">gst-launch-1.0 libcamerasrc ! capsfilter caps=video/x-raw,width=1280,height=720,format=NV12 ! v4l2convert ! v4l2h264enc extra-controls="controls,repeat_sequence_header=1" ! h264parse ! rtph264pay ! udpsink host=localhost port=5000</code></pre>
</div>
</div>
<div class="paragraph">
<p>and on the client we use the same playback pipeline as previously.</p>
</div>
</div>
</div>
<div class="sect2">
<div name="using-libcamera-and-qt-together" data-unique="using-libcamera-and-qt-together"></div><h3 id="using-libcamera-and-qt-together">
<a class="anchor" href="https://www.raspberrypi.com/documentation/accessories/camera.html#using-libcamera-and-qt-together"></a>Using <em>libcamera</em> and <em>Qt</em> together</h3>
<div class="paragraph">
<p><em>Qt</em> is a popular application framework and GUI toolkit, and indeed <em>libcamera-apps</em> optionally makes use of it to implement a camera preview window.</p>
</div>
<div class="paragraph">
<p>However, <em>Qt</em> defines certain symbols as macros in the global namespace (such as <code>slot</code> and <code>emit</code>) and this causes errors when including <em>libcamera</em> files. The problem is common to all platforms trying to use both <em>Qt</em> and <em>libcamera</em> and not specific to Raspberry Pi. Nonetheless we suggest that developers experiencing difficulties try the following workarounds.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p><em>libcamera</em> include files, or files that include <em>libcamera</em> files (such as <em>libcamera-apps</em> files), should be listed before any <em>Qt</em> header files where possible.</p>
</li>
<li>
<p>If you do need to mix your Qt application files with libcamera includes, replace <code>signals:</code> with <code>Q_SIGNALS:</code>, <code>slots:</code> with <code>Q_SLOTS:</code>, <code>emit</code> with <code>Q_EMIT</code> and <code>foreach</code> with <code>Q_FOREACH</code>.</p>
</li>
<li>
<p>Before any <em>libcamera</em> include files, add</p>
<div class="listingblock">
<button class="copy-button hidden" aria-label="copy code to clipboard" type="button" aria-hidden="true"><div class="copy-button-inner">
<svg xmlns="http://www.w3.org/2000/svg" id="Layer_1" data-name="Layer 1" viewBox="0 0 12 12"><rect x="1" y="6" width="5" height="1"></rect><path d="M10,1H8A1,1,0,0,0,7,0H6A1,1,0,0,0,5,1H3A1,1,0,0,0,2,2V5H3V2H4V3H9V2h1v9H3V8H2v3a1,1,0,0,0,1,1h7a1,1,0,0,0,1-1V2A1,1,0,0,0,10,1ZM6.5,2.25a.75.75,0,1,1,.75-.75A.76.76,0,0,1,6.5,2.25Z"></path><path d="M6.32,6.32,4.43,4.43A.25.25,0,0,0,4,4.6V8.4a.25.25,0,0,0,.43.17L6.32,6.68A.25.25,0,0,0,6.32,6.32Z"></path></svg><strong class="copy-button-label"></strong><span class="tooltip hidden"> Copy to Clipboard</span>
</div></button>
<div class="content">
<pre>#undef signals
#undef slots
#undef emit
#undef foreach</pre>
</div>
</div>
</li>
<li>
<p>If you are using <em>qmake</em>, add <code>CONFIG += no_keywords</code> to the project file. If using <em>cmake</em>, add <code>SET(QT_NO_KEYWORDS ON)</code>.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>We are not aware of any plans for the underlying library problems to be addressed.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<div name="v4l2-drivers" data-unique="v4l2-drivers"></div><h2 id="v4l2-drivers">
<a class="anchor" href="https://www.raspberrypi.com/documentation/accessories/camera.html#v4l2-drivers"></a>V4L2 Drivers</h2>
<div class="sectionbody">
<div class="paragraph edit-link">
<p>Edit this <a href="https://github.com/raspberrypi/documentation/blob/develop/documentation/asciidoc/accessories/camera/v4l2.adoc">on GitHub</a></p>
</div>
<div class="paragraph">
<p>V4L2 drivers provide a standard Linux interface for accessing camera and codec features. They are loaded automatically when the system is started, though in some non-standard situations you may need to <a href="https://www.raspberrypi.com/documentation/accessories/camera.html#if-you-do-need-to-alter-the-configuration">load camera drivers explicitly</a>.</p>
</div>
<div class="sect2">
<div name="driver-differences-when-using-libcamera-or-the-legacy-stack" data-unique="driver-differences-when-using-libcamera-or-the-legacy-stack"></div><h3 id="driver-differences-when-using-libcamera-or-the-legacy-stack">
<a class="anchor" href="https://www.raspberrypi.com/documentation/accessories/camera.html#driver-differences-when-using-libcamera-or-the-legacy-stack"></a>Driver differences when using <code>libcamera</code> or the legacy stack</h3>
<div class="paragraph">
<p>On systems using <code>libcamera</code>, <code>/dev/video0</code> and <code>/dev/video1</code> are V4L2 drivers for Unicam, the Raspberry Pis CSI-2 receiver. The Raspberry Pi has two CSI-2 receivers, each managed by one of these device nodes.</p>
</div>
<div class="paragraph">
<p>On systems using the legacy stack, <code>/dev/video0</code> is a V4L2 driver that gives access to the full camera system using the proprietary Broadcom driver on the GPU. There is no <code>/dev/video1</code>. There are no Unicam drivers, though there is a legacy <em>MMAL Rawcam</em> component.</p>
</div>
<div class="paragraph">
<p>The other device nodes are always the same, and are listed in the table below.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">/dev/videoX</th>
<th class="tableblock halign-center valign-top">Default Action</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">video10</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Video decode.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">video11</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Video encode.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">video12</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Simple ISP. Can perform conversion and resizing between RGB/YUV formats, and also Bayer to RGB/YUV conversion.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">video13</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Input to fully programmable ISP.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">video14</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">High resolution output from fully programmable ISP.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">video15</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Low result output from fully programmable ISP.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">video16</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Image statistics from fully programmable ISP.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">video19</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">HEVC Decode</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<div name="using-the-driver" data-unique="using-the-driver"></div><h3 id="using-the-driver">
<a class="anchor" href="https://www.raspberrypi.com/documentation/accessories/camera.html#using-the-driver"></a>Using the Driver</h3>
<div class="paragraph">
<p>Please see the <a href="https://www.kernel.org/doc/html/latest/userspace-api/media/v4l/v4l2.html">V4L2 documentation</a> for details on using this driver.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<div name="camera-serial-interface-2-csi2-unicam" data-unique="camera-serial-interface-2-csi2-unicam"></div><h2 id="camera-serial-interface-2-csi2-unicam">
<a class="anchor" href="https://www.raspberrypi.com/documentation/accessories/camera.html#camera-serial-interface-2-csi2-unicam"></a>Camera Serial Interface 2 (CSI2) "Unicam"</h2>
<div class="sectionbody">
<div class="paragraph edit-link">
<p>Edit this <a href="https://github.com/raspberrypi/documentation/blob/develop/documentation/asciidoc/accessories/camera/csi-2-usage.adoc">on GitHub</a></p>
</div>
<div class="paragraph">
<p>The SoCs used on the Raspberry Pi range all have two camera interfaces that support either CSI-2 D-PHY 1.1 or CCP2 (Compact Camera Port 2) sources. This interface is known by the codename "Unicam". The first instance of Unicam supports 2 CSI-2 data lanes, whilst the second supports 4. Each lane can run at up to 1Gbit/s (DDR, so the max link frequency is 500MHz).</p>
</div>
<div class="paragraph">
<p>However, the normal variants of the Raspberry Pi only expose the second instance, and route out <em>only</em> 2 of the data lanes to the camera connector. The Compute Module range route out all lanes from both peripherals.</p>
</div>
<div class="sect2">
<div name="software-interfaces" data-unique="software-interfaces"></div><h3 id="software-interfaces">
<a class="anchor" href="https://www.raspberrypi.com/documentation/accessories/camera.html#software-interfaces"></a>Software Interfaces</h3>
<div class="paragraph">
<p>There are 3 independent software interfaces available for communicating with the  Unicam peripheral:</p>
</div>
<div class="sect3">
<h4 id="firmware">
<a class="anchor" href="https://www.raspberrypi.com/documentation/accessories/camera.html#firmware"></a>Firmware</h4>
<div class="admonitionblock note">
<table>
<tbody><tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
This interface is available only when using the legacy camera stack.
</td>
</tr>
</tbody></table>
</div>
<div class="paragraph">
<p>The closed source GPU firmware has drivers for Unicam and three camera sensors plus a bridge chip. They are the Raspberry Pi Camera v1.3 (Omnivision OV5647), Raspberry Pi Camera v2.1 (Sony IMX219), Raspberry Pi HQ camera (Sony IMX477), and an unsupported driver for the Toshiba TC358743 HDMI-&gt;CSI2 bridge chip.</p>
</div>
<div class="paragraph">
<p>This driver integrates the source driver, Unicam, ISP, and tuner control into a full camera stack delivering processed output images. It can be used via MMAL, OpenMAX IL and V4L2 using the bcm2835-v4l2 kernel module. Only Raspberry Pi cameras are supported via this interface.</p>
</div>
</div>
<div class="sect3">
<h4 id="mmal-rawcam-component">
<a class="anchor" href="https://www.raspberrypi.com/documentation/accessories/camera.html#mmal-rawcam-component"></a>MMAL rawcam component</h4>
<div class="admonitionblock note">
<table>
<tbody><tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
This interface is available only when using the legacy camera stack.
</td>
</tr>
</tbody></table>
</div>
<div class="paragraph">
<p>This was an interim option before the V4L2 driver was available. The MMAL component <code>vc.ril.rawcam</code> allows receiving of the raw CSI2 data in the same way as the V4L2 driver, but all source configuration has to be done by userland over whatever interface the source requires. The raspiraw application is available on <a href="https://github.com/raspberrypi/raspiraw">github</a>. It uses this component and the standard I2C register sets for OV5647, IMX219, and ADV7282M to support streaming.</p>
</div>
</div>
<div class="sect3">
<h4 id="v4l2">
<a class="anchor" href="https://www.raspberrypi.com/documentation/accessories/camera.html#v4l2"></a>V4L2</h4>
<div class="admonitionblock note">
<table>
<tbody><tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
The V4L2 interface for Unicam is available only when using <code>libcamera</code>.
</td>
</tr>
</tbody></table>
</div>
<div class="paragraph">
<p>There is a fully open source kernel driver available for the Unicam block; this is a kernel module called bcm2835-unicam. This interfaces to V4L2 subdevice drivers for the source to deliver the raw frames. This bcm2835-unicam driver controls the sensor, and configures the CSI-2 receiver so that the peripheral will write the raw frames (after Debayer) to SDRAM for V4L2 to deliver to applications. Except for this ability to unpack the CSI-2 Bayer formats to 16bits/pixel, there is no image processing between the image source (e.g. camera sensor) and bcm2835-unicam placing the image data in SDRAM.</p>
</div>
<div class="listingblock">
<button class="copy-button hidden" aria-label="copy code to clipboard" type="button" aria-hidden="true"><div class="copy-button-inner">
<svg xmlns="http://www.w3.org/2000/svg" id="Layer_1" data-name="Layer 1" viewBox="0 0 12 12"><rect x="1" y="6" width="5" height="1"></rect><path d="M10,1H8A1,1,0,0,0,7,0H6A1,1,0,0,0,5,1H3A1,1,0,0,0,2,2V5H3V2H4V3H9V2h1v9H3V8H2v3a1,1,0,0,0,1,1h7a1,1,0,0,0,1-1V2A1,1,0,0,0,10,1ZM6.5,2.25a.75.75,0,1,1,.75-.75A.76.76,0,0,1,6.5,2.25Z"></path><path d="M6.32,6.32,4.43,4.43A.25.25,0,0,0,4,4.6V8.4a.25.25,0,0,0,.43.17L6.32,6.68A.25.25,0,0,0,6.32,6.32Z"></path></svg><strong class="copy-button-label"></strong><span class="tooltip hidden"> Copy to Clipboard</span>
</div></button>
<div class="content">
<pre>|------------------------|
|     bcm2835-unicam     |
|------------------------|
     ^             |
     |      |-------------|
 img |      |  Subdevice  |
     |      |-------------|
     v   -SW/HW-   |
|---------|   |-----------|
| Unicam  |   | I2C or SPI|
|---------|   |-----------|
csi2/ ^             |
ccp2  |             |
    |-----------------|
    |     sensor      |
    |-----------------|</pre>
</div>
</div>
<div class="paragraph">
<p>Mainline Linux has a range of existing drivers. The Raspberry Pi kernel tree has some additional drivers and device tree overlays to configure them that have all been tested and confirmed to work. They include:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Device</th>
<th class="tableblock halign-left valign-top">Type</th>
<th class="tableblock halign-left valign-top">Notes</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Omnivision OV5647</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">5MP Camera</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Original Raspberry Pi Camera</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Sony IMX219</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">8MP Camera</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Revision 2 Raspberry Pi camera</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Sony IMX477</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">12MP Camera</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Raspberry Pi HQ camera</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Toshiba TC358743</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">HDMI to CSI-2 bridge</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Analog Devices ADV728x-M</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Analog video to CSI-2 bridge</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No interlaced support</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Infineon IRS1125</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Time-of-flight depth sensor</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Supported by a third party</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>As the subdevice driver is also a kernel driver, with a standardised API, 3rd parties are free to write their own for any source of their choosing.</p>
</div>
</div>
</div>
<div class="sect2">
<div name="developing-third-party-drivers" data-unique="developing-third-party-drivers"></div><h3 id="developing-third-party-drivers">
<a class="anchor" href="https://www.raspberrypi.com/documentation/accessories/camera.html#developing-third-party-drivers"></a>Developing Third-Party Drivers</h3>
<div class="paragraph">
<p>This is the recommended approach to interfacing via Unicam.</p>
</div>
<div class="paragraph">
<p>When developing a driver for a new device intended to be used with the bcm2835-unicam module, you need the driver and corresponding device tree overlays. Ideally the driver should be submitted to the <a href="http://vger.kernel.org/vger-lists.html#linux-media">linux-media</a> mailing list for code review and merging into mainline, then moved to the <a href="https://github.com/raspberrypi/linux">Raspberry Pi kernel tree</a>, but exceptions may be made for the driver to be reviewed and merged directly to the Raspberry Pi kernel.</p>
</div>
<div class="paragraph">
<p>Please note that all kernel drivers are licensed under the GPLv2 licence, therefore source code <strong>MUST</strong> be available. Shipping of binary modules only is a violation of the GPLv2 licence under which the Linux kernel is licensed.</p>
</div>
<div class="paragraph">
<p>The bcm2835-unicam has been written to try and accommodate all types of CSI-2 source driver as are currently found in the mainline Linux kernel. Broadly these can be split into camera sensors and bridge chips. Bridge chips allow for conversion between some other format and CSI-2.</p>
</div>
<div class="sect3">
<h4 id="camera-sensors">
<a class="anchor" href="https://www.raspberrypi.com/documentation/accessories/camera.html#camera-sensors"></a>Camera sensors</h4>
<div class="paragraph">
<p>The sensor driver for a camera sensor is responsible for all configuration of the device, usually via I2C or SPI. Rather than writing a driver from scratch, it is often easier to take an existing driver as a basis and modify it as appropriate.</p>
</div>
<div class="paragraph">
<p>The <a href="https://github.com/raspberrypi/linux/blob/rpi-5.4.y/drivers/media/i2c/imx219.c">IMX219 driver</a> is a good starting point. This driver supports both 8bit and 10bit Bayer readout, so enumerating frame formats and frame sizes is slightly more involved.</p>
</div>
<div class="paragraph">
<p>Sensors generally support <a href="https://www.kernel.org/doc/html/latest/userspace-api/media/v4l/control.html">V4L2 user controls</a>. Not all these controls need to be implemented in a driver. The IMX219 driver only implements a small subset, listed below, the implementation of which is handled by the <code>imx219_set_ctrl</code> function.</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>V4L2_CID_PIXEL_RATE</code> / <code>V4L2_CID_VBLANK</code> / <code>V4L2_CID_HBLANK</code>: allows the application to set the frame rate.</p>
</li>
<li>
<p><code>V4L2_CID_EXPOSURE</code>: sets the exposure time in lines. The application needs to use <code>V4L2_CID_PIXEL_RATE</code>, <code>V4L2_CID_HBLANK</code>, and the frame width to compute the line time.</p>
</li>
<li>
<p><code>V4L2_CID_ANALOGUE_GAIN</code>: analogue gain in sensor specific units.</p>
</li>
<li>
<p><code>V4L2_CID_DIGITAL_GAIN</code>: optional digital gain in sensor specific units.</p>
</li>
<li>
<p><code>V4L2_CID_HFLIP / V4L2_CID_VFLIP</code>: flips the image either horizontally or vertically. Note that this operation may change the Bayer order of the data in the frame, as is the case on the imx219.</p>
</li>
<li>
<p><code>V4L2_CID_TEST_PATTERN</code> / <code>V4L2_CID_TEST_PATTERN_*</code>: Enables output of various test patterns from the sensor. Useful for debugging.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>In the case of the IMX219, many of these controls map directly onto register writes to the sensor itself.</p>
</div>
<div class="paragraph">
<p>Further guidance can be found in libcameras <a href="https://git.linuxtv.org/libcamera.git/tree/Documentation/sensor_driver_requirements.rst">sensor driver requirements</a>, and also in chapter 3 of the <a href="https://datasheets.raspberrypi.com/camera/raspberry-pi-camera-guide.pdf">Raspberry Pi Camera Tuning Guide</a>.</p>
</div>
<div class="sect4">
<h5 id="device-tree">
<a class="anchor" href="https://www.raspberrypi.com/documentation/accessories/camera.html#device-tree"></a>Device Tree</h5>
<div class="paragraph">
<p>Device tree is used to select the sensor driver and configure parameters such as number of CSI-2 lanes, continuous clock lane operation, and link frequency (often only one is supported).</p>
</div>
<div class="ulist">
<ul>
<li>
<p>The IMX219 <a href="https://github.com/raspberrypi/linux/blob/rpi-5.4.y/arch/arm/boot/dts/overlays/imx219-overlay.dts">device tree overlay</a> for the 5.4 kernel</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect3">
<h4 id="bridge-chips">
<a class="anchor" href="https://www.raspberrypi.com/documentation/accessories/camera.html#bridge-chips"></a>Bridge chips</h4>
<div class="paragraph">
<p>These are devices that convert an incoming video stream, for example HDMI or composite, into a CSI-2 stream that can be accepted by the Raspberry Pi CSI-2 receiver.</p>
</div>
<div class="paragraph">
<p>Handling bridge chips is more complicated, as unlike camera sensors they have to respond to the incoming signal and report that to the application.</p>
</div>
<div class="paragraph">
<p>The mechanisms for handling bridge chips can be broadly split into either analogue or digital.</p>
</div>
<div class="paragraph">
<p>When using <code>ioctls</code> in the sections below, an <code><em>S</em></code> in the <code>ioctl</code> name means it is a set function, whilst <code><em>G</em></code> is a get function and <code>_ENUM</code> enumerates a set of permitted values.</p>
</div>
<div class="sect4">
<h5 id="analogue-video-sources">
<a class="anchor" href="https://www.raspberrypi.com/documentation/accessories/camera.html#analogue-video-sources"></a>Analogue video sources</h5>
<div class="paragraph">
<p>Analogue video sources use the standard <code>ioctls</code> for detecting and setting video standards. <a href="https://www.kernel.org/doc/html/latest/userspace-api/media/v4l/vidioc-g-std.html"><code>VIDIOC_G_STD</code></a>, <a href="https://www.kernel.org/doc/html/latest/userspace-api/media/v4l/vidioc-g-std.html"><code>VIDIOC_S_STD</code></a>, <a href="https://www.kernel.org/doc/html/latest/userspace-api/media/v4l/vidioc-enumstd.html"><code>VIDIOC_ENUMSTD</code></a>, and <a href="https://www.kernel.org/doc/html/latest/userspace-api/media/v4l/vidioc-querystd.html"><code>VIDIOC_QUERYSTD</code></a></p>
</div>
<div class="paragraph">
<p>Selecting the wrong standard will generally result in corrupt images. Setting the standard will typically also set the resolution on the V4L2 CAPTURE queue. It can not be set via <code>VIDIOC_S_FMT</code>. Generally requesting the detected standard via <code>VIDIOC_QUERYSTD</code> and then setting it with <code>VIDIOC_S_STD</code> before streaming is a good idea.</p>
</div>
</div>
<div class="sect4">
<h5 id="digital-video-sources">
<a class="anchor" href="https://www.raspberrypi.com/documentation/accessories/camera.html#digital-video-sources"></a>Digital video sources</h5>
<div class="paragraph">
<p>For digital video sources, such as HDMI, there is an alternate set of calls that allow specifying of all the digital timing parameters (<a href="https://www.kernel.org/doc/html/latest/userspace-api/media/v4l/vidioc-g-dv-timings.html"><code>VIDIOC_G_DV_TIMINGS</code></a>, <a href="https://www.kernel.org/doc/html/latest/userspace-api/media/v4l/vidioc-g-dv-timings.html"><code>VIDIOC_S_DV_TIMINGS</code></a>, <a href="https://www.kernel.org/doc/html/latest/userspace-api/media/v4l/vidioc-enum-dv-timings.html"><code>VIDIOC_ENUM_DV_TIMINGS</code></a>, and <a href="https://www.kernel.org/doc/html/latest/userspace-api/media/v4l/vidioc-query-dv-timings.html"><code>VIDIOC_QUERY_DV_TIMINGS</code></a>).</p>
</div>
<div class="paragraph">
<p>As with analogue bridges, the timings typically fix the V4L2 CAPTURE queue resolution, and calling <code>VIDIOC_S_DV_TIMINGS</code> with the result of <code>VIDIOC_QUERY_DV_TIMINGS</code> before streaming should ensure the format is correct.</p>
</div>
<div class="paragraph">
<p>Depending on the bridge chip and the driver, it may be possible for changes in the input source to be reported to the application via <code>VIDIOC_SUBSCRIBE_EVENT</code> and <code>V4L2_EVENT_SOURCE_CHANGE</code>.</p>
</div>
</div>
<div class="sect4">
<h5 id="currently-supported-devices">
<a class="anchor" href="https://www.raspberrypi.com/documentation/accessories/camera.html#currently-supported-devices"></a>Currently supported devices</h5>
<div class="paragraph">
<p>There are 2 bridge chips that are currently supported by the Raspberry Pi Linux kernel, the Analog Devices ADV728x-M for analogue video sources, and the Toshiba TC358743 for HDMI sources.</p>
</div>
<div class="paragraph">
<p><em>Analog Devices ADV728x(A)-M Analogue video to CSI2 bridge</em></p>
</div>
<div class="paragraph">
<p>These chips convert composite, S-video (Y/C), or component (YPrPb) video into a single lane CSI-2 interface, and are supported by the <a href="https://github.com/raspberrypi/linux/blob/rpi-5.4.y/drivers/media/i2c/adv7180.c">ADV7180 kernel driver</a>.</p>
</div>
<div class="paragraph">
<p>Product details for the various versions of this chip can be found on the Analog Devices website.</p>
</div>
<div class="paragraph">
<p><a href="https://www.analog.com/en/products/adv7280a.html">ADV7280A</a>, <a href="https://www.analog.com/en/products/adv7281a.html">ADV7281A</a>, <a href="https://www.analog.com/en/products/adv7282a.html">ADV7282A</a></p>
</div>
<div class="paragraph">
<p>Because of some missing code in the current core V4L2 implementation, selecting the source fails, so the Raspberry Pi kernel version adds a kernel module parameter called <code>dbg_input</code> to the ADV7180 kernel driver which sets the input source every time VIDIOC_S_STD is called. At some point mainstream will fix the underlying issue (a disjoin between the kernel API call s_routing, and the userspace call <code>VIDIOC_S_INPUT</code>) and this modification will be removed.</p>
</div>
<div class="paragraph">
<p>Please note that receiving interlaced video is not supported, therefore the ADV7281(A)-M version of the chip is of limited use as it doesnt have the necessary I2P deinterlacing block. Also ensure when selecting a device to specify the -M option. Without that you will get a parallel output bus which can not be interfaced to the Raspberry Pi.</p>
</div>
<div class="paragraph">
<p>There are no known commercially available boards using these chips, but this driver has been tested via the Analog Devices <a href="https://www.analog.com/en/design-center/evaluation-hardware-and-software/evaluation-boards-kits/EVAL-ADV7282A-M.html">EVAL-ADV7282-M evaluation board</a></p>
</div>
<div class="paragraph">
<p>This driver can be loaded using the <code>config.txt</code> dtoverlay <code>adv7282m</code> if you are using the <code>ADV7282-M</code> chip variant; or <code>adv728x-m</code> with a parameter of either <code>adv7280m=1</code>, <code>adv7281m=1</code>, or <code>adv7281ma=1</code> if you are using a different variant. e.g.</p>
</div>
<div class="listingblock">
<button class="copy-button hidden" aria-label="copy code to clipboard" type="button" aria-hidden="true"><div class="copy-button-inner">
<svg xmlns="http://www.w3.org/2000/svg" id="Layer_1" data-name="Layer 1" viewBox="0 0 12 12"><rect x="1" y="6" width="5" height="1"></rect><path d="M10,1H8A1,1,0,0,0,7,0H6A1,1,0,0,0,5,1H3A1,1,0,0,0,2,2V5H3V2H4V3H9V2h1v9H3V8H2v3a1,1,0,0,0,1,1h7a1,1,0,0,0,1-1V2A1,1,0,0,0,10,1ZM6.5,2.25a.75.75,0,1,1,.75-.75A.76.76,0,0,1,6.5,2.25Z"></path><path d="M6.32,6.32,4.43,4.43A.25.25,0,0,0,4,4.6V8.4a.25.25,0,0,0,.43.17L6.32,6.68A.25.25,0,0,0,6.32,6.32Z"></path></svg><strong class="copy-button-label"></strong><span class="tooltip hidden"> Copy to Clipboard</span>
</div></button>
<div class="content">
<pre>dtoverlay=adv728x-m,adv7280m=1</pre>
</div>
</div>
<div class="paragraph">
<p><em>Toshiba TC358743 HDMI to CSI2 bridge</em></p>
</div>
<div class="paragraph">
<p>This is a HDMI to CSI-2 bridge chip, capable of converting video data at up to 1080p60.</p>
</div>
<div class="paragraph">
<p>Information on this bridge chip can be found on the <a href="https://toshiba.semicon-storage.com/ap-en/semiconductor/product/interface-bridge-ics-for-mobile-peripheral-devices/hdmir-interface-bridge-ics/detail.TC358743XBG.html">Toshiba Website</a></p>
</div>
<div class="paragraph">
<p>The TC358743 interfaces HDMI in to CSI-2 and I2S outputs. It is supported by the <a href="https://github.com/raspberrypi/linux/blob/rpi-5.4.y/drivers/media/i2c/tc358743.c">TC358743 kernel module</a>.</p>
</div>
<div class="paragraph">
<p>The chip supports incoming HDMI signals as either RGB888, YUV444, or YUV422, at up to 1080p60. It can forward RGB888, or convert it to YUV444 or YUV422, and convert either way between YUV444 and YUV422. Only RGB888 and YUV422 support has been tested. When using 2 CSI-2 lanes, the maximum rates that can be supported are 1080p30 as RGB888, or 1080p50 as YUV422. When using 4 lanes on a Compute Module, 1080p60 can be received in either format.</p>
</div>
<div class="paragraph">
<p>HDMI negotiates the resolution by a receiving device advertising an <a href="https://en.wikipedia.org/wiki/Extended_Display_Identification_Data">EDID</a> of all the modes that it can support. The kernel driver has no knowledge of the resolutions, frame rates, or formats that you wish to receive, therefore it is up to the user to provide a suitable file.
This is done via the VIDIOC_S_EDID ioctl, or more easily using <code>v4l2-ctl --fix-edid-checksums --set-edid=file=filename.txt</code> (adding the --fix-edid-checksums option means that you dont have to get the checksum values correct in the source file). Generating the required EDID file (a textual hexdump of a binary EDID file) is not too onerous, and there are tools available to generate them, but it is beyond the scope of this page.</p>
</div>
<div class="paragraph">
<p>As described above, use the <code>DV_TIMINGS</code> ioctls to configure the driver to match the incoming video. The easiest approach for this is to use the command <code>v4l2-ctl --set-dv-bt-timings query</code>. The driver does support generating the SOURCE_CHANGED events should you wish to write an application to handle a changing source. Changing the output pixel format is achieved by setting it via VIDIOC_S_FMT, however only the pixel format field will be updated as the resolution is configured by the dv timings.</p>
</div>
<div class="paragraph">
<p>There are a couple of commercially available boards that connect this chip to the Raspberry Pi. The Auvidea B101 and B102 are the most widely obtainable, but other equivalent boards are available.</p>
</div>
<div class="paragraph">
<p>This driver is loaded using the <code>config.txt</code> dtoverlay <code>tc358743</code>.</p>
</div>
<div class="paragraph">
<p>The chip also supports capturing stereo HDMI audio via I2S. The Auvidea boards break the relevant signals out onto a header, which can be connected to the Raspberry Pis 40-pin header. The required wiring is:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Signal</th>
<th class="tableblock halign-center valign-top">B101 header</th>
<th class="tableblock halign-center valign-top">40-pin header</th>
<th class="tableblock halign-center valign-top">BCM GPIO</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">LRCK/WFS</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">7</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">35</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">19</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">BCK/SCK</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">6</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">12</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">18</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">DATA/SD</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">5</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">38</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">20</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">GND</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">8</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">39</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">N/A</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>The <code>tc358743-audio</code> overlay is required <em>in addition to</em> the <code>tc358743</code> overlay. This should create an ALSA recording device for the HDMI audio.
Please note that there is no resampling of the audio. The presence of audio is reflected in the V4L2 control TC358743_CID_AUDIO_PRESENT / "audio-present", and the sample rate of the incoming audio is reflected in the V4L2 control TC358743_CID_AUDIO_SAMPLING_RATE / "Audio sampling-frequency". Recording when no audio is present will generate warnings, as will recording at a sample rate different from that reported.</p>
</div>
</div>
</div>
</div>
</div>
</div>


      </section>
    </div>

    <div class="legal">
  <div class="legal-inner">
    <p id="copyright">Raspberry Pi documentation is copyright  2012-2022 Raspberry Pi Ltd and is licensed under a <a href="https://creativecommons.org/licenses/by-sa/4.0/">Creative Commons Attribution-ShareAlike 4.0 International</a> (CC BY-SA) licence.</p>
    <p id="copyright">Some content originates from the <a href="http://elinux.org/">eLinux wiki</a>, and is licensed under a <a href="http://creativecommons.org/licenses/by-sa/3.0/">Creative Commons Attribution-ShareAlike 3.0 Unported</a> licence.</p>
  </div>
</div>
 
    <style>
#__rptl-footer .__rptl-footer-link, #__rptl-footer .__rptl-footer-link--with-icon, #__rptl-footer .__rptl-footer-item, #__rptl-footer .__rptl-footer-list, #__rptl-footer .__rptl-footer-heading, #__rptl-footer .__rptl-footer-column, #__rptl-footer .__rptl-footer-row, #__rptl-footer .__rptl-footer-container, #__rptl-footer {
  box-sizing: border-box;
  margin: 0;
  padding: 0;
  border: 0;
  font: inherit;
  font-size: 100%;
  vertical-align: baseline;
}

#__rptl-footer {
  display: block;
  font-family: "Roboto", sans-serif;
  font-size: medium;
  font-weight: 400;
  line-height: 1.5;
  text-rendering: optimizeLegibility;
  -webkit-text-size-adjust: 100%;
     -moz-text-size-adjust: 100%;
          text-size-adjust: 100%;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  background: #f5f6f9;
  overflow: hidden;
}
#__rptl-footer .__rptl-footer-container {
  width: 100%;
  max-width: 1300px;
  padding-left: 16px;
  padding-right: 16px;
  margin: auto;
  margin-top: 32px;
}
@media (min-width: 800px) {
  #__rptl-footer .__rptl-footer-container {
    padding: 0 76px;
  }
}
@media (min-width: 1200px) {
  #__rptl-footer .__rptl-footer-container {
    padding: 0 84px;
  }
}
#__rptl-footer .__rptl-footer-row {
  display: flex;
  flex-wrap: wrap;
}
#__rptl-footer .__rptl-footer-column {
  flex-basis: 1;
  width: 100%;
  padding-right: 8px;
}
@media (min-width: 640px) {
  #__rptl-footer .__rptl-footer-column {
    width: 50%;
  }
}
@media (min-width: 1024px) {
  #__rptl-footer .__rptl-footer-column {
    width: 25%;
  }
}
#__rptl-footer .__rptl-footer-heading {
  font-weight: 700;
  color: #333333;
  margin-bottom: 8px;
}
#__rptl-footer .__rptl-footer-list {
  list-style: none;
  margin-bottom: 32px;
}
#__rptl-footer .__rptl-footer-item {
  margin-bottom: 8px;
}
#__rptl-footer .__rptl-footer-icon {
  margin-right: 0.5em;
  fill: #333;
}
#__rptl-footer .__rptl-footer-link, #__rptl-footer .__rptl-footer-link--with-icon {
  font-weight: 400;
  color: #333;
  text-decoration: none;
}
#__rptl-footer .__rptl-footer-link--with-icon {
  display: inline-flex;
  align-items: center;
}
#__rptl-footer .__rptl-footer-link:hover, #__rptl-footer .__rptl-footer-link--with-icon:hover {
  text-decoration: underline;
}
</style>
<footer id="__rptl-footer">
  <div class="__rptl-footer-container">
    <div class="__rptl-footer-row">
      <div class="__rptl-footer-column">
        <div class="__rptl-footer-heading">Follow us</div>
        <ul class="__rptl-footer-list">
          <li class="__rptl-footer-item">
            <a href="https://www.raspberrypi.com/weekly/" class="__rptl-footer-link--with-icon">
              <svg class="__rptl-footer-icon" aria-hidden="true" focusable="false" width="1.25em" height="1.25em" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M1 6v12a2 2 0 0 0 2 2h18a2 2 0 0 0 2-2V6a2 2 0 0 0-2-2H3a2 2 0 0 0-2 2Zm19.707 10.293a1 1 0 1 1-1.414 1.414L15 13.414l-.515.515a3.518 3.518 0 0 1-4.97 0L9 13.414l-4.293 4.293a1 1 0 0 1-1.414-1.414L7.586 12 3.293 7.707a1 1 0 0 1 1.414-1.414l5 5 1.222 1.222a1.516 1.516 0 0 0 2.142 0l1.222-1.222 5-5a1 1 0 0 1 1.414 1.414L16.414 12Z"></path></svg>
              Sign up to newsletter
            </a>
          </li>
          <li class="__rptl-footer-item">
            <a href="https://twitter.com/Raspberry_Pi" class="__rptl-footer-link--with-icon">
              <svg class="__rptl-footer-icon" aria-hidden="true" focusable="false" width="1.25em" height="1.25em" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2a10 10 0 1 0 10 10A10 10 0 0 0 12 2Zm4.72 7.982q.006.148.007.298a6.535 6.535 0 0 1-10.06 5.505 4.667 4.667 0 0 0 .547.032 4.61 4.61 0 0 0 2.854-.983 2.3 2.3 0 0 1-2.146-1.596 2.303 2.303 0 0 0 1.038-.04 2.3 2.3 0 0 1-1.844-2.253v-.029a2.285 2.285 0 0 0 1.041.288 2.3 2.3 0 0 1-.71-3.068 6.523 6.523 0 0 0 4.735 2.4 2.3 2.3 0 0 1 3.916-2.095 4.59 4.59 0 0 0 1.459-.558 2.306 2.306 0 0 1-1.01 1.272 4.601 4.601 0 0 0 1.32-.362 4.67 4.67 0 0 1-1.147 1.19Z"></path></svg>
              Twitter
            </a>
          </li>
          <li class="__rptl-footer-item">
            <a href="https://www.facebook.com/raspberrypi" class="__rptl-footer-link--with-icon">
              <svg class="__rptl-footer-icon" aria-hidden="true" focusable="false" width="1.25em" height="1.25em" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M22 12.06a10 10 0 1 0-11.563 9.88V14.95H7.899v-2.89h2.54V9.858a3.529 3.529 0 0 1 3.777-3.891 15.378 15.378 0 0 1 2.238.195v2.461h-1.26a1.445 1.445 0 0 0-1.63 1.562v1.876h2.773l-.443 2.89h-2.33v6.988A10.002 10.002 0 0 0 22 12.061Z"></path></svg>
              Facebook
            </a>
          </li>
          <li class="__rptl-footer-item">
            <a href="https://youtube.com/raspberrypi" class="__rptl-footer-link--with-icon">
              <svg class="__rptl-footer-icon" aria-hidden="true" focusable="false" width="1.25em" height="1.25em" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.751 15.27V8.73L15.498 12l-5.747 3.27Zm12.783-8.597a2.763 2.763 0 0 0-1.944-1.956C18.876 4.254 12 4.254 12 4.254s-6.876 0-8.59.463a2.763 2.763 0 0 0-1.944 1.956A28.982 28.982 0 0 0 1.006 12a28.982 28.982 0 0 0 .46 5.327 2.763 2.763 0 0 0 1.943 1.956c1.715.463 8.591.463 8.591.463s6.876 0 8.59-.463a2.763 2.763 0 0 0 1.944-1.956 28.98 28.98 0 0 0 .46-5.327 28.98 28.98 0 0 0-.46-5.327Z"></path></svg>
              YouTube
            </a>
          </li>
          <li class="__rptl-footer-item">
            <a href="https://www.instagram.com/raspberrypi/" class="__rptl-footer-link--with-icon">
              <svg class="__rptl-footer-icon" aria-hidden="true" focusable="false" width="1.25em" height="1.25em" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12.25 3.667c2.67 0 2.986.01 4.04.058a5.534 5.534 0 0 1 1.858.344 3.312 3.312 0 0 1 1.898 1.898 5.534 5.534 0 0 1 .344 1.857c.048 1.054.058 1.37.058 4.04s-.01 2.987-.058 4.042a5.534 5.534 0 0 1-.344 1.857 3.312 3.312 0 0 1-1.898 1.897 5.533 5.533 0 0 1-1.857.345c-1.054.048-1.37.058-4.041.058s-2.987-.01-4.04-.058a5.533 5.533 0 0 1-1.858-.345 3.312 3.312 0 0 1-1.898-1.897 5.534 5.534 0 0 1-.344-1.857c-.048-1.055-.058-1.371-.058-4.041s.01-2.987.058-4.041a5.534 5.534 0 0 1 .344-1.857A3.312 3.312 0 0 1 6.352 4.07a5.533 5.533 0 0 1 1.857-.344c1.055-.048 1.37-.058 4.041-.058m0-1.802c-2.716 0-3.056.011-4.123.06A7.34 7.34 0 0 0 5.7 2.39a5.113 5.113 0 0 0-2.925 2.924 7.34 7.34 0 0 0-.465 2.428c-.049 1.066-.06 1.407-.06 4.123s.011 3.056.06 4.123a7.34 7.34 0 0 0 .465 2.427A5.113 5.113 0 0 0 5.7 21.34a7.34 7.34 0 0 0 2.427.465c1.067.048 1.407.06 4.123.06s3.056-.012 4.123-.06a7.34 7.34 0 0 0 2.427-.465 5.113 5.113 0 0 0 2.925-2.925 7.34 7.34 0 0 0 .465-2.427c.048-1.067.06-1.407.06-4.123s-.012-3.057-.06-4.123a7.34 7.34 0 0 0-.465-2.428A5.113 5.113 0 0 0 18.8 2.39a7.34 7.34 0 0 0-2.427-.465c-1.067-.049-1.407-.06-4.123-.06Z"></path><path class="cls-1" d="M12.25 6.73a5.135 5.135 0 1 0 5.135 5.135A5.135 5.135 0 0 0 12.25 6.73Zm0 8.468a3.333 3.333 0 1 1 3.333-3.333 3.333 3.333 0 0 1-3.333 3.333Z"></path><circle cx="17.588" cy="6.527" r="1.2"></circle></svg>
              Instagram
            </a>
          </li>
          <li class="__rptl-footer--item">
            <a href="https://www.linkedin.com/company/raspberrypi/" class="__rptl-footer-link--with-icon">
              <svg class="__rptl-footer-icon" aria-hidden="true" focusable="false" width="1.25em" height="1.25em" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20.435 2.1H3.561a1.445 1.445 0 0 0-1.462 1.426v16.946a1.446 1.446 0 0 0 1.462 1.429h16.874a1.449 1.449 0 0 0 1.466-1.429V3.526A1.448 1.448 0 0 0 20.435 2.1ZM7.972 18.972H5.035v-9.45h2.937ZM6.504 8.23a1.703 1.703 0 1 1 1.702-1.703A1.703 1.703 0 0 1 6.504 8.23Zm12.468 10.742h-2.934v-4.596c0-1.096-.02-2.505-1.527-2.505-1.528 0-1.762 1.193-1.762 2.426v4.675H9.814v-9.45h2.817v1.291h.04a3.086 3.086 0 0 1 2.778-1.526c2.974 0 3.523 1.957 3.523 4.501Z"></path></svg>
              LinkedIn
            </a>
          </li>
        </ul>
      </div>
      <div class="__rptl-footer-column">
        <div class="__rptl-footer-heading">About Raspberry Pi</div>
        <ul class="__rptl-footer-list">
          <li class="__rptl-footer-item"><a href="https://www.raspberrypi.com/news/" class="__rptl-footer-link">News</a></li>
          <li class="__rptl-footer-item"><a href="https://www.raspberrypi.com/contact/" class="__rptl-footer-link">Contact us</a></li>
          <li class="__rptl-footer-item"><a href="https://www.raspberrypi.com/trademark-rules/" class="__rptl-footer-link">Trademark</a></li>
          <li class="__rptl-footer-item"><a href="https://www.raspberrypi.com/about/" class="__rptl-footer-link">About us</a></li>
          <li class="__rptl-footer-item"><a href="https://www.raspberrypi.com/jobs/" class="__rptl-footer-link">Jobs</a></li>
          <li class="__rptl-footer-item"><a href="https://www.raspberrypi.com/accessibility/" class="__rptl-footer-link">Accessibility</a></li>
          <li class="__rptl-footer-item"><a href="https://www.raspberrypi.com/cookies/" class="__rptl-footer-link">Cookies</a></li>
          <li class="__rptl-footer-item"><a href="https://www.raspberrypi.com/licensing/" class="__rptl-footer-link">Licensing</a></li>
          <li class="__rptl-footer-item"><a href="https://www.raspberrypi.com/terms-conditions-sale/" class="__rptl-footer-link">Terms and conditions of sale</a></li>
          <li class="__rptl-footer-item"><a href="https://www.raspberrypi.com/privacy/" class="__rptl-footer-link">Privacy</a></li>
          <li class="__rptl-footer-item"><a href="https://www.raspberrypi.com/contact/security/" class="__rptl-footer-link">Security</a></li>
        </ul>
      </div>
      <div class="__rptl-footer-column">
        <div class="__rptl-footer-heading">For home</div>
        <ul class="__rptl-footer-list">
          <li class="__rptl-footer-item"><a href="https://www.raspberrypi.com/for-home/" class="__rptl-footer-link">Raspberry Pi for home</a></li>
        </ul>
        <div class="__rptl-footer-heading">For industry</div>
        <ul class="__rptl-footer-list">
          <li class="__rptl-footer-item"><a href="https://www.raspberrypi.com/for-industry/" class="__rptl-footer-link">Raspberry Pi for industry</a></li>
          <li class="__rptl-footer-item"><a href="https://www.raspberrypi.com/for-industry/thin-clients/" class="__rptl-footer-link">Thin clients</a></li>
          <li class="__rptl-footer-item"><a href="https://www.raspberrypi.com/for-industry/integrator-programme/" class="__rptl-footer-link">Powered by Raspberry Pi</a></li>
          <li class="__rptl-footer-item"><a href="https://www.raspberrypi.com/for-industry/design-partners/" class="__rptl-footer-link">Design partners</a></li>
          <li class="__rptl-footer-item"><a href="https://www.raspberrypi.com/success-stories/" class="__rptl-footer-link">Success stories</a></li>
        </ul>
        <div class="__rptl-footer-heading">Hardware</div>
        <ul class="__rptl-footer-list">
          <li class="__rptl-footer-item"><a href="https://www.raspberrypi.com/products/#raspberry-pi-computers-and-microcontrollers" class="__rptl-footer-link">Computers and microcontrollers</a></li>
          <li class="__rptl-footer-item"><a href="https://www.raspberrypi.com/products/#cameras-and-displays" class="__rptl-footer-link">Cameras and displays</a></li>
          <li class="__rptl-footer-item"><a href="https://www.raspberrypi.com/products/#add-on-boards" class="__rptl-footer-link">Add-on boards</a></li>
          <li class="__rptl-footer-item"><a href="https://www.raspberrypi.com/products/#power-supplies-and-cables" class="__rptl-footer-link">Power supplies and cables</a></li>
          <li class="__rptl-footer-item"><a href="https://www.raspberrypi.com/products/#cases" class="__rptl-footer-link">Cases</a></li>
          <li class="__rptl-footer-item"><a href="https://www.raspberrypi.com/products/#peripherals" class="__rptl-footer-link">Peripherals</a></li>
        </ul>
        <div class="__rptl-footer-heading">Software</div>
        <ul class="__rptl-footer-list">
          <li class="__rptl-footer-item"><a href="https://www.raspberrypi.com/software/operating-systems/#raspberry-pi-os-32-bit" class="__rptl-footer-link">Raspberry Pi OS</a></li>
          <li class="__rptl-footer-item"><a href="https://www.raspberrypi.com/software/" class="__rptl-footer-link">Raspberry Pi Imager</a></li>
          <li class="__rptl-footer-item"><a href="https://www.raspberrypi.com/software/raspberry-pi-desktop/" class="__rptl-footer-link">Raspberry Pi Desktop</a></li>
        </ul>
      </div>
      <div class="__rptl-footer-column">
        <div class="__rptl-footer-heading">Documentation</div>
        <ul class="__rptl-footer-list">
          <li class="__rptl-footer-item"><a href="https://www.raspberrypi.com/documentation/" class="__rptl-footer-link">All categories</a></li>
          <li class="__rptl-footer-item"><a href="https://pip.raspberrypi.com/" class="__rptl-footer-link">Product information portal</a></li>
          <li class="__rptl-footer-item"><a href="https://datasheets.raspberrypi.com/" class="__rptl-footer-link">Datasheets</a></li>
        </ul>
        <div class="__rptl-footer-heading">Forums</div>
        <ul class="__rptl-footer-list">
          <li class="__rptl-footer-item"><a href="https://forums.raspberrypi.com/" class="__rptl-footer-link">All forums</a></li>
        </ul>
        <div class="__rptl-footer-heading">Raspberry Pi Store</div>
        <ul class="__rptl-footer-list">
          <li class="__rptl-footer-item"><a href="https://www.raspberrypi.com/raspberry-pi-store/" class="__rptl-footer-link">Cambridge Store</a></li>
        </ul>
        <div class="__rptl-footer-heading">Raspberry Pi Press</div>
        <ul class="__rptl-footer-list">
          <li class="__rptl-footer-item"><a href="https://www.raspberrypi.com/books-magazines/" class="__rptl-footer-link">About Raspberry Pi Press</a></li>
          <li class="__rptl-footer-item"><a href="https://magpi.raspberrypi.com/" class="__rptl-footer-link">The MagPi</a></li>
          <li class="__rptl-footer-item"><a href="https://hackspace.raspberrypi.com/" class="__rptl-footer-link">HackSpace</a></li>
          <li class="__rptl-footer-item"><a href="https://wireframe.raspberrypi.com/" class="__rptl-footer-link">Wireframe</a></li>
          <li class="__rptl-footer-item"><a href="https://custompc.raspberrypi.com/" class="__rptl-footer-link">Custom PC</a></li>
        </ul>
      </div>
    </div>
  </div>
</footer>
  
    <!-- Script for the TOC toggle -->
<script src="./Raspberry Pi Documentation - Camera_files/nav.js.download" type="text/javascript"></script>

<!-- TOCify scripts -->
<script src="./Raspberry Pi Documentation - Camera_files/jquery-1.12.4.min.js.download"></script>
<script src="./Raspberry Pi Documentation - Camera_files/jquery-ui-1.13.0.custom.min.js.download"></script>
<script src="./Raspberry Pi Documentation - Camera_files/jquery.tocify.min.js.download"></script>

<!-- Copy To Clipboard scripts -->
<script src="./Raspberry Pi Documentation - Camera_files/clipboard.min.js.download"></script>
<script src="./Raspberry Pi Documentation - Camera_files/copy-to-clipboard.js.download"></script>

<script>
  function hasher(text, element) {
    return text.toLowerCase().replace(/ /g, "-").replace(/\./g, "-").replace(/[^-\w]/g, "").replace(/-+/g, "-");
  }
  $(function() {
    $("#toc").tocify({ showAndHide: false, hashGenerator: hasher, extendPage: false, ignoreSelector: ".discrete" });
  });
</script>

<script>
  var contents = document.getElementById("contents");
  contents.addEventListener('mouseenter', e => {
    contents.style.overflowY = 'auto';
  });

  contents.addEventListener('mouseleave', e => {
    contents.style.overflowY = 'hidden';
  });
</script>

    <script src="./Raspberry Pi Documentation - Camera_files/js@alpha"></script>
<script type="text/javascript">
  docsearch({
    appId: 'IHWGNTJ1NP',
    apiKey: '94f8e1d1619229399fe8b33bcf750dfd',
    indexName: 'raspberrypi',
    container: '#docsearch'
  });
</script>


  

</body></html>